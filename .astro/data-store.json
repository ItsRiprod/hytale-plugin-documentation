[["Map",1,2,9,10],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.16.11","content-config-digest","9a95ec2e8398aaca","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://doctale.dev\",\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"where\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":false,\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[null,null,null],\"rehypePlugins\":[[null,{\"experimentalHeadingIdCompat\":false}],null,[null,{\"themes\":[{\"name\":\"Night Owl No Italics\",\"type\":\"dark\",\"colors\":{\"focusBorder\":\"#122d42\",\"foreground\":\"#d6deeb\",\"disabledForeground\":\"#cccccc80\",\"descriptionForeground\":\"#d6deebb3\",\"errorForeground\":\"#ef5350\",\"icon.foreground\":\"#c5c5c5\",\"contrastActiveBorder\":null,\"contrastBorder\":\"#122d42\",\"textBlockQuote.background\":\"#7f7f7f1a\",\"textBlockQuote.border\":\"#007acc80\",\"textCodeBlock.background\":\"#4f4f4f\",\"textLink.activeForeground\":\"#3794ff\",\"textLink.foreground\":\"#3794ff\",\"textPreformat.foreground\":\"#d7ba7d\",\"textSeparator.foreground\":\"#ffffff2e\",\"editor.background\":\"#23262f\",\"editor.foreground\":\"#d6deeb\",\"editorLineNumber.foreground\":\"#4b6479\",\"editorLineNumber.activeForeground\":\"#c5e4fd\",\"editorActiveLineNumber.foreground\":\"#c6c6c6\",\"editor.selectionBackground\":\"#1d3b53\",\"editor.inactiveSelectionBackground\":\"#7e57c25a\",\"editor.selectionHighlightBackground\":\"#5f7e9779\",\"editorError.foreground\":\"#ef5350\",\"editorWarning.foreground\":\"#b39554\",\"editorInfo.foreground\":\"#3794ff\",\"editorHint.foreground\":\"#eeeeeeb2\",\"problemsErrorIcon.foreground\":\"#ef5350\",\"problemsWarningIcon.foreground\":\"#b39554\",\"problemsInfoIcon.foreground\":\"#3794ff\",\"editor.findMatchBackground\":\"#5f7e9779\",\"editor.findMatchHighlightBackground\":\"#1085bb5d\",\"editor.findRangeHighlightBackground\":\"#3a3d4166\",\"editorLink.activeForeground\":\"#4e94ce\",\"editorLightBulb.foreground\":\"#ffcc00\",\"editorLightBulbAutoFix.foreground\":\"#75beff\",\"diffEditor.insertedTextBackground\":\"#99b76d23\",\"diffEditor.insertedTextBorder\":\"#c5e47833\",\"diffEditor.removedTextBackground\":\"#ef535033\",\"diffEditor.removedTextBorder\":\"#ef53504d\",\"diffEditor.insertedLineBackground\":\"#9bb95533\",\"diffEditor.removedLineBackground\":\"#ff000033\",\"editorStickyScroll.background\":\"#011627\",\"editorStickyScrollHover.background\":\"#2a2d2e\",\"editorInlayHint.background\":\"#5f7e97cc\",\"editorInlayHint.foreground\":\"#ffffff\",\"editorInlayHint.typeBackground\":\"#5f7e97cc\",\"editorInlayHint.typeForeground\":\"#ffffff\",\"editorInlayHint.parameterBackground\":\"#5f7e97cc\",\"editorInlayHint.parameterForeground\":\"#ffffff\",\"editorPane.background\":\"#011627\",\"editorGroup.emptyBackground\":\"#011627\",\"editorGroup.focusedEmptyBorder\":null,\"editorGroupHeader.tabsBackground\":\"var(--sl-color-black)\",\"editorGroupHeader.tabsBorder\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"editorGroupHeader.noTabsBackground\":\"#011627\",\"editorGroupHeader.border\":null,\"editorGroup.border\":\"#011627\",\"editorGroup.dropBackground\":\"#7e57c273\",\"editorGroup.dropIntoPromptForeground\":\"#d6deeb\",\"editorGroup.dropIntoPromptBackground\":\"#021320\",\"editorGroup.dropIntoPromptBorder\":null,\"sideBySideEditor.horizontalBorder\":\"#011627\",\"sideBySideEditor.verticalBorder\":\"#011627\",\"scrollbar.shadow\":\"#010b14\",\"scrollbarSlider.background\":\"#ffffff17\",\"scrollbarSlider.hoverBackground\":\"#ffffff40\",\"scrollbarSlider.activeBackground\":\"#084d8180\",\"panel.background\":\"#011627\",\"panel.border\":\"#5f7e97\",\"panelTitle.activeBorder\":\"#5f7e97\",\"panelTitle.activeForeground\":\"#ffffffcc\",\"panelTitle.inactiveForeground\":\"#d6deeb80\",\"panelSectionHeader.background\":\"#80808051\",\"terminal.background\":\"#011627\",\"widget.shadow\":\"#011627\",\"editorWidget.background\":\"#021320\",\"editorWidget.foreground\":\"#d6deeb\",\"editorWidget.border\":\"#5f7e97\",\"quickInput.background\":\"#021320\",\"quickInput.foreground\":\"#d6deeb\",\"quickInputTitle.background\":\"#ffffff1a\",\"pickerGroup.foreground\":\"#d1aaff\",\"pickerGroup.border\":\"#011627\",\"editor.hoverHighlightBackground\":\"#7e57c25a\",\"editorHoverWidget.background\":\"#011627\",\"editorHoverWidget.foreground\":\"#d6deeb\",\"editorHoverWidget.border\":\"#5f7e97\",\"editorHoverWidget.statusBarBackground\":\"#011a2f\",\"titleBar.activeBackground\":\"var(--sl-color-black)\",\"titleBar.activeForeground\":\"var(--sl-color-text)\",\"titleBar.inactiveBackground\":\"#010e1a\",\"titleBar.inactiveForeground\":\"#eeefff99\",\"titleBar.border\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"toolbar.hoverBackground\":\"#5a5d5e50\",\"toolbar.activeBackground\":\"#63666750\",\"tab.activeBackground\":\"#0b2942\",\"tab.unfocusedActiveBackground\":\"#0b2942\",\"tab.inactiveBackground\":\"#01111d\",\"tab.unfocusedInactiveBackground\":\"#01111d\",\"tab.activeForeground\":\"var(--sl-color-text)\",\"tab.inactiveForeground\":\"#5f7e97\",\"tab.unfocusedActiveForeground\":\"#5f7e97\",\"tab.unfocusedInactiveForeground\":\"#5f7e97\",\"tab.hoverBackground\":null,\"tab.unfocusedHoverBackground\":null,\"tab.hoverForeground\":null,\"tab.unfocusedHoverForeground\":null,\"tab.border\":\"#272b3b\",\"tab.lastPinnedBorder\":\"#585858\",\"tab.activeBorder\":\"transparent\",\"tab.unfocusedActiveBorder\":\"#262a39\",\"tab.activeBorderTop\":\"var(--sl-color-accent-high)\",\"tab.unfocusedActiveBorderTop\":null,\"tab.hoverBorder\":null,\"tab.unfocusedHoverBorder\":null,\"tab.activeModifiedBorder\":\"#3399cc\",\"tab.inactiveModifiedBorder\":\"#3399cc80\",\"tab.unfocusedActiveModifiedBorder\":\"#3399cc80\",\"tab.unfocusedInactiveModifiedBorder\":\"#3399cc40\",\"badge.background\":\"#5f7e97\",\"badge.foreground\":\"#ffffff\",\"button.background\":\"#7e57c2cc\",\"button.foreground\":\"#ffffffcc\",\"button.border\":\"#122d42\",\"button.separator\":\"#ffffff52\",\"button.hoverBackground\":\"#7e57c2\",\"button.secondaryBackground\":\"#3a3d41\",\"button.secondaryForeground\":\"#ffffff\",\"button.secondaryHoverBackground\":\"#46494e\",\"dropdown.background\":\"#011627\",\"dropdown.foreground\":\"#ffffffcc\",\"dropdown.border\":\"#5f7e97\",\"list.activeSelectionBackground\":\"#234d708c\",\"list.activeSelectionForeground\":\"#ffffff\",\"tree.indentGuidesStroke\":\"#585858\",\"input.background\":\"#0b253a\",\"input.foreground\":\"#ffffffcc\",\"input.placeholderForeground\":\"#5f7e97\",\"inputOption.activeBorder\":\"#ffffffcc\",\"inputOption.hoverBackground\":\"#5a5d5e80\",\"inputOption.activeBackground\":\"#122d4266\",\"inputOption.activeForeground\":\"#ffffff\",\"inputValidation.infoBackground\":\"#00589ef2\",\"inputValidation.infoBorder\":\"#64b5f6\",\"inputValidation.warningBackground\":\"#675700f2\",\"inputValidation.warningBorder\":\"#ffca28\",\"inputValidation.errorBackground\":\"#ab0300f2\",\"inputValidation.errorBorder\":\"#ef5350\",\"keybindingLabel.background\":\"#8080802b\",\"keybindingLabel.foreground\":\"#cccccc\",\"keybindingLabel.border\":\"#33333399\",\"keybindingLabel.bottomBorder\":\"#44444499\",\"menu.foreground\":\"#ffffffcc\",\"menu.background\":\"#011627\",\"menu.selectionForeground\":\"#ffffff\",\"menu.selectionBackground\":\"#234d708c\",\"menu.separatorBackground\":\"#606060\",\"editor.snippetTabstopHighlightBackground\":\"#7c7c74c\",\"editor.snippetFinalTabstopHighlightBorder\":\"#525252\",\"terminal.ansiBlack\":\"#011627\",\"terminal.ansiRed\":\"#ef5350\",\"terminal.ansiGreen\":\"#22da6e\",\"terminal.ansiYellow\":\"#c5e478\",\"terminal.ansiBlue\":\"#82aaff\",\"terminal.ansiMagenta\":\"#c792ea\",\"terminal.ansiCyan\":\"#21c7a8\",\"terminal.ansiWhite\":\"#ffffff\",\"terminal.ansiBrightBlack\":\"#575656\",\"terminal.ansiBrightRed\":\"#ef5350\",\"terminal.ansiBrightGreen\":\"#22da6e\",\"terminal.ansiBrightYellow\":\"#ffeb95\",\"terminal.ansiBrightBlue\":\"#82aaff\",\"terminal.ansiBrightMagenta\":\"#c792ea\",\"terminal.ansiBrightCyan\":\"#7fdbca\",\"terminal.ansiBrightWhite\":\"#ffffff\",\"selection.background\":\"#4373c2\",\"input.border\":\"#5f7e97\",\"punctuation.definition.generic.begin.html\":\"#ef5350f2\",\"progress.background\":\"#7e57c2\",\"breadcrumb.foreground\":\"#a599e9\",\"breadcrumb.focusForeground\":\"#ffffff\",\"breadcrumb.activeSelectionForeground\":\"#ffffff\",\"breadcrumbPicker.background\":\"#001122\",\"list.invalidItemForeground\":\"#975f94\",\"list.dropBackground\":\"#011627\",\"list.focusBackground\":\"#010d18\",\"list.focusForeground\":\"#ffffff\",\"list.highlightForeground\":\"#ffffff\",\"list.hoverBackground\":\"#011627\",\"list.hoverForeground\":\"#ffffff\",\"list.inactiveSelectionBackground\":\"#0e293f\",\"list.inactiveSelectionForeground\":\"#5f7e97\",\"activityBar.background\":\"#011627\",\"activityBar.dropBackground\":\"#5f7e97\",\"activityBar.foreground\":\"#5f7e97\",\"activityBar.border\":\"#011627\",\"activityBarBadge.background\":\"#44596b\",\"activityBarBadge.foreground\":\"#ffffff\",\"sideBar.background\":\"#011627\",\"sideBar.foreground\":\"#89a4bb\",\"sideBar.border\":\"#011627\",\"sideBarTitle.foreground\":\"#5f7e97\",\"sideBarSectionHeader.background\":\"#011627\",\"sideBarSectionHeader.foreground\":\"#5f7e97\",\"editorCursor.foreground\":\"#80a4c2\",\"editor.wordHighlightBackground\":\"#f6bbe533\",\"editor.wordHighlightStrongBackground\":\"#e2a2f433\",\"editor.lineHighlightBackground\":\"#0003\",\"editor.rangeHighlightBackground\":\"#7e57c25a\",\"editorIndentGuide.background\":\"#5e81ce52\",\"editorIndentGuide.activeBackground\":\"#7e97ac\",\"editorRuler.foreground\":\"#5e81ce52\",\"editorCodeLens.foreground\":\"#5e82ceb4\",\"editorBracketMatch.background\":\"#5f7e974d\",\"editorOverviewRuler.currentContentForeground\":\"#7e57c2\",\"editorOverviewRuler.incomingContentForeground\":\"#7e57c2\",\"editorOverviewRuler.commonContentForeground\":\"#7e57c2\",\"editorGutter.background\":\"#011627\",\"editorGutter.modifiedBackground\":\"#e2b93d\",\"editorGutter.addedBackground\":\"#9ccc65\",\"editorGutter.deletedBackground\":\"#ef5350\",\"editorSuggestWidget.background\":\"#2c3043\",\"editorSuggestWidget.border\":\"#2b2f40\",\"editorSuggestWidget.foreground\":\"#d6deeb\",\"editorSuggestWidget.highlightForeground\":\"#ffffff\",\"editorSuggestWidget.selectedBackground\":\"#5f7e97\",\"debugExceptionWidget.background\":\"#011627\",\"debugExceptionWidget.border\":\"#5f7e97\",\"editorMarkerNavigation.background\":\"#0b2942\",\"editorMarkerNavigationError.background\":\"#ef5350\",\"editorMarkerNavigationWarning.background\":\"#ffca28\",\"peekView.border\":\"#5f7e97\",\"peekViewEditor.background\":\"#011627\",\"peekViewEditor.matchHighlightBackground\":\"#7e57c25a\",\"peekViewResult.background\":\"#011627\",\"peekViewResult.fileForeground\":\"#5f7e97\",\"peekViewResult.lineForeground\":\"#5f7e97\",\"peekViewResult.matchHighlightBackground\":\"#ffffffcc\",\"peekViewResult.selectionBackground\":\"#2e3250\",\"peekViewResult.selectionForeground\":\"#5f7e97\",\"peekViewTitle.background\":\"#011627\",\"peekViewTitleDescription.foreground\":\"#697098\",\"peekViewTitleLabel.foreground\":\"#5f7e97\",\"merge.currentHeaderBackground\":\"#5f7e97\",\"merge.incomingHeaderBackground\":\"#7e57c25a\",\"statusBar.background\":\"#011627\",\"statusBar.foreground\":\"#5f7e97\",\"statusBar.border\":\"#262a39\",\"statusBar.debuggingBackground\":\"#202431\",\"statusBar.debuggingBorder\":\"#1f2330\",\"statusBar.noFolderBackground\":\"#011627\",\"statusBar.noFolderBorder\":\"#25293a\",\"statusBarItem.activeBackground\":\"#202431\",\"statusBarItem.hoverBackground\":\"#202431\",\"statusBarItem.prominentBackground\":\"#202431\",\"statusBarItem.prominentHoverBackground\":\"#202431\",\"notifications.background\":\"#01111d\",\"notifications.border\":\"#262a39\",\"notificationCenter.border\":\"#262a39\",\"notificationToast.border\":\"#262a39\",\"notifications.foreground\":\"#ffffffcc\",\"notificationLink.foreground\":\"#80cbc4\",\"extensionButton.prominentForeground\":\"#ffffffcc\",\"extensionButton.prominentBackground\":\"#7e57c2cc\",\"extensionButton.prominentHoverBackground\":\"#7e57c2\",\"terminal.selectionBackground\":\"#1b90dd4d\",\"terminalCursor.background\":\"#234d70\",\"debugToolBar.background\":\"#011627\",\"welcomePage.buttonBackground\":\"#011627\",\"welcomePage.buttonHoverBackground\":\"#011627\",\"walkThrough.embeddedEditorBackground\":\"#011627\",\"gitDecoration.modifiedResourceForeground\":\"#a2bffc\",\"gitDecoration.deletedResourceForeground\":\"#ef535090\",\"gitDecoration.untrackedResourceForeground\":\"#c5e478ff\",\"gitDecoration.ignoredResourceForeground\":\"#395a75\",\"gitDecoration.conflictingResourceForeground\":\"#ffeb95cc\",\"source.elm\":\"#5f7e97\",\"string.quoted.single.js\":\"#ffffff\",\"meta.objectliteral.js\":\"#82aaff\"},\"fg\":\"#d6deeb\",\"bg\":\"#23262f\",\"semanticHighlighting\":false,\"settings\":[{\"name\":\"Changed\",\"scope\":[\"markup.changed\",\"meta.diff.header.git\",\"meta.diff.header.from-file\",\"meta.diff.header.to-file\"],\"settings\":{\"foreground\":\"#a2bffc\"}},{\"name\":\"Deleted\",\"scope\":[\"markup.deleted.diff\"],\"settings\":{\"foreground\":\"#f27775fe\"}},{\"name\":\"Inserted\",\"scope\":[\"markup.inserted.diff\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Global settings\",\"settings\":{\"background\":\"#011627\",\"foreground\":\"#d6deeb\"}},{\"name\":\"Comment\",\"scope\":[\"comment\"],\"settings\":{\"foreground\":\"#919f9f\",\"fontStyle\":\"\"}},{\"name\":\"String\",\"scope\":[\"string\"],\"settings\":{\"foreground\":\"#ecc48d\"}},{\"name\":\"String Quoted\",\"scope\":[\"string.quoted\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#ecc48d\"}},{\"name\":\"Support Constant Math\",\"scope\":[\"support.constant.math\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Number\",\"scope\":[\"constant.numeric\",\"constant.character.numeric\"],\"settings\":{\"foreground\":\"#f78c6c\",\"fontStyle\":\"\"}},{\"name\":\"Built-in constant\",\"scope\":[\"constant.language\",\"punctuation.definition.constant\",\"variable.other.constant\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"User-defined constant\",\"scope\":[\"constant.character\",\"constant.other\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Constant Character Escape\",\"scope\":[\"constant.character.escape\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"RegExp String\",\"scope\":[\"string.regexp\",\"string.regexp keyword.other\"],\"settings\":{\"foreground\":\"#5ca7e4\"}},{\"name\":\"Comma in functions\",\"scope\":[\"meta.function punctuation.separator.comma\"],\"settings\":{\"foreground\":\"#889fb2\"}},{\"name\":\"Variable\",\"scope\":[\"variable\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Keyword\",\"scope\":[\"punctuation.accessor\",\"keyword\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Storage\",\"scope\":[\"storage\",\"meta.var.expr\",\"meta.class meta.method.declaration meta.var.expr storage.type.js\",\"storage.type.property.js\",\"storage.type.property.ts\",\"storage.type.property.tsx\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type.function.arrow.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Class name\",\"scope\":[\"entity.name.class\",\"meta.class entity.name.type.class\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Inherited class\",\"scope\":[\"entity.other.inherited-class\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Function name\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Meta Tag\",\"scope\":[\"punctuation.definition.tag\",\"meta.tag\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"HTML Tag names\",\"scope\":[\"entity.name.tag\",\"meta.tag.other.html\",\"meta.tag.other.js\",\"meta.tag.other.tsx\",\"entity.name.tag.tsx\",\"entity.name.tag.js\",\"entity.name.tag\",\"meta.tag.js\",\"meta.tag.tsx\",\"meta.tag.html\"],\"settings\":{\"foreground\":\"#caece6\",\"fontStyle\":\"\"}},{\"name\":\"Tag attribute\",\"scope\":[\"entity.other.attribute-name\"],\"settings\":{\"fontStyle\":\"\",\"foreground\":\"#c5e478\"}},{\"name\":\"Entity Name Tag Custom\",\"scope\":[\"entity.name.tag.custom\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Library (function & constant)\",\"scope\":[\"support.function\",\"support.constant\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Support Constant Property Value meta\",\"scope\":[\"support.constant.meta.property-value\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Library class/type\",\"scope\":[\"support.type\",\"support.class\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Support Variable DOM\",\"scope\":[\"support.variable.dom\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Invalid\",\"scope\":[\"invalid\"],\"settings\":{\"background\":\"#ff2c83\",\"foreground\":\"#ffffff\"}},{\"name\":\"Invalid deprecated\",\"scope\":[\"invalid.deprecated\"],\"settings\":{\"foreground\":\"#ffffff\",\"background\":\"#d3423e\"}},{\"name\":\"Keyword Operator\",\"scope\":[\"keyword.operator\"],\"settings\":{\"foreground\":\"#7fdbca\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Relational\",\"scope\":[\"keyword.operator.relational\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Assignment\",\"scope\":[\"keyword.operator.assignment\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Arithmetic\",\"scope\":[\"keyword.operator.arithmetic\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Bitwise\",\"scope\":[\"keyword.operator.bitwise\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Increment\",\"scope\":[\"keyword.operator.increment\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Keyword Operator Ternary\",\"scope\":[\"keyword.operator.ternary\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Double-Slashed Comment\",\"scope\":[\"comment.line.double-slash\"],\"settings\":{\"foreground\":\"#919f9f\"}},{\"name\":\"Object\",\"scope\":[\"object\"],\"settings\":{\"foreground\":\"#cdebf7\"}},{\"name\":\"Null\",\"scope\":[\"constant.language.null\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Meta Brace\",\"scope\":[\"meta.brace\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Meta Delimiter Period\",\"scope\":[\"meta.delimiter.period\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Punctuation Definition String\",\"scope\":[\"punctuation.definition.string\"],\"settings\":{\"foreground\":\"#d9f5dd\"}},{\"name\":\"Punctuation Definition String Markdown\",\"scope\":[\"punctuation.definition.string.begin.markdown\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Boolean\",\"scope\":[\"constant.language.boolean\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Object Comma\",\"scope\":[\"object.comma\"],\"settings\":{\"foreground\":\"#ffffff\"}},{\"name\":\"Variable Parameter Function\",\"scope\":[\"variable.parameter.function\"],\"settings\":{\"foreground\":\"#7fdbca\",\"fontStyle\":\"\"}},{\"name\":\"Support Type Property Name & entity name tags\",\"scope\":[\"support.type.vendor.property-name\",\"support.constant.vendor.property-value\",\"support.type.property-name\",\"meta.property-list entity.name.tag\"],\"settings\":{\"foreground\":\"#80cbc4\",\"fontStyle\":\"\"}},{\"name\":\"Entity Name tag reference in stylesheets\",\"scope\":[\"meta.property-list entity.name.tag.reference\"],\"settings\":{\"foreground\":\"#57eaf1\"}},{\"name\":\"Constant Other Color RGB Value Punctuation Definition Constant\",\"scope\":[\"constant.other.color.rgb-value punctuation.definition.constant\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Constant Other Color\",\"scope\":[\"constant.other.color\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Keyword Other Unit\",\"scope\":[\"keyword.other.unit\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Meta Selector\",\"scope\":[\"meta.selector\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Entity Other Attribute Name Id\",\"scope\":[\"entity.other.attribute-name.id\"],\"settings\":{\"foreground\":\"#fad430\"}},{\"name\":\"Meta Property Name\",\"scope\":[\"meta.property-name\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"Doctypes\",\"scope\":[\"entity.name.tag.doctype\",\"meta.tag.sgml.doctype\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Punctuation Definition Parameters\",\"scope\":[\"punctuation.definition.parameters\"],\"settings\":{\"foreground\":\"#d9f5dd\"}},{\"name\":\"Keyword Control Operator\",\"scope\":[\"keyword.control.operator\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Keyword Operator Logical\",\"scope\":[\"keyword.operator.logical\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Variable Instances\",\"scope\":[\"variable.instance\",\"variable.other.instance\",\"variable.readwrite.instance\",\"variable.other.readwrite.instance\",\"variable.other.property\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Variable Property Other object property\",\"scope\":[\"variable.other.object.property\"],\"settings\":{\"foreground\":\"#faf39f\",\"fontStyle\":\"\"}},{\"name\":\"Variable Property Other object\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Entity Name Function\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#82aaff\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Comparison, returns, imports, and Keyword Operator Ruby\",\"scope\":[\"keyword.control.conditional.js\",\"keyword.operator.comparison\",\"keyword.control.flow.js\",\"keyword.control.flow.ts\",\"keyword.control.flow.tsx\",\"keyword.control.ruby\",\"keyword.control.def.ruby\",\"keyword.control.loop.js\",\"keyword.control.loop.ts\",\"keyword.control.import.js\",\"keyword.control.import.ts\",\"keyword.control.import.tsx\",\"keyword.control.from.js\",\"keyword.control.from.ts\",\"keyword.control.from.tsx\",\"keyword.control.conditional.js\",\"keyword.control.conditional.ts\",\"keyword.control.switch.js\",\"keyword.control.switch.ts\",\"keyword.operator.instanceof.js\",\"keyword.operator.expression.instanceof.ts\",\"keyword.operator.expression.instanceof.tsx\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Support Constant, `new` keyword, Special Method Keyword, `debugger`, other keywords\",\"scope\":[\"support.constant\",\"keyword.other.special-method\",\"keyword.other.new\",\"keyword.other.debugger\",\"keyword.control\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Support Function\",\"scope\":[\"support.function\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Invalid Broken\",\"scope\":[\"invalid.broken\"],\"settings\":{\"foreground\":\"#989da0\",\"background\":\"#F78C6C\"}},{\"name\":\"Invalid Unimplemented\",\"scope\":[\"invalid.unimplemented\"],\"settings\":{\"background\":\"#8BD649\",\"foreground\":\"#ffffff\"}},{\"name\":\"Invalid Illegal\",\"scope\":[\"invalid.illegal\"],\"settings\":{\"foreground\":\"#ffffff\",\"background\":\"#ec5f67\"}},{\"name\":\"Language Variable\",\"scope\":[\"variable.language\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Support Variable Property\",\"scope\":[\"support.variable.property\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Variable Function\",\"scope\":[\"variable.function\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Variable Interpolation\",\"scope\":[\"variable.interpolation\"],\"settings\":{\"foreground\":\"#ef787f\"}},{\"name\":\"Meta Function Call\",\"scope\":[\"meta.function-call\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Punctuation Section Embedded\",\"scope\":[\"punctuation.section.embedded\"],\"settings\":{\"foreground\":\"#e2817f\"}},{\"name\":\"Punctuation Tweaks\",\"scope\":[\"punctuation.terminator.expression\",\"punctuation.definition.arguments\",\"punctuation.definition.array\",\"punctuation.section.array\",\"meta.array\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"More Punctuation Tweaks\",\"scope\":[\"punctuation.definition.list.begin\",\"punctuation.definition.list.end\",\"punctuation.separator.arguments\",\"punctuation.definition.list\"],\"settings\":{\"foreground\":\"#d9f5dd\"}},{\"name\":\"Template Strings\",\"scope\":[\"string.template meta.template.expression\"],\"settings\":{\"foreground\":\"#e2817f\"}},{\"name\":\"Backticks(``) in Template Strings\",\"scope\":[\"string.template punctuation.definition.string\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Italics\",\"scope\":[\"italic\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"italic\"}},{\"name\":\"Bold\",\"scope\":[\"bold\"],\"settings\":{\"foreground\":\"#c5e478\",\"fontStyle\":\"bold\"}},{\"name\":\"Quote\",\"scope\":[\"quote\"],\"settings\":{\"foreground\":\"#969bb7\",\"fontStyle\":\"\"}},{\"name\":\"Raw Code\",\"scope\":[\"raw\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"CoffeeScript Variable Assignment\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#31e1eb\"}},{\"name\":\"CoffeeScript Parameter Function\",\"scope\":[\"variable.parameter.function.coffee\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"CoffeeScript Assignments\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"C# Readwrite Variables\",\"scope\":[\"variable.other.readwrite.cs\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"C# Classes & Storage types\",\"scope\":[\"entity.name.type.class.cs\",\"storage.type.cs\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"C# Namespaces\",\"scope\":[\"entity.name.type.namespace.cs\"],\"settings\":{\"foreground\":\"#b2ccd6\"}},{\"name\":\"C# Unquoted String Zone\",\"scope\":[\"string.unquoted.preprocessor.message.cs\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"C# Region\",\"scope\":[\"punctuation.separator.hash.cs\",\"keyword.preprocessor.region.cs\",\"keyword.preprocessor.endregion.cs\"],\"settings\":{\"foreground\":\"#ffcb8b\",\"fontStyle\":\"bold\"}},{\"name\":\"C# Other Variables\",\"scope\":[\"variable.other.object.cs\"],\"settings\":{\"foreground\":\"#b2ccd6\"}},{\"name\":\"C# Enum\",\"scope\":[\"entity.name.type.enum.cs\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Dart String\",\"scope\":[\"string.interpolated.single.dart\",\"string.interpolated.double.dart\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Dart Class\",\"scope\":[\"support.class.dart\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Tag names in Stylesheets\",\"scope\":[\"entity.name.tag.css\",\"entity.name.tag.less\",\"entity.name.tag.custom.css\",\"support.constant.property-value.css\"],\"settings\":{\"foreground\":\"#ff6d6d\",\"fontStyle\":\"\"}},{\"name\":\"Wildcard(*) selector in Stylesheets\",\"scope\":[\"entity.name.tag.wildcard.css\",\"entity.name.tag.wildcard.less\",\"entity.name.tag.wildcard.scss\",\"entity.name.tag.wildcard.sass\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"CSS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Attribute Name for CSS\",\"scope\":[\"meta.attribute-selector.css entity.other.attribute-name.attribute\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Elixir Classes\",\"scope\":[\"source.elixir support.type.elixir\",\"source.elixir meta.module.elixir entity.name.class.elixir\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Elixir Functions\",\"scope\":[\"source.elixir entity.name.function\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Elixir Constants\",\"scope\":[\"source.elixir constant.other.symbol.elixir\",\"source.elixir constant.other.keywords.elixir\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Elixir String Punctuations\",\"scope\":[\"source.elixir punctuation.definition.string\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Elixir\",\"scope\":[\"source.elixir variable.other.readwrite.module.elixir\",\"source.elixir variable.other.readwrite.module.elixir punctuation.definition.variable.elixir\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Elixir Binary Punctuations\",\"scope\":[\"source.elixir .punctuation.binary.elixir\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"Closure Constant Keyword\",\"scope\":[\"constant.keyword.clojure\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Go Function Calls\",\"scope\":[\"source.go meta.function-call.go\"],\"settings\":{\"foreground\":\"#dddddd\"}},{\"name\":\"Go Keywords\",\"scope\":[\"source.go keyword.package.go\",\"source.go keyword.import.go\",\"source.go keyword.function.go\",\"source.go keyword.type.go\",\"source.go keyword.struct.go\",\"source.go keyword.interface.go\",\"source.go keyword.const.go\",\"source.go keyword.var.go\",\"source.go keyword.map.go\",\"source.go keyword.channel.go\",\"source.go keyword.control.go\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"Go Constants e.g. nil, string format (%s, %d, etc.)\",\"scope\":[\"source.go constant.language.go\",\"source.go constant.other.placeholder.go\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"C++ Functions\",\"scope\":[\"entity.name.function.preprocessor.cpp\",\"entity.scope.name.cpp\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"C++ Meta Namespace\",\"scope\":[\"meta.namespace-block.cpp\"],\"settings\":{\"foreground\":\"#e0dec6\"}},{\"name\":\"C++ Language Primitive Storage\",\"scope\":[\"storage.type.language.primitive.cpp\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"C++ Preprocessor Macro\",\"scope\":[\"meta.preprocessor.macro.cpp\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"C++ Variable Parameter\",\"scope\":[\"variable.parameter\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Powershell Variables\",\"scope\":[\"variable.other.readwrite.powershell\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Powershell Function\",\"scope\":[\"support.function.powershell\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"ID Attribute Name in HTML\",\"scope\":[\"entity.other.attribute-name.id.html\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"HTML Punctuation Definition Tag\",\"scope\":[\"punctuation.definition.tag.html\"],\"settings\":{\"foreground\":\"#6ae9f0\"}},{\"name\":\"HTML Doctype\",\"scope\":[\"meta.tag.sgml.doctype.html\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"\"}},{\"name\":\"JavaScript Classes\",\"scope\":[\"meta.class entity.name.type.class.js\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"JavaScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.js\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"JavaScript Terminator\",\"scope\":[\"terminator.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Meta Punctuation Definition\",\"scope\":[\"meta.js punctuation.definition.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Entity Names in Code Documentations\",\"scope\":[\"entity.name.type.instance.jsdoc\",\"entity.name.type.instance.phpdoc\"],\"settings\":{\"foreground\":\"#889fb2\"}},{\"name\":\"Other Variables in Code Documentations\",\"scope\":[\"variable.other.jsdoc\",\"variable.other.phpdoc\"],\"settings\":{\"foreground\":\"#78ccf0\"}},{\"name\":\"JavaScript module imports and exports\",\"scope\":[\"variable.other.meta.import.js\",\"meta.import.js variable.other\",\"variable.other.meta.export.js\",\"meta.export.js variable.other\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Variable Parameter Function\",\"scope\":[\"variable.parameter.function.js\"],\"settings\":{\"foreground\":\"#8b96ea\"}},{\"name\":\"JavaScript[React] Variable Other Object\",\"scope\":[\"variable.other.object.js\",\"variable.other.object.jsx\",\"variable.object.property.js\",\"variable.object.property.jsx\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Variables\",\"scope\":[\"variable.js\",\"variable.other.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JavaScript Entity Name Type\",\"scope\":[\"entity.name.type.js\",\"entity.name.type.module.js\"],\"settings\":{\"foreground\":\"#ffcb8b\",\"fontStyle\":\"\"}},{\"name\":\"JavaScript Support Classes\",\"scope\":[\"support.class.js\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"JSON Property Names\",\"scope\":[\"support.type.property-name.json\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"JSON Support Constants\",\"scope\":[\"support.constant.json\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"JSON Property values (string)\",\"scope\":[\"meta.structure.dictionary.value.json string.quoted.double\"],\"settings\":{\"foreground\":\"#c789d6\"}},{\"name\":\"Strings in JSON values\",\"scope\":[\"string.quoted.double.json punctuation.definition.string.json\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"Specific JSON Property values like null\",\"scope\":[\"meta.structure.dictionary.json meta.structure.dictionary.value constant.language\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"JavaScript Other Variable\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Ruby Variables\",\"scope\":[\"variable.other.ruby\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Ruby Class\",\"scope\":[\"entity.name.type.class.ruby\"],\"settings\":{\"foreground\":\"#ecc48d\"}},{\"name\":\"Ruby Hashkeys\",\"scope\":[\"constant.language.symbol.hashkey.ruby\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"LESS Tag names\",\"scope\":[\"entity.name.tag.less\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"LESS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"Attribute Name for LESS\",\"scope\":[\"meta.attribute-selector.less entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Markdown Headings\",\"scope\":[\"markup.heading.markdown\",\"markup.heading.setext.1.markdown\",\"markup.heading.setext.2.markdown\"],\"settings\":{\"foreground\":\"#82b1ff\"}},{\"name\":\"Markdown Italics\",\"scope\":[\"markup.italic.markdown\"],\"settings\":{\"foreground\":\"#c792ea\",\"fontStyle\":\"italic\"}},{\"name\":\"Markdown Bold\",\"scope\":[\"markup.bold.markdown\"],\"settings\":{\"foreground\":\"#c5e478\",\"fontStyle\":\"bold\"}},{\"name\":\"Markdown Quote + others\",\"scope\":[\"markup.quote.markdown\"],\"settings\":{\"foreground\":\"#969bb7\",\"fontStyle\":\"\"}},{\"name\":\"Markdown Raw Code + others\",\"scope\":[\"markup.inline.raw.markdown\"],\"settings\":{\"foreground\":\"#80cbc4\"}},{\"name\":\"Markdown Links\",\"scope\":[\"markup.underline.link.markdown\",\"markup.underline.link.image.markdown\"],\"settings\":{\"foreground\":\"#ff869a\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Link Title and Description\",\"scope\":[\"string.other.link.title.markdown\",\"string.other.link.description.markdown\"],\"settings\":{\"foreground\":\"#d6deeb\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Punctuation\",\"scope\":[\"punctuation.definition.string.markdown\",\"punctuation.definition.string.begin.markdown\",\"punctuation.definition.string.end.markdown\",\"meta.link.inline.markdown punctuation.definition.string\"],\"settings\":{\"foreground\":\"#82b1ff\"}},{\"name\":\"Markdown MetaData Punctuation\",\"scope\":[\"punctuation.definition.metadata.markdown\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"Markdown List Punctuation\",\"scope\":[\"beginning.punctuation.definition.list.markdown\"],\"settings\":{\"foreground\":\"#82b1ff\"}},{\"name\":\"Markdown Inline Raw String\",\"scope\":[\"markup.inline.raw.string.markdown\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"PHP Variables\",\"scope\":[\"variable.other.php\"],\"settings\":{\"foreground\":\"#bec5d4\"}},{\"name\":\"Support Classes in PHP\",\"scope\":[\"support.class.php\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"Punctuations in PHP function calls\",\"scope\":[\"meta.function-call.php punctuation\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"PHP Global Variables\",\"scope\":[\"variable.other.global.php\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Declaration Punctuation in PHP Global Variables\",\"scope\":[\"variable.other.global.php punctuation.definition.variable\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Language Constants in Python\",\"scope\":[\"constant.language.python\"],\"settings\":{\"foreground\":\"#ff6a83\"}},{\"name\":\"Python Function Parameter and Arguments\",\"scope\":[\"variable.parameter.function.python\",\"meta.function-call.arguments.python\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Python Function Call\",\"scope\":[\"meta.function-call.python\",\"meta.function-call.generic.python\"],\"settings\":{\"foreground\":\"#b2ccd6\"}},{\"name\":\"Punctuations in Python\",\"scope\":[\"punctuation.python\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"Decorator Functions in Python\",\"scope\":[\"entity.name.function.decorator.python\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Python Language Variable\",\"scope\":[\"source.python variable.language.special\"],\"settings\":{\"foreground\":\"#8eace3\"}},{\"name\":\"Python import control keyword\",\"scope\":[\"keyword.control\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"SCSS Variable\",\"scope\":[\"variable.scss\",\"variable.sass\",\"variable.parameter.url.scss\",\"variable.parameter.url.sass\"],\"settings\":{\"foreground\":\"#c5e478\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#bec5d4\"}},{\"name\":\"Attribute Name for SASS\",\"scope\":[\"meta.attribute-selector.scss entity.other.attribute-name.attribute\",\"meta.attribute-selector.sass entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#f78c6c\"}},{\"name\":\"Tag names in SASS\",\"scope\":[\"entity.name.tag.scss\",\"entity.name.tag.sass\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"SASS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.scss\",\"keyword.other.unit.sass\"],\"settings\":{\"foreground\":\"#ffeb95\"}},{\"name\":\"TypeScript[React] Variables and Object Properties\",\"scope\":[\"variable.other.readwrite.alias.ts\",\"variable.other.readwrite.alias.tsx\",\"variable.other.readwrite.ts\",\"variable.other.readwrite.tsx\",\"variable.other.object.ts\",\"variable.other.object.tsx\",\"variable.object.property.ts\",\"variable.object.property.tsx\",\"variable.other.ts\",\"variable.other.tsx\",\"variable.tsx\",\"variable.ts\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"TypeScript[React] Entity Name Types\",\"scope\":[\"entity.name.type.ts\",\"entity.name.type.tsx\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"TypeScript[React] Node Classes\",\"scope\":[\"support.class.node.ts\",\"support.class.node.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"TypeScript[React] Entity Name Types as Parameters\",\"scope\":[\"meta.type.parameters.ts entity.name.type\",\"meta.type.parameters.tsx entity.name.type\"],\"settings\":{\"foreground\":\"#889fb2\"}},{\"name\":\"TypeScript[React] Import/Export Punctuations\",\"scope\":[\"meta.import.ts punctuation.definition.block\",\"meta.import.tsx punctuation.definition.block\",\"meta.export.ts punctuation.definition.block\",\"meta.export.tsx punctuation.definition.block\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.decorator punctuation.decorator.ts\",\"meta.decorator punctuation.decorator.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.tag.js meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"YAML Entity Name Tags\",\"scope\":[\"entity.name.tag.yaml\"],\"settings\":{\"foreground\":\"#7fdbca\"}},{\"name\":\"JavaScript Variable Other ReadWrite\",\"scope\":[\"variable.other.readwrite.js\",\"variable.parameter\"],\"settings\":{\"foreground\":\"#d7dbe0\"}},{\"name\":\"Support Class Component\",\"scope\":[\"support.class.component.js\",\"support.class.component.tsx\"],\"settings\":{\"foreground\":\"#f78c6c\",\"fontStyle\":\"\"}},{\"name\":\"Text nested in React tags\",\"scope\":[\"meta.jsx.children\",\"meta.jsx.children.js\",\"meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#d6deeb\"}},{\"name\":\"TypeScript Classes\",\"scope\":[\"meta.class entity.name.type.class.tsx\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"TypeScript Entity Name Type\",\"scope\":[\"entity.name.type.tsx\",\"entity.name.type.module.tsx\"],\"settings\":{\"foreground\":\"#ffcb8b\"}},{\"name\":\"TypeScript Class Variable Keyword\",\"scope\":[\"meta.class.ts meta.var.expr.ts storage.type.ts\",\"meta.class.tsx meta.var.expr.tsx storage.type.tsx\"],\"settings\":{\"foreground\":\"#c792ea\"}},{\"name\":\"TypeScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.ts\",\"meta.method.declaration storage.type.tsx\"],\"settings\":{\"foreground\":\"#82aaff\"}},{\"name\":\"normalize font style of certain components\",\"scope\":[\"meta.property-list.css meta.property-value.css variable.other.less\",\"meta.property-list.scss variable.scss\",\"meta.property-list.sass variable.sass\",\"meta.brace\",\"keyword.operator.operator\",\"keyword.operator.or.regexp\",\"keyword.operator.expression.in\",\"keyword.operator.relational\",\"keyword.operator.assignment\",\"keyword.operator.comparison\",\"keyword.operator.type\",\"keyword.operator\",\"keyword\",\"punctuation.definition.string\",\"punctuation\",\"variable.other.readwrite.js\",\"storage.type\",\"source.css\",\"string.quoted\"],\"settings\":{\"fontStyle\":\"\"}}],\"styleOverrides\":{\"frames\":{\"editorBackground\":\"var(--sl-color-gray-6)\",\"terminalBackground\":\"var(--sl-color-gray-6)\",\"editorActiveTabBackground\":\"var(--sl-color-gray-6)\",\"terminalTitlebarDotsForeground\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"terminalTitlebarDotsOpacity\":\"0.75\",\"inlineButtonForeground\":\"var(--sl-color-text)\",\"frameBoxShadowCssValue\":\"none\"},\"textMarkers\":{\"markBackground\":\"#ffffff17\",\"markBorderColor\":\"#ffffff40\"}}},{\"name\":\"Night Owl Light\",\"type\":\"light\",\"colors\":{\"focusBorder\":\"#93a1a1\",\"foreground\":\"#403f53\",\"disabledForeground\":\"#61616180\",\"descriptionForeground\":\"#403f53\",\"errorForeground\":\"#403f53\",\"icon.foreground\":\"#424242\",\"contrastActiveBorder\":null,\"contrastBorder\":null,\"textBlockQuote.background\":\"#7f7f7f1a\",\"textBlockQuote.border\":\"#007acc80\",\"textCodeBlock.background\":\"#dcdcdc66\",\"textLink.activeForeground\":\"#006ab1\",\"textLink.foreground\":\"#006ab1\",\"textPreformat.foreground\":\"#a31515\",\"textSeparator.foreground\":\"#0000002e\",\"editor.background\":\"#f6f7f9\",\"editor.foreground\":\"#403f53\",\"editorLineNumber.foreground\":\"#90a7b2\",\"editorLineNumber.activeForeground\":\"#403f53\",\"editorActiveLineNumber.foreground\":\"#0b216f\",\"editor.selectionBackground\":\"#e0e0e0\",\"editor.inactiveSelectionBackground\":\"#e0e0e080\",\"editor.selectionHighlightBackground\":\"#339cec33\",\"editorError.foreground\":\"#e64d49\",\"editorWarning.foreground\":\"#daaa01\",\"editorInfo.foreground\":\"#1a85ff\",\"editorHint.foreground\":\"#6c6c6c\",\"problemsErrorIcon.foreground\":\"#e64d49\",\"problemsWarningIcon.foreground\":\"#daaa01\",\"problemsInfoIcon.foreground\":\"#1a85ff\",\"editor.findMatchBackground\":\"#93a1a16c\",\"editor.findMatchHighlightBackground\":\"#93a1a16c\",\"editor.findRangeHighlightBackground\":\"#7497a633\",\"editorLink.activeForeground\":\"#0000ff\",\"editorLightBulb.foreground\":\"#ddb100\",\"editorLightBulbAutoFix.foreground\":\"#007acc\",\"diffEditor.insertedTextBackground\":\"#9ccc2c40\",\"diffEditor.insertedTextBorder\":null,\"diffEditor.removedTextBackground\":\"#ff000033\",\"diffEditor.removedTextBorder\":null,\"diffEditor.insertedLineBackground\":\"#9bb95533\",\"diffEditor.removedLineBackground\":\"#ff000033\",\"editorStickyScroll.background\":\"#fbfbfb\",\"editorStickyScrollHover.background\":\"#f0f0f0\",\"editorInlayHint.background\":\"#2aa29899\",\"editorInlayHint.foreground\":\"#f0f0f0\",\"editorInlayHint.typeBackground\":\"#2aa29899\",\"editorInlayHint.typeForeground\":\"#f0f0f0\",\"editorInlayHint.parameterBackground\":\"#2aa29899\",\"editorInlayHint.parameterForeground\":\"#f0f0f0\",\"editorPane.background\":\"#fbfbfb\",\"editorGroup.emptyBackground\":null,\"editorGroup.focusedEmptyBorder\":null,\"editorGroupHeader.tabsBackground\":\"var(--sl-color-gray-6)\",\"editorGroupHeader.tabsBorder\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"editorGroupHeader.noTabsBackground\":\"#f0f0f0\",\"editorGroupHeader.border\":null,\"editorGroup.border\":\"#f0f0f0\",\"editorGroup.dropBackground\":\"#2677cb2d\",\"editorGroup.dropIntoPromptForeground\":\"#403f53\",\"editorGroup.dropIntoPromptBackground\":\"#f0f0f0\",\"editorGroup.dropIntoPromptBorder\":null,\"sideBySideEditor.horizontalBorder\":\"#f0f0f0\",\"sideBySideEditor.verticalBorder\":\"#f0f0f0\",\"scrollbar.shadow\":\"#cccccc\",\"scrollbarSlider.background\":\"#0000001a\",\"scrollbarSlider.hoverBackground\":\"#00000055\",\"scrollbarSlider.activeBackground\":\"#00000099\",\"panel.background\":\"#f0f0f0\",\"panel.border\":\"#d9d9d9\",\"panelTitle.activeBorder\":\"#424242\",\"panelTitle.activeForeground\":\"#424242\",\"panelTitle.inactiveForeground\":\"#424242bf\",\"panelSectionHeader.background\":\"#80808051\",\"terminal.background\":\"#f6f6f6\",\"widget.shadow\":\"#d9d9d9\",\"editorWidget.background\":\"#f0f0f0\",\"editorWidget.foreground\":\"#403f53\",\"editorWidget.border\":\"#d9d9d9\",\"quickInput.background\":\"#f0f0f0\",\"quickInput.foreground\":\"#403f53\",\"quickInputTitle.background\":\"#0000000f\",\"pickerGroup.foreground\":\"#403f53\",\"pickerGroup.border\":\"#d9d9d9\",\"editor.hoverHighlightBackground\":\"#339cec33\",\"editorHoverWidget.background\":\"#f0f0f0\",\"editorHoverWidget.foreground\":\"#403f53\",\"editorHoverWidget.border\":\"#d9d9d9\",\"editorHoverWidget.statusBarBackground\":\"#e4e4e4\",\"titleBar.activeBackground\":\"var(--sl-color-gray-6)\",\"titleBar.activeForeground\":\"var(--sl-color-text)\",\"titleBar.inactiveBackground\":\"#f0f0f099\",\"titleBar.inactiveForeground\":\"#33333399\",\"titleBar.border\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"toolbar.hoverBackground\":\"#b8b8b850\",\"toolbar.activeBackground\":\"#a6a6a650\",\"tab.activeBackground\":\"#f6f6f6\",\"tab.unfocusedActiveBackground\":\"#f6f6f6\",\"tab.inactiveBackground\":\"#f0f0f0\",\"tab.unfocusedInactiveBackground\":\"#f0f0f0\",\"tab.activeForeground\":\"var(--sl-color-text)\",\"tab.inactiveForeground\":\"#403f53\",\"tab.unfocusedActiveForeground\":\"#403f53b3\",\"tab.unfocusedInactiveForeground\":\"#403f5380\",\"tab.hoverBackground\":null,\"tab.unfocusedHoverBackground\":null,\"tab.hoverForeground\":null,\"tab.unfocusedHoverForeground\":null,\"tab.border\":\"#f0f0f0\",\"tab.lastPinnedBorder\":\"#a9a9a9\",\"tab.activeBorder\":\"transparent\",\"tab.unfocusedActiveBorder\":null,\"tab.activeBorderTop\":\"var(--sl-color-accent)\",\"tab.unfocusedActiveBorderTop\":null,\"tab.hoverBorder\":null,\"tab.unfocusedHoverBorder\":null,\"tab.activeModifiedBorder\":\"#2aa298\",\"tab.inactiveModifiedBorder\":\"#93a1a1\",\"tab.unfocusedActiveModifiedBorder\":\"#93a1a1\",\"tab.unfocusedInactiveModifiedBorder\":\"#93a1a1\",\"badge.background\":\"#2aa298\",\"badge.foreground\":\"#f0f0f0\",\"button.background\":\"#2aa298\",\"button.foreground\":\"#f0f0f0\",\"button.border\":null,\"button.separator\":\"#f0f0f066\",\"button.hoverBackground\":\"#22827a\",\"button.secondaryBackground\":\"#5f6a79\",\"button.secondaryForeground\":\"#ffffff\",\"button.secondaryHoverBackground\":\"#4c5561\",\"dropdown.background\":\"#f0f0f0\",\"dropdown.foreground\":\"#403f53\",\"dropdown.border\":\"#d9d9d9\",\"list.activeSelectionBackground\":\"#d3e8f8\",\"list.activeSelectionForeground\":\"#403f53\",\"tree.indentGuidesStroke\":\"#a9a9a9\",\"input.background\":\"#f0f0f0\",\"input.foreground\":\"#403f53\",\"input.placeholderForeground\":\"#93a1a1\",\"inputOption.activeBorder\":\"#2aa298\",\"inputOption.hoverBackground\":\"#b8b8b850\",\"inputOption.activeBackground\":\"#93a1a133\",\"inputOption.activeForeground\":\"#000000\",\"inputValidation.infoBackground\":\"#f0f0f0\",\"inputValidation.infoBorder\":\"#d0d0d0\",\"inputValidation.warningBackground\":\"#daaa01\",\"inputValidation.warningBorder\":\"#e0af02\",\"inputValidation.errorBackground\":\"#f76e6e\",\"inputValidation.errorBorder\":\"#de3d3b\",\"keybindingLabel.background\":\"#dddddd66\",\"keybindingLabel.foreground\":\"#555555\",\"keybindingLabel.border\":\"#cccccc66\",\"keybindingLabel.bottomBorder\":\"#bbbbbb66\",\"menu.foreground\":\"#403f53\",\"menu.background\":\"#f0f0f0\",\"menu.selectionForeground\":\"#403f53\",\"menu.selectionBackground\":\"#d3e8f8\",\"menu.separatorBackground\":\"#d4d4d4\",\"editor.snippetTabstopHighlightBackground\":\"#0a326433\",\"editor.snippetFinalTabstopHighlightBorder\":\"#0a326480\",\"terminal.ansiBlack\":\"#403f53\",\"terminal.ansiRed\":\"#de3d3b\",\"terminal.ansiGreen\":\"#08916a\",\"terminal.ansiYellow\":\"#e0af02\",\"terminal.ansiBlue\":\"#288ed7\",\"terminal.ansiMagenta\":\"#d6438a\",\"terminal.ansiCyan\":\"#2aa298\",\"terminal.ansiWhite\":\"#f0f0f0\",\"terminal.ansiBrightBlack\":\"#403f53\",\"terminal.ansiBrightRed\":\"#de3d3b\",\"terminal.ansiBrightGreen\":\"#08916a\",\"terminal.ansiBrightYellow\":\"#daaa01\",\"terminal.ansiBrightBlue\":\"#288ed7\",\"terminal.ansiBrightMagenta\":\"#d6438a\",\"terminal.ansiBrightCyan\":\"#2aa298\",\"terminal.ansiBrightWhite\":\"#f0f0f0\",\"selection.background\":\"#7a8181ad\",\"notifications.background\":\"#f0f0f0\",\"notifications.foreground\":\"#403f53\",\"notificationLink.foreground\":\"#994cc3\",\"notifications.border\":\"#cccccc\",\"notificationCenter.border\":\"#cccccc\",\"notificationToast.border\":\"#cccccc\",\"notificationCenterHeader.foreground\":\"#403f53\",\"notificationCenterHeader.background\":\"#f0f0f0\",\"input.border\":\"#d9d9d9\",\"progressBar.background\":\"#2aa298\",\"list.inactiveSelectionBackground\":\"#e0e7ea\",\"list.inactiveSelectionForeground\":\"#403f53\",\"list.focusBackground\":\"#d3e8f8\",\"list.hoverBackground\":\"#d3e8f8\",\"list.focusForeground\":\"#403f53\",\"list.hoverForeground\":\"#403f53\",\"list.highlightForeground\":\"#403f53\",\"list.errorForeground\":\"#e64d49\",\"list.warningForeground\":\"#daaa01\",\"activityBar.background\":\"#f0f0f0\",\"activityBar.foreground\":\"#403f53\",\"activityBar.dropBackground\":\"#d0d0d0\",\"activityBarBadge.background\":\"#403f53\",\"activityBarBadge.foreground\":\"#f0f0f0\",\"activityBar.border\":\"#f0f0f0\",\"sideBar.background\":\"#f0f0f0\",\"sideBar.foreground\":\"#403f53\",\"sideBarTitle.foreground\":\"#403f53\",\"sideBar.border\":\"#f0f0f0\",\"editorGroup.background\":\"#f6f6f6\",\"editorCursor.foreground\":\"#90a7b2\",\"editor.wordHighlightBackground\":\"#339cec33\",\"editor.wordHighlightStrongBackground\":\"#007dd659\",\"editor.lineHighlightBackground\":\"#f0f0f0\",\"editor.rangeHighlightBackground\":\"#7497a633\",\"editorWhitespace.foreground\":\"#d9d9d9\",\"editorIndentGuide.background\":\"#d9d9d9\",\"editorCodeLens.foreground\":\"#403f53\",\"editorBracketMatch.background\":\"#d3e8f8\",\"editorBracketMatch.border\":\"#2aa298\",\"editorError.border\":\"#fbfbfb\",\"editorWarning.border\":\"#daaa01\",\"editorGutter.addedBackground\":\"#49d0c5\",\"editorGutter.modifiedBackground\":\"#6fbef6\",\"editorGutter.deletedBackground\":\"#f76e6e\",\"editorRuler.foreground\":\"#d9d9d9\",\"editorOverviewRuler.errorForeground\":\"#e64d49\",\"editorOverviewRuler.warningForeground\":\"#daaa01\",\"editorSuggestWidget.background\":\"#f0f0f0\",\"editorSuggestWidget.foreground\":\"#403f53\",\"editorSuggestWidget.highlightForeground\":\"#403f53\",\"editorSuggestWidget.selectedBackground\":\"#d3e8f8\",\"editorSuggestWidget.border\":\"#d9d9d9\",\"debugExceptionWidget.background\":\"#f0f0f0\",\"debugExceptionWidget.border\":\"#d9d9d9\",\"editorMarkerNavigation.background\":\"#d0d0d0\",\"editorMarkerNavigationError.background\":\"#f76e6e\",\"editorMarkerNavigationWarning.background\":\"#daaa01\",\"debugToolBar.background\":\"#f0f0f0\",\"extensionButton.prominentBackground\":\"#2aa298\",\"extensionButton.prominentForeground\":\"#f0f0f0\",\"statusBar.background\":\"#f0f0f0\",\"statusBar.border\":\"#f0f0f0\",\"statusBar.debuggingBackground\":\"#f0f0f0\",\"statusBar.debuggingForeground\":\"#403f53\",\"statusBar.foreground\":\"#403f53\",\"statusBar.noFolderBackground\":\"#f0f0f0\",\"statusBar.noFolderForeground\":\"#403f53\",\"peekView.border\":\"#d9d9d9\",\"peekViewEditor.background\":\"#f6f6f6\",\"peekViewEditorGutter.background\":\"#f6f6f6\",\"peekViewEditor.matchHighlightBackground\":\"#49d0c5\",\"peekViewResult.background\":\"#f0f0f0\",\"peekViewResult.fileForeground\":\"#403f53\",\"peekViewResult.lineForeground\":\"#403f53\",\"peekViewResult.matchHighlightBackground\":\"#49d0c5\",\"peekViewResult.selectionBackground\":\"#e0e7ea\",\"peekViewResult.selectionForeground\":\"#403f53\",\"peekViewTitle.background\":\"#f0f0f0\",\"peekViewTitleLabel.foreground\":\"#403f53\",\"peekViewTitleDescription.foreground\":\"#403f53\",\"terminal.foreground\":\"#403f53\"},\"fg\":\"#403f53\",\"bg\":\"#f6f7f9\",\"semanticHighlighting\":false,\"settings\":[{\"name\":\"Changed\",\"scope\":[\"markup.changed\",\"meta.diff.header.git\",\"meta.diff.header.from-file\",\"meta.diff.header.to-file\"],\"settings\":{\"foreground\":\"#556484\"}},{\"name\":\"Deleted\",\"scope\":[\"markup.deleted.diff\"],\"settings\":{\"foreground\":\"#ae3c3afd\"}},{\"name\":\"Inserted\",\"scope\":[\"markup.inserted.diff\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Global settings\",\"settings\":{\"background\":\"#011627\",\"foreground\":\"#403f53\"}},{\"name\":\"Comment\",\"scope\":[\"comment\"],\"settings\":{\"foreground\":\"#5f636f\"}},{\"name\":\"String\",\"scope\":[\"string\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"String Quoted\",\"scope\":[\"string.quoted\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#984e4d\"}},{\"name\":\"Support Constant Math\",\"scope\":[\"support.constant.math\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Number\",\"scope\":[\"constant.numeric\",\"constant.character.numeric\"],\"settings\":{\"foreground\":\"#aa0982\",\"fontStyle\":\"\"}},{\"name\":\"Built-in constant\",\"scope\":[\"constant.language\",\"punctuation.definition.constant\",\"variable.other.constant\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"User-defined constant\",\"scope\":[\"constant.character\",\"constant.other\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Constant Character Escape\",\"scope\":[\"constant.character.escape\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"RegExp String\",\"scope\":[\"string.regexp\",\"string.regexp keyword.other\"],\"settings\":{\"foreground\":\"#3a688f\"}},{\"name\":\"Comma in functions\",\"scope\":[\"meta.function punctuation.separator.comma\"],\"settings\":{\"foreground\":\"#4d667b\"}},{\"name\":\"Variable\",\"scope\":[\"variable\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Keyword\",\"scope\":[\"punctuation.accessor\",\"keyword\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Storage\",\"scope\":[\"storage\",\"meta.var.expr\",\"meta.class meta.method.declaration meta.var.expr storage.type.js\",\"storage.type.property.js\",\"storage.type.property.ts\",\"storage.type.property.tsx\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Storage type\",\"scope\":[\"storage.type.function.arrow.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Class name\",\"scope\":[\"entity.name.class\",\"meta.class entity.name.type.class\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Inherited class\",\"scope\":[\"entity.other.inherited-class\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Function name\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Meta Tag\",\"scope\":[\"punctuation.definition.tag\",\"meta.tag\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"HTML Tag names\",\"scope\":[\"entity.name.tag\",\"meta.tag.other.html\",\"meta.tag.other.js\",\"meta.tag.other.tsx\",\"entity.name.tag.tsx\",\"entity.name.tag.js\",\"entity.name.tag\",\"meta.tag.js\",\"meta.tag.tsx\",\"meta.tag.html\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Tag attribute\",\"scope\":[\"entity.other.attribute-name\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Entity Name Tag Custom\",\"scope\":[\"entity.name.tag.custom\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Library (function & constant)\",\"scope\":[\"support.function\",\"support.constant\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Support Constant Property Value meta\",\"scope\":[\"support.constant.meta.property-value\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Library class/type\",\"scope\":[\"support.type\",\"support.class\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Support Variable DOM\",\"scope\":[\"support.variable.dom\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Invalid\",\"scope\":[\"invalid\"],\"settings\":{\"foreground\":\"#bb2060\"}},{\"name\":\"Invalid deprecated\",\"scope\":[\"invalid.deprecated\"],\"settings\":{\"foreground\":\"#b23834\"}},{\"name\":\"Keyword Operator\",\"scope\":[\"keyword.operator\"],\"settings\":{\"foreground\":\"#096e72\",\"fontStyle\":\"\"}},{\"name\":\"Keyword Operator Relational\",\"scope\":[\"keyword.operator.relational\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Assignment\",\"scope\":[\"keyword.operator.assignment\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Arithmetic\",\"scope\":[\"keyword.operator.arithmetic\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Bitwise\",\"scope\":[\"keyword.operator.bitwise\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Increment\",\"scope\":[\"keyword.operator.increment\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Operator Ternary\",\"scope\":[\"keyword.operator.ternary\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Double-Slashed Comment\",\"scope\":[\"comment.line.double-slash\"],\"settings\":{\"foreground\":\"#5d6376\"}},{\"name\":\"Object\",\"scope\":[\"object\"],\"settings\":{\"foreground\":\"#58656a\"}},{\"name\":\"Null\",\"scope\":[\"constant.language.null\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Meta Brace\",\"scope\":[\"meta.brace\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Meta Delimiter Period\",\"scope\":[\"meta.delimiter.period\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Punctuation Definition String\",\"scope\":[\"punctuation.definition.string\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Punctuation Definition String Markdown\",\"scope\":[\"punctuation.definition.string.begin.markdown\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Boolean\",\"scope\":[\"constant.language.boolean\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Object Comma\",\"scope\":[\"object.comma\"],\"settings\":{\"foreground\":\"#646464\"}},{\"name\":\"Variable Parameter Function\",\"scope\":[\"variable.parameter.function\"],\"settings\":{\"foreground\":\"#096e72\",\"fontStyle\":\"\"}},{\"name\":\"Support Type Property Name & entity name tags\",\"scope\":[\"support.type.vendor.property-name\",\"support.constant.vendor.property-value\",\"support.type.property-name\",\"meta.property-list entity.name.tag\"],\"settings\":{\"foreground\":\"#096e72\",\"fontStyle\":\"\"}},{\"name\":\"Entity Name tag reference in stylesheets\",\"scope\":[\"meta.property-list entity.name.tag.reference\"],\"settings\":{\"foreground\":\"#286d70\"}},{\"name\":\"Constant Other Color RGB Value Punctuation Definition Constant\",\"scope\":[\"constant.other.color.rgb-value punctuation.definition.constant\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Constant Other Color\",\"scope\":[\"constant.other.color\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Keyword Other Unit\",\"scope\":[\"keyword.other.unit\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Meta Selector\",\"scope\":[\"meta.selector\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Entity Other Attribute Name Id\",\"scope\":[\"entity.other.attribute-name.id\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Meta Property Name\",\"scope\":[\"meta.property-name\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Doctypes\",\"scope\":[\"entity.name.tag.doctype\",\"meta.tag.sgml.doctype\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Punctuation Definition Parameters\",\"scope\":[\"punctuation.definition.parameters\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Keyword Control Operator\",\"scope\":[\"keyword.control.operator\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Keyword Operator Logical\",\"scope\":[\"keyword.operator.logical\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"\"}},{\"name\":\"Variable Instances\",\"scope\":[\"variable.instance\",\"variable.other.instance\",\"variable.readwrite.instance\",\"variable.other.readwrite.instance\",\"variable.other.property\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Variable Property Other object property\",\"scope\":[\"variable.other.object.property\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Variable Property Other object\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"fontStyle\":\"\"}},{\"name\":\"Entity Name Function\",\"scope\":[\"entity.name.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Keyword Operator Comparison, imports, returns and Keyword Operator Ruby\",\"scope\":[\"keyword.operator.comparison\",\"keyword.control.flow.js\",\"keyword.control.flow.ts\",\"keyword.control.flow.tsx\",\"keyword.control.ruby\",\"keyword.control.module.ruby\",\"keyword.control.class.ruby\",\"keyword.control.def.ruby\",\"keyword.control.loop.js\",\"keyword.control.loop.ts\",\"keyword.control.import.js\",\"keyword.control.import.ts\",\"keyword.control.import.tsx\",\"keyword.control.from.js\",\"keyword.control.from.ts\",\"keyword.control.from.tsx\",\"keyword.operator.instanceof.js\",\"keyword.operator.expression.instanceof.ts\",\"keyword.operator.expression.instanceof.tsx\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Keyword Control Conditional\",\"scope\":[\"keyword.control.conditional.js\",\"keyword.control.conditional.ts\",\"keyword.control.switch.js\",\"keyword.control.switch.ts\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"\"}},{\"name\":\"Support Constant, `new` keyword, Special Method Keyword, `debugger`, other keywords\",\"scope\":[\"support.constant\",\"keyword.other.special-method\",\"keyword.other.new\",\"keyword.other.debugger\",\"keyword.control\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Support Function\",\"scope\":[\"support.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Invalid Broken\",\"scope\":[\"invalid.broken\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Invalid Unimplemented\",\"scope\":[\"invalid.unimplemented\"],\"settings\":{\"foreground\":\"#486e26\"}},{\"name\":\"Invalid Illegal\",\"scope\":[\"invalid.illegal\"],\"settings\":{\"foreground\":\"#984e4d\"}},{\"name\":\"Language Variable\",\"scope\":[\"variable.language\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Support Variable Property\",\"scope\":[\"support.variable.property\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Variable Function\",\"scope\":[\"variable.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Variable Interpolation\",\"scope\":[\"variable.interpolation\"],\"settings\":{\"foreground\":\"#a64348\"}},{\"name\":\"Meta Function Call\",\"scope\":[\"meta.function-call\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Punctuation Section Embedded\",\"scope\":[\"punctuation.section.embedded\"],\"settings\":{\"foreground\":\"#b23834\"}},{\"name\":\"Punctuation Tweaks\",\"scope\":[\"punctuation.terminator.expression\",\"punctuation.definition.arguments\",\"punctuation.definition.array\",\"punctuation.section.array\",\"meta.array\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"More Punctuation Tweaks\",\"scope\":[\"punctuation.definition.list.begin\",\"punctuation.definition.list.end\",\"punctuation.separator.arguments\",\"punctuation.definition.list\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Template Strings\",\"scope\":[\"string.template meta.template.expression\"],\"settings\":{\"foreground\":\"#b23834\"}},{\"name\":\"Backticks(``) in Template Strings\",\"scope\":[\"string.template punctuation.definition.string\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Italics\",\"scope\":[\"italic\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"italic\"}},{\"name\":\"Bold\",\"scope\":[\"bold\"],\"settings\":{\"foreground\":\"#3b61b0\",\"fontStyle\":\"bold\"}},{\"name\":\"Quote\",\"scope\":[\"quote\"],\"settings\":{\"foreground\":\"#5c6285\"}},{\"name\":\"Raw Code\",\"scope\":[\"raw\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"CoffeeScript Variable Assignment\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#186e73\"}},{\"name\":\"CoffeeScript Parameter Function\",\"scope\":[\"variable.parameter.function.coffee\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"CoffeeScript Assignments\",\"scope\":[\"variable.assignment.coffee\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"C# Readwrite Variables\",\"scope\":[\"variable.other.readwrite.cs\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"C# Classes & Storage types\",\"scope\":[\"entity.name.type.class.cs\",\"storage.type.cs\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"C# Namespaces\",\"scope\":[\"entity.name.type.namespace.cs\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Tag names in Stylesheets\",\"scope\":[\"entity.name.tag.css\",\"entity.name.tag.less\",\"entity.name.tag.custom.css\",\"support.constant.property-value.css\"],\"settings\":{\"foreground\":\"#984e4d\",\"fontStyle\":\"\"}},{\"name\":\"Wildcard(*) selector in Stylesheets\",\"scope\":[\"entity.name.tag.wildcard.css\",\"entity.name.tag.wildcard.less\",\"entity.name.tag.wildcard.scss\",\"entity.name.tag.wildcard.sass\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"CSS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Attribute Name for CSS\",\"scope\":[\"meta.attribute-selector.css entity.other.attribute-name.attribute\",\"variable.other.readwrite.js\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Elixir Classes\",\"scope\":[\"source.elixir support.type.elixir\",\"source.elixir meta.module.elixir entity.name.class.elixir\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir Functions\",\"scope\":[\"source.elixir entity.name.function\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir Constants\",\"scope\":[\"source.elixir constant.other.symbol.elixir\",\"source.elixir constant.other.keywords.elixir\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir String Punctuations\",\"scope\":[\"source.elixir punctuation.definition.string\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir\",\"scope\":[\"source.elixir variable.other.readwrite.module.elixir\",\"source.elixir variable.other.readwrite.module.elixir punctuation.definition.variable.elixir\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Elixir Binary Punctuations\",\"scope\":[\"source.elixir .punctuation.binary.elixir\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Closure Constant Keyword\",\"scope\":[\"constant.keyword.clojure\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Go Function Calls\",\"scope\":[\"source.go meta.function-call.go\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Go Keywords\",\"scope\":[\"source.go keyword.package.go\",\"source.go keyword.import.go\",\"source.go keyword.function.go\",\"source.go keyword.type.go\",\"source.go keyword.struct.go\",\"source.go keyword.interface.go\",\"source.go keyword.const.go\",\"source.go keyword.var.go\",\"source.go keyword.map.go\",\"source.go keyword.channel.go\",\"source.go keyword.control.go\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"Go Constants e.g. nil, string format (%s, %d, etc.)\",\"scope\":[\"source.go constant.language.go\",\"source.go constant.other.placeholder.go\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"C++ Functions\",\"scope\":[\"entity.name.function.preprocessor.cpp\",\"entity.scope.name.cpp\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"C++ Meta Namespace\",\"scope\":[\"meta.namespace-block.cpp\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"C++ Language Primitive Storage\",\"scope\":[\"storage.type.language.primitive.cpp\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"C++ Preprocessor Macro\",\"scope\":[\"meta.preprocessor.macro.cpp\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"C++ Variable Parameter\",\"scope\":[\"variable.parameter\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Powershell Variables\",\"scope\":[\"variable.other.readwrite.powershell\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Powershell Function\",\"scope\":[\"support.function.powershell\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"ID Attribute Name in HTML\",\"scope\":[\"entity.other.attribute-name.id.html\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"HTML Punctuation Definition Tag\",\"scope\":[\"punctuation.definition.tag.html\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"HTML Doctype\",\"scope\":[\"meta.tag.sgml.doctype.html\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"JavaScript Classes\",\"scope\":[\"meta.class entity.name.type.class.js\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"JavaScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.js\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"JavaScript Terminator\",\"scope\":[\"terminator.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Meta Punctuation Definition\",\"scope\":[\"meta.js punctuation.definition.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Entity Names in Code Documentations\",\"scope\":[\"entity.name.type.instance.jsdoc\",\"entity.name.type.instance.phpdoc\"],\"settings\":{\"foreground\":\"#4d667b\"}},{\"name\":\"Other Variables in Code Documentations\",\"scope\":[\"variable.other.jsdoc\",\"variable.other.phpdoc\"],\"settings\":{\"foreground\":\"#3e697c\"}},{\"name\":\"JavaScript module imports and exports\",\"scope\":[\"variable.other.meta.import.js\",\"meta.import.js variable.other\",\"variable.other.meta.export.js\",\"meta.export.js variable.other\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Variable Parameter Function\",\"scope\":[\"variable.parameter.function.js\"],\"settings\":{\"foreground\":\"#555ea2\"}},{\"name\":\"JavaScript[React] Variable Other Object\",\"scope\":[\"variable.other.object.js\",\"variable.other.object.jsx\",\"variable.object.property.js\",\"variable.object.property.jsx\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Variables\",\"scope\":[\"variable.js\",\"variable.other.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JavaScript Entity Name Type\",\"scope\":[\"entity.name.type.js\",\"entity.name.type.module.js\"],\"settings\":{\"foreground\":\"#111111\",\"fontStyle\":\"\"}},{\"name\":\"JavaScript Support Classes\",\"scope\":[\"support.class.js\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"JSON Property Names\",\"scope\":[\"support.type.property-name.json\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"JSON Support Constants\",\"scope\":[\"support.constant.json\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"JSON Property values (string)\",\"scope\":[\"meta.structure.dictionary.value.json string.quoted.double\"],\"settings\":{\"foreground\":\"#7c5686\"}},{\"name\":\"Strings in JSON values\",\"scope\":[\"string.quoted.double.json punctuation.definition.string.json\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Specific JSON Property values like null\",\"scope\":[\"meta.structure.dictionary.json meta.structure.dictionary.value constant.language\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"JavaScript Other Variable\",\"scope\":[\"variable.other.object.js\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Ruby Variables\",\"scope\":[\"variable.other.ruby\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Ruby Class\",\"scope\":[\"entity.name.type.class.ruby\"],\"settings\":{\"foreground\":\"#984e4d\"}},{\"name\":\"Ruby Hashkeys\",\"scope\":[\"constant.language.symbol.hashkey.ruby\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Ruby Symbols\",\"scope\":[\"constant.language.symbol.ruby\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"LESS Tag names\",\"scope\":[\"entity.name.tag.less\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"LESS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.css\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Attribute Name for LESS\",\"scope\":[\"meta.attribute-selector.less entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Markdown Headings\",\"scope\":[\"markup.heading.markdown\",\"markup.heading.setext.1.markdown\",\"markup.heading.setext.2.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Markdown Italics\",\"scope\":[\"markup.italic.markdown\"],\"settings\":{\"foreground\":\"#8844ae\",\"fontStyle\":\"italic\"}},{\"name\":\"Markdown Bold\",\"scope\":[\"markup.bold.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\",\"fontStyle\":\"bold\"}},{\"name\":\"Markdown Quote + others\",\"scope\":[\"markup.quote.markdown\"],\"settings\":{\"foreground\":\"#5c6285\"}},{\"name\":\"Markdown Raw Code + others\",\"scope\":[\"markup.inline.raw.markdown\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Markdown Links\",\"scope\":[\"markup.underline.link.markdown\",\"markup.underline.link.image.markdown\"],\"settings\":{\"foreground\":\"#954f5a\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Link Title and Description\",\"scope\":[\"string.other.link.title.markdown\",\"string.other.link.description.markdown\"],\"settings\":{\"foreground\":\"#403f53\",\"fontStyle\":\"underline\"}},{\"name\":\"Markdown Punctuation\",\"scope\":[\"punctuation.definition.string.markdown\",\"punctuation.definition.string.begin.markdown\",\"punctuation.definition.string.end.markdown\",\"meta.link.inline.markdown punctuation.definition.string\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Markdown MetaData Punctuation\",\"scope\":[\"punctuation.definition.metadata.markdown\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Markdown List Punctuation\",\"scope\":[\"beginning.punctuation.definition.list.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Markdown Inline Raw String\",\"scope\":[\"markup.inline.raw.string.markdown\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"PHP Variables\",\"scope\":[\"variable.other.php\",\"variable.other.property.php\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Support Classes in PHP\",\"scope\":[\"support.class.php\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Punctuations in PHP function calls\",\"scope\":[\"meta.function-call.php punctuation\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"PHP Global Variables\",\"scope\":[\"variable.other.global.php\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Declaration Punctuation in PHP Global Variables\",\"scope\":[\"variable.other.global.php punctuation.definition.variable\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Language Constants in Python\",\"scope\":[\"constant.language.python\"],\"settings\":{\"foreground\":\"#a24848\"}},{\"name\":\"Python Function Parameter and Arguments\",\"scope\":[\"variable.parameter.function.python\",\"meta.function-call.arguments.python\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Python Function Call\",\"scope\":[\"meta.function-call.python\",\"meta.function-call.generic.python\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"Punctuations in Python\",\"scope\":[\"punctuation.python\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Decorator Functions in Python\",\"scope\":[\"entity.name.function.decorator.python\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Python Language Variable\",\"scope\":[\"source.python variable.language.special\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Python import control keyword\",\"scope\":[\"keyword.control\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"SCSS Variable\",\"scope\":[\"variable.scss\",\"variable.sass\",\"variable.parameter.url.scss\",\"variable.parameter.url.sass\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"Variables in SASS At-Rules\",\"scope\":[\"source.css.scss meta.at-rule variable\",\"source.css.sass meta.at-rule variable\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"Attribute Name for SASS\",\"scope\":[\"meta.attribute-selector.scss entity.other.attribute-name.attribute\",\"meta.attribute-selector.sass entity.other.attribute-name.attribute\"],\"settings\":{\"foreground\":\"#aa0982\"}},{\"name\":\"Tag names in SASS\",\"scope\":[\"entity.name.tag.scss\",\"entity.name.tag.sass\"],\"settings\":{\"foreground\":\"#096e72\"}},{\"name\":\"SASS Keyword Other Unit\",\"scope\":[\"keyword.other.unit.scss\",\"keyword.other.unit.sass\"],\"settings\":{\"foreground\":\"#8844ae\"}},{\"name\":\"TypeScript[React] Variables and Object Properties\",\"scope\":[\"variable.other.readwrite.alias.ts\",\"variable.other.readwrite.alias.tsx\",\"variable.other.readwrite.ts\",\"variable.other.readwrite.tsx\",\"variable.other.object.ts\",\"variable.other.object.tsx\",\"variable.object.property.ts\",\"variable.object.property.tsx\",\"variable.other.ts\",\"variable.other.tsx\",\"variable.tsx\",\"variable.ts\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"TypeScript[React] Entity Name Types\",\"scope\":[\"entity.name.type.ts\",\"entity.name.type.tsx\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"TypeScript[React] Node Classes\",\"scope\":[\"support.class.node.ts\",\"support.class.node.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"TypeScript[React] Entity Name Types as Parameters\",\"scope\":[\"meta.type.parameters.ts entity.name.type\",\"meta.type.parameters.tsx entity.name.type\"],\"settings\":{\"foreground\":\"#4d667b\"}},{\"name\":\"TypeScript[React] Import/Export Punctuations\",\"scope\":[\"meta.import.ts punctuation.definition.block\",\"meta.import.tsx punctuation.definition.block\",\"meta.export.ts punctuation.definition.block\",\"meta.export.tsx punctuation.definition.block\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.decorator punctuation.decorator.ts\",\"meta.decorator punctuation.decorator.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"TypeScript[React] Punctuation Decorators\",\"scope\":[\"meta.tag.js meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"YAML Entity Name Tags\",\"scope\":[\"entity.name.tag.yaml\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"JavaScript Variable Other ReadWrite\",\"scope\":[\"variable.other.readwrite.js\",\"variable.parameter\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"Support Class Component\",\"scope\":[\"support.class.component.js\",\"support.class.component.tsx\"],\"settings\":{\"foreground\":\"#aa0982\",\"fontStyle\":\"\"}},{\"name\":\"Text nested in React tags\",\"scope\":[\"meta.jsx.children\",\"meta.jsx.children.js\",\"meta.jsx.children.tsx\"],\"settings\":{\"foreground\":\"#403f53\"}},{\"name\":\"TypeScript Classes\",\"scope\":[\"meta.class entity.name.type.class.tsx\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"TypeScript Entity Name Type\",\"scope\":[\"entity.name.type.tsx\",\"entity.name.type.module.tsx\"],\"settings\":{\"foreground\":\"#111111\"}},{\"name\":\"TypeScript Class Variable Keyword\",\"scope\":[\"meta.class.ts meta.var.expr.ts storage.type.ts\",\"meta.class.tsx meta.var.expr.tsx storage.type.tsx\"],\"settings\":{\"foreground\":\"#76578b\"}},{\"name\":\"TypeScript Method Declaration e.g. `constructor`\",\"scope\":[\"meta.method.declaration storage.type.ts\",\"meta.method.declaration storage.type.tsx\"],\"settings\":{\"foreground\":\"#3b61b0\"}},{\"name\":\"normalize font style of certain components\",\"scope\":[\"meta.property-list.css meta.property-value.css variable.other.less\",\"meta.property-list.scss variable.scss\",\"meta.property-list.sass variable.sass\",\"meta.brace\",\"keyword.operator.operator\",\"keyword.operator.or.regexp\",\"keyword.operator.expression.in\",\"keyword.operator.relational\",\"keyword.operator.assignment\",\"keyword.operator.comparison\",\"keyword.operator.type\",\"keyword.operator\",\"keyword\",\"punctuation.definition.string\",\"punctuation\",\"variable.other.readwrite.js\",\"storage.type\",\"source.css\",\"string.quoted\"],\"settings\":{\"fontStyle\":\"\"}}],\"styleOverrides\":{\"frames\":{\"editorBackground\":\"var(--sl-color-gray-7)\",\"terminalBackground\":\"var(--sl-color-gray-7)\",\"editorActiveTabBackground\":\"var(--sl-color-gray-7)\",\"terminalTitlebarDotsForeground\":\"color-mix(in srgb, var(--sl-color-gray-5), transparent 25%)\",\"terminalTitlebarDotsOpacity\":\"0.75\",\"inlineButtonForeground\":\"var(--sl-color-text)\",\"frameBoxShadowCssValue\":\"none\"},\"textMarkers\":{\"markBackground\":\"#0000001a\",\"markBorderColor\":\"#00000055\"}}}],\"defaultLocale\":\"en\",\"cascadeLayer\":\"starlight.components\",\"styleOverrides\":{\"borderRadius\":\"0px\",\"borderWidth\":\"1px\",\"codePaddingBlock\":\"0.75rem\",\"codePaddingInline\":\"1rem\",\"codeFontFamily\":\"var(--__sl-font-mono)\",\"codeFontSize\":\"var(--sl-text-code)\",\"codeLineHeight\":\"var(--sl-line-height)\",\"uiFontFamily\":\"var(--__sl-font)\",\"textMarkers\":{\"lineDiffIndicatorMarginLeft\":\"0.25rem\",\"defaultChroma\":\"45\",\"backgroundOpacity\":\"60%\"}},\"plugins\":[{\"name\":\"Starlight Plugin\",\"hooks\":{}},{\"name\":\"astro-expressive-code\",\"hooks\":{}}]}]],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true,\"allowedDomains\":[]},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false,\"failOnPrerenderConflict\":false,\"svgo\":false},\"legacy\":{\"collections\":false},\"prefetch\":{\"prefetchAll\":true},\"i18n\":{\"defaultLocale\":\"en\",\"locales\":[\"en\"],\"routing\":{\"prefixDefaultLocale\":false,\"redirectToDefaultLocale\":false,\"fallbackType\":\"redirect\"}}}","docs",["Map",11,12,47,48,58,59,68,69,78,79,88,89,98,99,108,109,118,119,128,129,138,139,148,149,158,159,168,169,178,179,188,189,198,199,208,209,218,219,228,229,238,239,248,249,258,259,268,269,278,279,288,289,298,299,308,309,318,319,328,329,338,339,348,349,358,359,368,369,378,379,388,389,398,399,408,409,418,419,428,429,438,439,448,449,458,459,468,469,478,479,488,489,498,499,508,509,518,519,528,529,538,539,548,549,558,559,568,569,578,579,588,589,598,599,608,609,618,619,628,629,638,639,648,649,658,659,668,669,678,679,688,689,698,699,708,709,718,719,728,729,738,739,748,749,758,759,768,769],"index",{"id":11,"data":13,"body":44,"filePath":45,"digest":46,"deferredRender":16},{"title":14,"description":15,"editUrl":16,"head":17,"template":18,"hero":19,"sidebar":41,"pagefind":16,"draft":42},"Hytale Server Modding","Comprehensive documentation for developing server-side plugins for Hytale.",true,[],"splash",{"tagline":20,"actions":21},"Build powerful server plugins with Java. Comprehensive API documentation, tutorials, and examples for Hytale modders.",[22,29,35],{"text":23,"link":24,"variant":25,"icon":26},"Get Started","/getting-started/setup/","primary",{"type":27,"name":28},"icon","right-arrow",{"text":30,"link":31,"variant":32,"icon":33},"API Reference","/api-reference/world/overview/","secondary",{"type":27,"name":34},"seti:folder",{"text":36,"link":37,"variant":38,"icon":39},"GitHub","https://github.com/ItsRiprod/doctale","minimal",{"type":27,"name":40},"github",{"hidden":42,"attrs":43},false,{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Card, CardGrid, LinkCard, Aside } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Documentation\">\nThis documentation was **generated by AI** (Claude) based on analysis of decompiled Hytale server code (~5,200 Java files). While we strive for accuracy, this content has not been officially verified by Hypixel Studios. Always test code examples and verify API behavior against the actual server implementation.\n\u003C/Aside>\n\n## Quick Start\n\nGet up and running in minutes with our step-by-step guides.\n\n\u003CCardGrid>\n\t\u003CCard title=\"Setup Environment\" icon=\"setting\">\n\t\tInstall Java 21+, configure Gradle or Maven, and set up your development environment.\n\n\t\t[Start Setup](/getting-started/setup/)\n\t\u003C/Card>\n\t\u003CCard title=\"First Plugin\" icon=\"rocket\">\n\t\tCreate your first working plugin with event listeners, commands, and logging.\n\n\t\t[Build Your First Plugin](/getting-started/first-plugin/)\n\t\u003C/Card>\n\t\u003CCard title=\"Plugin Lifecycle\" icon=\"random\">\n\t\tUnderstand how plugins are loaded, enabled, disabled, and unloaded by the server.\n\n\t\t[Learn Lifecycle](/getting-started/plugin-lifecycle/)\n\t\u003C/Card>\n\t\u003CCard title=\"Plugin Manifest\" icon=\"document\">\n\t\tConfigure your plugin.json with metadata, dependencies, and entry points.\n\n\t\t[Configure Manifest](/getting-started/plugin-manifest/)\n\t\u003C/Card>\n\u003C/CardGrid>\n\n---\n\n## Core Concepts\n\nMaster the fundamental systems that power Hytale server plugins.\n\n\u003CCardGrid>\n\t\u003CCard title=\"Event System\" icon=\"warning\">\n\t\tSubscribe to and handle game events with priority ordering and cancellation.\n\n\t\t[Explore Events](/core-concepts/event-system/)\n\t\u003C/Card>\n\t\u003CCard title=\"Entity Component System\" icon=\"puzzle\">\n\t\tLearn the ECS architecture: Components store data, Systems process behavior.\n\n\t\t[Understand ECS](/core-concepts/ecs-overview/)\n\t\u003C/Card>\n\t\u003CCard title=\"Commands\" icon=\"seti:shell\">\n\t\tCreate commands with argument parsing, tab completion, and permissions.\n\n\t\t[Build Commands](/core-concepts/commands/)\n\t\u003C/Card>\n\t\u003CCard title=\"Registries\" icon=\"list-format\">\n\t\tAccess game registries for blocks, items, entities, and more.\n\n\t\t[Browse Registries](/core-concepts/registries/)\n\t\u003C/Card>\n\u003C/CardGrid>\n\n---\n\n## API Reference\n\nComprehensive documentation for every system in the Hytale server API.\n\n\u003CCardGrid>\n\t\u003CLinkCard\n\t\ttitle=\"World & Chunks\"\n\t\tdescription=\"Block manipulation, chunk loading, lighting, and terrain.\"\n\t\thref=\"/api-reference/world/overview/\"\n\t/>\n\t\u003CLinkCard\n\t\ttitle=\"Entities\"\n\t\tdescription=\"Players, NPCs, mobs, effects, and entity components.\"\n\t\thref=\"/api-reference/entities/overview/\"\n\t/>\n\t\u003CLinkCard\n\t\ttitle=\"Networking\"\n\t\tdescription=\"Packets, handlers, and client-server synchronization.\"\n\t\thref=\"/api-reference/networking/overview/\"\n\t/>\n\t\u003CLinkCard\n\t\ttitle=\"Physics\"\n\t\tdescription=\"Collision detection, hitboxes, and movement systems.\"\n\t\thref=\"/api-reference/physics/overview/\"\n\t/>\n\u003C/CardGrid>\n\n\u003Cdetails>\n\u003Csummary>**View All API Categories**\u003C/summary>\n\n| Category | Description |\n|----------|-------------|\n| [Assets](/api-reference/assets/overview/) | Asset types, loaders, and resource management |\n| [Blocks](/api-reference/blocks/overview/) | Block states, properties, and manipulation |\n| [ECS Components](/api-reference/ecs/component-catalog/) | Complete component type reference |\n| [Events](/api-reference/events/event-catalog/) | All available server events |\n| [Interaction](/api-reference/interaction/overview/) | Player-world interaction systems |\n| [Inventory](/api-reference/inventory/overview/) | Container types and item management |\n| [Math](/api-reference/math/overview/) | Vectors, matrices, shapes, and raycasting |\n| [NPC](/api-reference/npc/overview/) | Flock AI and NPC behavior |\n| [Permissions](/api-reference/permissions/overview/) | Permission nodes and checking |\n| [Serialization](/api-reference/serialization/overview/) | Codecs and data serialization |\n| [Server Config](/api-reference/server/configuration/) | Server configuration options |\n| [World Generation](/api-reference/worldgen/overview/) | Terrain and structure generation |\n\n\u003C/details>\n\n---\n\n## Example Code\n\nHere's a quick taste of what Hytale plugin development looks like:\n\n```java title=\"MyPlugin.java\"\npublic class MyPlugin extends JavaPlugin {\n    public MyPlugin(JavaPluginInit init) {\n        super(init);\n    }\n\n    @Override\n    protected void setup() {\n        // Register an event listener\n        getEventRegistry().register(PlayerConnectEvent.class, event -> {\n            getLogger().info(\"Welcome, \" + event.getPlayerRef().getUsername() + \"!\");\n        });\n\n        // Register a command\n        getCommandRegistry().register(new HelloCommand());\n    }\n}\n```\n\n---\n\n## Documentation Status\n\n\u003CAside type=\"note\" title=\"About This Documentation\">\nAll content on this site was **curated by an LLM (Claude)** through systematic analysis of decompiled Hytale server source code. This is an unofficial, community-driven resourcenot affiliated with or endorsed by Hypixel Studios. API signatures and behaviors may change between server versions.\n\u003C/Aside>\n\n| Section | Files | Status |\n|---------|-------|--------|\n| Getting Started | 4 | \u003Cspan class=\"status-badge status-verified\">Verified\u003C/span> |\n| Core Concepts | 4 | \u003Cspan class=\"status-badge status-verified\">Verified\u003C/span> |\n| API Reference | 32 | \u003Cspan class=\"status-badge status-verified\">Verified\u003C/span> |\n| Tutorials | 1 | \u003Cspan class=\"status-badge status-progress\">In Progress\u003C/span> |\n| Appendix | 1 | \u003Cspan class=\"status-badge status-verified\">Verified\u003C/span> |\n\n---\n\n## Resources\n\n\u003CCardGrid>\n\t\u003CLinkCard\n\t\ttitle=\"Built-in Plugins\"\n\t\tdescription=\"Learn from real examples in Hytale's 31 built-in plugins.\"\n\t\thref=\"/tutorials/builtin-plugins/\"\n\t/>\n\t\u003CLinkCard\n\t\ttitle=\"Glossary\"\n\t\tdescription=\"Definitions for common Hytale modding terminology.\"\n\t\thref=\"/appendix/glossary/\"\n\t/>\n\u003C/CardGrid>\n\n---\n\n## Contribute\n\nThis documentation is open source and community-driven. Help us improve it!\n\n\u003CCardGrid>\n\t\u003CLinkCard\n\t\ttitle=\"GitHub Repository\"\n\t\tdescription=\"View the source code, report issues, or submit improvements.\"\n\t\thref=\"https://github.com/ItsRiprod/doctale\"\n\t/>\n\t\u003CLinkCard\n\t\ttitle=\"Contributing Guide\"\n\t\tdescription=\"Learn how to contribute documentation, fix errors, or add examples.\"\n\t\thref=\"https://github.com/ItsRiprod/doctale/blob/main/CONTRIBUTING.md\"\n\t/>\n\u003C/CardGrid>\n\n\u003CAside type=\"tip\" title=\"Found an Error?\">\nIf you find inaccuracies or missing information, please [open an issue](https://github.com/ItsRiprod/doctale/issues/new/choose) or submit a pull request. All contributions are welcome!\n\u003C/Aside>","src/content/docs/index.mdx","55cc90fb58087e60","getting-started/first-plugin",{"id":47,"data":49,"body":55,"filePath":56,"digest":57,"deferredRender":16},{"title":50,"editUrl":16,"head":51,"template":52,"sidebar":53,"pagefind":16,"draft":42},"Your First Plugin",[],"doc",{"hidden":42,"attrs":54},{},"{/* [VERIFIED: 2026-01-19] */}\n{/* AI-GENERATED: This documentation was curated by Claude based on decompiled server code analysis */}\n\nimport { Aside, FileTree, Steps } from '@astrojs/starlight/components';\n\n# Your First Plugin\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis tutorial was generated by AI based on analysis of decompiled Hytale server code. Code examples may require adjustments for your specific server version.\n\u003C/Aside>\n\nThis tutorial walks you through creating a complete Hytale server plugin from scratch. By the end, you'll have a working plugin that responds to player connections and provides a custom command.\n\n## What We'll Build\n\nA \"Greeter\" plugin that:\n1. Welcomes players when they connect\n2. Provides a `/greet` command to greet other players\n3. Uses configuration for customizable messages\n\n## Prerequisites\n\n- Development environment set up (see [Setup Guide](/getting-started/setup/))\n- Basic Java knowledge\n- Hytale server for testing\n\n## Step 1: Project Setup\n\nCreate a new project with this structure:\n\n\u003CFileTree>\n- greeter-plugin/\n  - build.gradle\n  - settings.gradle\n  - libs/\n    - HytaleServer.jar\n  - src/\n    - main/\n      - java/\n        - com/\n          - example/\n            - greeter/\n              - GreeterPlugin.java\n              - GreeterConfig.java\n              - commands/\n                - GreetCommand.java\n      - resources/\n        - plugin.json\n\u003C/FileTree>\n\n### build.gradle\n\n```groovy\nplugins {\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '1.0.0'\n\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(21)\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compileOnly files('libs/HytaleServer.jar')\n}\n\njar {\n    from('src/main/resources') {\n        include 'plugin.json'\n    }\n}\n```\n\n### settings.gradle\n\n```groovy\nrootProject.name = 'greeter-plugin'\n```\n\n## Step 2: Plugin Manifest\n\nCreate `src/main/resources/plugin.json`:\n\n```json\n{\n  \"Group\": \"com.example\",\n  \"Name\": \"Greeter\",\n  \"Version\": \"1.0.0\",\n  \"Description\": \"Welcomes players and provides greeting commands\",\n  \"Main\": \"com.example.greeter.GreeterPlugin\",\n  \"Authors\": [\n    {\n      \"Name\": \"Your Name\"\n    }\n  ]\n}\n```\n\n## Step 3: Configuration Class\n\nCreate `src/main/java/com/example/greeter/GreeterConfig.java`:\n\n```java\npackage com.example.greeter;\n\nimport com.hypixel.hytale.codec.Codec;\nimport com.hypixel.hytale.codec.KeyedCodec;\nimport com.hypixel.hytale.codec.builder.BuilderCodec;\nimport javax.annotation.Nonnull;\n\npublic class GreeterConfig {\n\n    // Define the codec for serialization/deserialization\n    @Nonnull\n    public static final BuilderCodec\u003CGreeterConfig> CODEC = BuilderCodec\n        .builder(GreeterConfig.class, GreeterConfig::new)\n        .append(\n            new KeyedCodec\u003C>(\"WelcomeMessage\", Codec.STRING),\n            (config, value) -> config.welcomeMessage = value,\n            config -> config.welcomeMessage\n        )\n        .add()\n        .append(\n            new KeyedCodec\u003C>(\"GreetMessage\", Codec.STRING),\n            (config, value) -> config.greetMessage = value,\n            config -> config.greetMessage\n        )\n        .add()\n        .append(\n            new KeyedCodec\u003C>(\"EnableWelcome\", Codec.BOOLEAN),\n            (config, value) -> config.enableWelcome = value,\n            config -> config.enableWelcome\n        )\n        .add()\n        .build();\n\n    // Configuration fields with defaults\n    private String welcomeMessage = \"Welcome to the server, %s!\";\n    private String greetMessage = \"%s says hello to %s!\";\n    private boolean enableWelcome = true;\n\n    public String getWelcomeMessage() {\n        return welcomeMessage;\n    }\n\n    public String getGreetMessage() {\n        return greetMessage;\n    }\n\n    public boolean isEnableWelcome() {\n        return enableWelcome;\n    }\n}\n```\n\n## Step 4: Greet Command\n\nCreate `src/main/java/com/example/greeter/commands/GreetCommand.java`:\n\n```java\npackage com.example.greeter.commands;\n\nimport com.example.greeter.GreeterPlugin;\nimport com.hypixel.hytale.component.Ref;\nimport com.hypixel.hytale.component.Store;\nimport com.hypixel.hytale.server.core.command.system.CommandContext;\nimport com.hypixel.hytale.server.core.command.system.arguments.system.Argument;\nimport com.hypixel.hytale.server.core.command.system.arguments.types.ArgTypes;\nimport com.hypixel.hytale.server.core.command.system.basecommands.AbstractPlayerCommand;\nimport com.hypixel.hytale.server.core.universe.PlayerRef;\nimport com.hypixel.hytale.server.core.universe.world.World;\nimport com.hypixel.hytale.server.core.universe.world.storage.EntityStore;\nimport javax.annotation.Nonnull;\n\npublic class GreetCommand extends AbstractPlayerCommand {\n\n    private final GreeterPlugin plugin;\n    private final Argument\u003C?, PlayerRef> targetArg;\n\n    public GreetCommand(@Nonnull GreeterPlugin plugin) {\n        super(\"greet\", \"Greet another player\");\n        this.plugin = plugin;\n\n        // Add a required player argument using ArgTypes.PLAYER_REF\n        this.targetArg = addArgument(\"target\", ArgTypes.PLAYER_REF);\n    }\n\n    @Override\n    protected void execute(\n            @Nonnull CommandContext context,\n            @Nonnull Store\u003CEntityStore> store,\n            @Nonnull Ref\u003CEntityStore> ref,\n            @Nonnull PlayerRef playerRef,\n            @Nonnull World world) {\n\n        // Get the target player from the argument\n        PlayerRef target = context.get(targetArg);\n\n        if (target == null) {\n            context.sendError(\"Player not found!\");\n            return;\n        }\n\n        if (target.getUuid().equals(playerRef.getUuid())) {\n            context.sendError(\"You can't greet yourself!\");\n            return;\n        }\n\n        // Format and broadcast the greeting\n        String message = String.format(\n            plugin.getConfig().getGreetMessage(),\n            playerRef.getUsername(),\n            target.getUsername()\n        );\n\n        // Send success message\n        context.sendSuccess(message);\n    }\n}\n```\n\n## Step 5: Main Plugin Class\n\nCreate `src/main/java/com/example/greeter/GreeterPlugin.java`:\n\n```java\npackage com.example.greeter;\n\nimport com.example.greeter.commands.GreetCommand;\nimport com.hypixel.hytale.event.EventPriority;\nimport com.hypixel.hytale.server.core.event.events.player.PlayerConnectEvent;\nimport com.hypixel.hytale.server.core.plugin.JavaPlugin;\nimport com.hypixel.hytale.server.core.plugin.JavaPluginInit;\nimport com.hypixel.hytale.server.core.util.Config;\nimport java.util.logging.Level;\nimport javax.annotation.Nonnull;\n\npublic class GreeterPlugin extends JavaPlugin {\n\n    private static GreeterPlugin instance;\n\n    // Configuration holder\n    private final Config\u003CGreeterConfig> config;\n\n    public static GreeterPlugin getInstance() {\n        return instance;\n    }\n\n    public GreeterPlugin(@Nonnull JavaPluginInit init) {\n        super(init);\n        // Register config in constructor (before setup)\n        this.config = withConfig(GreeterConfig.CODEC);\n    }\n\n    @Override\n    protected void setup() {\n        instance = this;\n\n        // Register the greet command\n        getCommandRegistry().register(new GreetCommand(this));\n\n        // Register player connect event listener\n        getEventRegistry().register(\n            EventPriority.NORMAL,\n            PlayerConnectEvent.class,\n            this::onPlayerConnect\n        );\n\n        getLogger().at(Level.INFO).log(\"Greeter plugin setup complete!\");\n    }\n\n    @Override\n    protected void start() {\n        getLogger().at(Level.INFO).log(\n            \"Greeter v%s started! Welcome messages: %s\",\n            getManifest().getVersion(),\n            getConfig().isEnableWelcome() ? \"enabled\" : \"disabled\"\n        );\n    }\n\n    @Override\n    protected void shutdown() {\n        getLogger().at(Level.INFO).log(\"Greeter shutting down...\");\n        instance = null;\n    }\n\n    /**\n     * Get the plugin configuration.\n     */\n    @Nonnull\n    public GreeterConfig getConfig() {\n        return config.get();\n    }\n\n    /**\n     * Handle player connection events.\n     */\n    private void onPlayerConnect(PlayerConnectEvent event) {\n        if (!getConfig().isEnableWelcome()) {\n            return;\n        }\n\n        // Use getPlayerRef() instead of deprecated getPlayer()\n        String welcomeMessage = String.format(\n            getConfig().getWelcomeMessage(),\n            event.getPlayerRef().getUsername()\n        );\n\n        getLogger().at(Level.INFO).log(welcomeMessage);\n    }\n}\n```\n\n## Step 6: Build and Test\n\n### Build the Plugin\n\n```bash\n./gradlew build\n```\n\nThe compiled plugin JAR will be in `build/libs/greeter-plugin-1.0.0.jar`.\n\n### Install\n\n\u003CSteps>\n1. Copy `greeter-plugin-1.0.0.jar` to your server's `plugins/` directory\n2. Start or restart the server\n\u003C/Steps>\n\n### Configuration File\n\nOn first run, the plugin creates `plugins/Greeter/config.json`:\n\n```json\n{\n  \"WelcomeMessage\": \"Welcome to the server, %s!\",\n  \"GreetMessage\": \"%s says hello to %s!\",\n  \"EnableWelcome\": true\n}\n```\n\nEdit this file to customize messages, then restart the server.\n\n### Test the Plugin\n\n\u003CSteps>\n1. Connect to the server - you should see a welcome log message\n2. Use `/greet \u003Cplayername>` to greet another player\n\u003C/Steps>\n\n## Understanding the Code\n\n### Plugin Lifecycle\n\n1. **Constructor**: Called when plugin is loaded. We register our config here.\n2. **preLoad()**: (inherited) Loads the config file asynchronously\n3. **setup()**: Register commands, events, and other handlers\n4. **start()**: Plugin is fully active, log startup message\n5. **shutdown()**: Clean up when plugin is disabled\n\n### Event Handling\n\n```java\ngetEventRegistry().register(\n    EventPriority.NORMAL,           // When to handle (relative to other handlers)\n    PlayerConnectEvent.class,       // Event type to listen for\n    this::onPlayerConnect           // Method to call\n);\n```\n\nEvents are automatically unregistered when the plugin shuts down.\n\n### Command Registration\n\n```java\ngetCommandRegistry().register(new GreetCommand(this));\n```\n\nCommands extend base classes like `AbstractPlayerCommand` (in `basecommands` package) which handle:\n- Permission checking\n- Player-only restriction (ensures sender is a player in a world)\n- Argument parsing via `ArgTypes`\n- Tab completion\n\n### Configuration\n\n```java\nthis.config = withConfig(GreeterConfig.CODEC);\n```\n\nThe `withConfig()` method:\n1. Creates a config file if it doesn't exist\n2. Loads existing config data\n3. Provides type-safe access via `config.get()`\n\n## Extending the Plugin\n\n### Add More Commands\n\nCreate additional command classes and register them in `setup()`:\n\n```java\ngetCommandRegistry().register(new AnotherCommand());\n```\n\n### Listen to More Events\n\n```java\ngetEventRegistry().register(PlayerDisconnectEvent.class, this::onPlayerDisconnect);\ngetEventRegistry().register(PlayerChatEvent.class, this::onPlayerChat);\n```\n\n### Add Permissions\n\nCommands automatically use permission nodes based on the plugin's base permission:\n\n```java\n// Permission: com.example.greeter.greet\n// (derived from group.name.commandname)\n```\n\n## Common Patterns\n\n### Singleton Access\n\n```java\nprivate static GreeterPlugin instance;\n\npublic static GreeterPlugin getInstance() {\n    return instance;\n}\n```\n\nThis allows other classes to access the plugin instance.\n\n### Null Safety\n\nAlways use `@Nonnull` and `@Nullable` annotations:\n\n```java\nimport javax.annotation.Nonnull;\nimport javax.annotation.Nullable;\n\n@Nonnull\npublic GreeterConfig getConfig() {\n    return config.get();\n}\n```\n\n### Logging\n\nUse the plugin's logger for consistent output:\n\n```java\ngetLogger().at(Level.INFO).log(\"Message: %s\", value);\ngetLogger().at(Level.WARNING).log(\"Warning!\");\ngetLogger().at(Level.SEVERE).withCause(exception).log(\"Error occurred\");\n```\n\n## Next Steps\n\n- [Event System](/core-concepts/event-system/) - Deep dive into events\n- [Command System](/core-concepts/commands/) - Advanced command features\n- [ECS Overview](/core-concepts/ecs-overview/) - Entity Component System\n- [Built-in Events](/appendix/glossary/) - All available events","src/content/docs/getting-started/first-plugin.mdx","5bb5e33b24832ff4","getting-started/plugin-lifecycle",{"id":58,"data":60,"body":65,"filePath":66,"digest":67,"deferredRender":16},{"title":61,"editUrl":16,"head":62,"template":52,"sidebar":63,"pagefind":16,"draft":42},"Plugin Lifecycle",[],{"hidden":42,"attrs":64},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps } from '@astrojs/starlight/components';\n\n# Plugin Lifecycle\n\nHytale plugins follow a well-defined lifecycle with distinct states and phases. Understanding this lifecycle is essential for properly initializing resources, registering handlers, and cleaning up when your plugin shuts down.\n\n## Plugin States\n\nA plugin transitions through the following states during its lifecycle:\n\n```\n\n                                                              \n   NONE  SETUP  START  ENABLED  SHUTDOWN  DISABLED\n                                                         \n     \n                     (can be re-enabled)\n\n```\n\n### State Definitions\n\n| State | Description |\n|-------|-------------|\n| `NONE` | Initial state before any lifecycle methods are called |\n| `SETUP` | Plugin is executing its `setup()` method |\n| `START` | Plugin is executing its `start()` method |\n| `ENABLED` | Plugin is fully active and operational |\n| `SHUTDOWN` | Plugin is executing its `shutdown()` method |\n| `DISABLED` | Plugin has been shut down or failed to initialize |\n\n## Lifecycle Methods\n\nYour plugin class should override these methods to participate in the lifecycle:\n\n### Constructor\n\n```java\npublic class MyPlugin extends JavaPlugin {\n    public MyPlugin(JavaPluginInit init) {\n        super(init);\n        // DO NOT register anything here!\n        // Only store references if needed\n    }\n}\n```\n\n\u003CAside type=\"caution\" title=\"Important\">\nThe constructor receives a `JavaPluginInit` object that must be passed to the superclass. Do not perform any registrations or access server resources in the constructor.\n\u003C/Aside>\n\n### `preLoad()` - Configuration Loading\n\n```java\n@Override\n@Nullable\npublic CompletableFuture\u003CVoid> preLoad() {\n    // Called before setup() to load configurations asynchronously\n    return super.preLoad();\n}\n```\n\nThis method is called before `setup()` and is primarily used for loading configuration files. If you use `withConfig()` to register configuration codecs, their loading happens here automatically.\n\n**Timing:** Called asynchronously before the plugin enters SETUP state.\n\n### `setup()` - Registration Phase\n\n```java\n@Override\nprotected void setup() {\n    // Register components, systems, commands, events, etc.\n    getEventRegistry().register(PlayerConnectEvent.class, this::onPlayerConnect);\n    getCommandRegistry().register(new MyCommand());\n    getEntityStoreRegistry().registerSystem(new MySystem());\n}\n```\n\nThis is the primary initialization method where you should:\n- Register event listeners\n- Register commands\n- Register ECS components and systems\n- Register block states\n- Register asset types\n- Set up any plugin infrastructure\n\n**State:** Plugin transitions from NONE to SETUP during this method.\n\n\u003CAside type=\"caution\" title=\"Important\">\nOnly use registration methods during `setup()`. Registrations made after this phase may not work correctly.\n\u003C/Aside>\n\n### `start()` - Activation Phase\n\n```java\n@Override\nprotected void start() {\n    // Plugin is about to become fully active\n    // Perform any post-setup initialization\n    getLogger().info(\"MyPlugin has started successfully!\");\n}\n```\n\nCalled after `setup()` completes successfully. Use this for:\n- Logging startup messages\n- Starting background tasks\n- Connecting to external services\n- Any initialization that depends on all registrations being complete\n\n**State:** Plugin transitions from SETUP to START, then to ENABLED after this method returns.\n\n### `shutdown()` - Cleanup Phase\n\n```java\n@Override\nprotected void shutdown() {\n    // Clean up resources before the plugin is disabled\n    // Note: Registered handlers are automatically unregistered\n}\n```\n\nCalled when the plugin is being disabled. Use this for:\n- Saving data\n- Closing connections\n- Releasing external resources\n\n**State:** Plugin transitions to SHUTDOWN during this method, then to DISABLED.\n\n\u003CAside type=\"note\" title=\"Note\">\nYou don't need to manually unregister events, commands, or ECS components. The plugin system automatically cleans up all registrations made through the registry methods.\n\u003C/Aside>\n\n## Configuration System\n\nPlugins can declare configuration files that are automatically loaded during `preLoad()`:\n\n```java\npublic class MyPlugin extends JavaPlugin {\n    private final Config\u003CMyConfig> config;\n\n    public MyPlugin(JavaPluginInit init) {\n        super(init);\n        // Register config BEFORE setup (in constructor or field initializer)\n        this.config = withConfig(MyConfig.CODEC);\n    }\n\n    @Override\n    protected void setup() {\n        // Config is loaded and ready to use\n        MyConfig cfg = config.get();\n        if (cfg.isFeatureEnabled()) {\n            // ...\n        }\n    }\n}\n```\n\n### Configuration Methods\n\n| Method | Description |\n|--------|-------------|\n| `withConfig(codec)` | Register a config using default name \"config\" |\n| `withConfig(name, codec)` | Register a config with a custom name |\n\nConfiguration files are stored in `\u003Cdata-directory>/\u003Cname>.json` and are automatically loaded before `setup()` is called.\n\n## Available Registries\n\nThe following registries are available through your plugin base class:\n\n| Method | Description |\n|--------|-------------|\n| `getCommandRegistry()` | Register commands |\n| `getEventRegistry()` | Register event listeners |\n| `getEntityStoreRegistry()` | Register entity ECS components and systems |\n| `getChunkStoreRegistry()` | Register chunk ECS components and systems |\n| `getBlockStateRegistry()` | Register custom block states |\n| `getEntityRegistry()` | Register entity types |\n| `getTaskRegistry()` | Register scheduled tasks |\n| `getAssetRegistry()` | Register asset types |\n| `getClientFeatureRegistry()` | Register client feature flags |\n| `getCodecRegistry(codec)` | Register to codec maps |\n\n## Utility Methods\n\n| Method | Return Type | Description |\n|--------|-------------|-------------|\n| `getLogger()` | `HytaleLogger` | Plugin-specific logger |\n| `getDataDirectory()` | `Path` | Plugin's data folder |\n| `getIdentifier()` | `PluginIdentifier` | Plugin's unique identifier |\n| `getManifest()` | `PluginManifest` | Plugin's manifest data |\n| `getBasePermission()` | `String` | Root permission node (group.name) |\n| `getFile()` | `Path` | Path to plugin JAR (JavaPlugin only) |\n| `isEnabled()` | `boolean` | Check if plugin is active |\n| `isDisabled()` | `boolean` | Check if plugin is inactive |\n| `getState()` | `PluginState` | Current lifecycle state |\n\n## Complete Example\n\n```java\npackage com.example.myplugin;\n\nimport com.hypixel.hytale.server.core.plugin.JavaPlugin;\nimport com.hypixel.hytale.server.core.plugin.JavaPluginInit;\nimport com.hypixel.hytale.server.core.event.events.player.PlayerConnectEvent;\nimport java.util.logging.Level;\n\npublic class MyPlugin extends JavaPlugin {\n\n    private static MyPlugin instance;\n\n    public static MyPlugin getInstance() {\n        return instance;\n    }\n\n    public MyPlugin(JavaPluginInit init) {\n        super(init);\n    }\n\n    @Override\n    protected void setup() {\n        instance = this;\n\n        // Register event listeners\n        getEventRegistry().register(PlayerConnectEvent.class, this::onPlayerConnect);\n\n        // Register commands\n        getCommandRegistry().register(new MyCommand());\n\n        getLogger().at(Level.INFO).log(\"MyPlugin setup complete!\");\n    }\n\n    @Override\n    protected void start() {\n        getLogger().at(Level.INFO).log(\"MyPlugin v%s started!\", getManifest().getVersion());\n    }\n\n    @Override\n    protected void shutdown() {\n        getLogger().at(Level.INFO).log(\"MyPlugin shutting down...\");\n        instance = null;\n    }\n\n    private void onPlayerConnect(PlayerConnectEvent event) {\n        // Use getPlayerRef() instead of deprecated getPlayer()\n        getLogger().at(Level.INFO).log(\"Player connected: %s\", event.getPlayerRef().getUsername());\n    }\n}\n```\n\n## Error Handling\n\nIf an exception occurs during `setup()` or `start()`:\n1. The exception is logged with the plugin's logger\n2. The plugin transitions to `DISABLED` state\n3. Any registrations made before the error are cleaned up\n\n```java\n@Override\nprotected void setup() {\n    try {\n        // Risky initialization\n    } catch (Exception e) {\n        getLogger().at(Level.SEVERE).withCause(e).log(\"Failed to initialize\");\n        throw e; // Re-throw to trigger plugin disable\n    }\n}\n```\n\n## Best Practices\n\n\u003CSteps>\n1. **Register in `setup()`**: Always perform registrations during the setup phase\n2. **Validate in `start()`**: Use the start phase to verify all dependencies are available\n3. **Clean up in `shutdown()`**: Release any external resources (files, connections, etc.)\n4. **Don't block**: Avoid long-running operations in lifecycle methods\n5. **Use the logger**: Log important events for debugging\n6. **Check state**: Use `isEnabled()` before accessing plugin resources from external code\n\u003C/Steps>\n\n## Related\n\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Configure your plugin's metadata\n- [First Plugin Tutorial](/getting-started/first-plugin/) - Build your first plugin\n- [Event System](/core-concepts/event-system/) - Register event listeners\n- [Command System](/core-concepts/commands/) - Register commands","src/content/docs/getting-started/plugin-lifecycle.mdx","d227330329b59f05","getting-started/plugin-manifest",{"id":68,"data":70,"body":75,"filePath":76,"digest":77,"deferredRender":16},{"title":71,"editUrl":16,"head":72,"template":52,"sidebar":73,"pagefind":16,"draft":42},"Plugin Manifest (plugin.json)",[],{"hidden":42,"attrs":74},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps } from '@astrojs/starlight/components';\n\n# Plugin Manifest (plugin.json)\n\nEvery Hytale plugin requires a `plugin.json` manifest file in its root directory. This file defines essential metadata about your plugin, including its identity, version, dependencies, and entry point.\n\n## Package Location\n\n`com.hypixel.hytale.common.plugin.PluginManifest`\n\n## Location\n\nThe manifest file must be placed at the root of your plugin JAR:\n\n\u003CFileTree>\n- my-plugin.jar\n  - plugin.json           # Required manifest file\n  - com/\n    - example/\n      - myplugin/\n        - MyPlugin.class\n  - assets/               # Optional asset pack\n\u003C/FileTree>\n\n## Full Schema Reference\n\n```json\n{\n  \"Group\": \"com.example\",\n  \"Name\": \"MyPlugin\",\n  \"Version\": \"1.0.0\",\n  \"Description\": \"A description of what this plugin does\",\n  \"Authors\": [\n    {\n      \"Name\": \"Your Name\",\n      \"Email\": \"you@example.com\",\n      \"Url\": \"https://yourwebsite.com\"\n    }\n  ],\n  \"Website\": \"https://github.com/example/my-plugin\",\n  \"Main\": \"com.example.myplugin.MyPlugin\",\n  \"ServerVersion\": \">=1.0.0\",\n  \"Dependencies\": {\n    \"Hytale/OtherPlugin\": \">=1.0.0\"\n  },\n  \"OptionalDependencies\": {\n    \"Hytale/SomeOptional\": \"*\"\n  },\n  \"LoadBefore\": {\n    \"Hytale/LoadAfterMe\": \"*\"\n  },\n  \"DisabledByDefault\": false,\n  \"IncludesAssetPack\": false,\n  \"SubPlugins\": []\n}\n```\n\n## Field Reference\n\n### Required Fields\n\n#### `Name`\n**Type:** `string` (required)\n\nThe unique name of your plugin. This is used as the plugin's identifier in combination with the Group.\n\n```json\n{\n  \"Name\": \"MyAwesomePlugin\"\n}\n```\n\n### Optional Fields\n\n#### `Group`\n**Type:** `string`\n\nThe organization or group namespace for your plugin. Similar to Maven group IDs. If not specified, defaults may be inherited from a parent plugin.\n\n```json\n{\n  \"Group\": \"com.mycompany\"\n}\n```\n\nThe full plugin identifier becomes `Group/Name` (e.g., `com.mycompany/MyAwesomePlugin`).\n\n#### `Version`\n**Type:** `string` (Semantic Versioning)\n\nThe version of your plugin following [Semantic Versioning 2.0.0](https://semver.org/) format.\n\n```json\n{\n  \"Version\": \"1.2.3\"\n}\n```\n\n**Supported formats:**\n- Basic: `1.0.0`\n- With pre-release: `1.0.0-alpha.1`\n- With build metadata: `1.0.0+build.123`\n- Combined: `1.0.0-beta.2+build.456`\n\n#### `Description`\n**Type:** `string`\n\nA human-readable description of what your plugin does.\n\n```json\n{\n  \"Description\": \"Adds custom weather effects and seasonal changes to your server\"\n}\n```\n\n#### `Authors`\n**Type:** `AuthorInfo[]`\n\nAn array of author information objects.\n\n```json\n{\n  \"Authors\": [\n    {\n      \"Name\": \"John Doe\",\n      \"Email\": \"john@example.com\",\n      \"Url\": \"https://johndoe.dev\"\n    },\n    {\n      \"Name\": \"Jane Smith\"\n    }\n  ]\n}\n```\n\nEach `AuthorInfo` object supports:\n- `Name` (string, optional): Author's display name\n- `Email` (string, optional): Author's contact email\n- `Url` (string, optional): Author's website or profile URL\n\n#### `Website`\n**Type:** `string`\n\nThe official website or repository URL for your plugin.\n\n```json\n{\n  \"Website\": \"https://github.com/mycompany/my-plugin\"\n}\n```\n\n#### `Main`\n**Type:** `string`\n\nThe fully qualified class name of your plugin's main class. This class must extend `JavaPlugin`.\n\n```json\n{\n  \"Main\": \"com.example.myplugin.MyPlugin\"\n}\n```\n\n#### `ServerVersion`\n**Type:** `string` (SemVer Range)\n\nSpecifies which server versions your plugin is compatible with. Uses npm-style semver range syntax.\n\n```json\n{\n  \"ServerVersion\": \">=1.0.0 \u003C2.0.0\"\n}\n```\n\n**Supported range operators:**\n| Operator | Example | Description |\n|----------|---------|-------------|\n| `>=` | `>=1.0.0` | Greater than or equal to |\n| `\u003C=` | `\u003C=2.0.0` | Less than or equal to |\n| `>` | `>1.0.0` | Greater than |\n| `\u003C` | `\u003C2.0.0` | Less than |\n| `=` | `=1.0.0` | Exact version |\n| `*` | `*` | Any version (wildcard) |\n| `~` | `~1.2.0` | Patch-level changes (`>=1.2.0 \u003C1.3.0`) |\n| `^` | `^1.2.0` | Minor-level changes (`>=1.2.0 \u003C2.0.0`) |\n| `\\|\\|` | `>=1.0.0 \u003C2.0.0 \\|\\| >=3.0.0` | OR condition (example: `>=1.0.0 \u003C2.0.0 \\|\\| >=3.0.0`) |\n| `-` | `1.0.0 - 2.0.0` | Inclusive range |\n\n#### `Dependencies`\n**Type:** `Map\u003CPluginIdentifier, SemverRange>`\n\nPlugins that must be loaded before this plugin. Keys are plugin identifiers in `Group/Name` format.\n\n```json\n{\n  \"Dependencies\": {\n    \"Hytale/WeatherPlugin\": \">=1.0.0\",\n    \"com.example/CoreLib\": \"^2.0.0\"\n  }\n}\n```\n\n\u003CAside type=\"caution\" title=\"Important\">\nIf a dependency is missing or doesn't satisfy the version range, your plugin will fail to load.\n\u003C/Aside>\n\n#### `OptionalDependencies`\n**Type:** `Map\u003CPluginIdentifier, SemverRange>`\n\nPlugins that enhance functionality if present but aren't required.\n\n```json\n{\n  \"OptionalDependencies\": {\n    \"Hytale/CraftingPlugin\": \"*\"\n  }\n}\n```\n\nYour plugin loads regardless of whether optional dependencies are present. Use runtime checks to detect their availability.\n\n#### `LoadBefore`\n**Type:** `Map\u003CPluginIdentifier, SemverRange>`\n\nSpecifies plugins that should load after this plugin. Useful for ensuring your plugin initializes first.\n\n```json\n{\n  \"LoadBefore\": {\n    \"Hytale/SomeOtherPlugin\": \"*\"\n  }\n}\n```\n\n#### `DisabledByDefault`\n**Type:** `boolean`\n\nIf `true`, the plugin won't be enabled automatically on server start. Administrators must manually enable it.\n\n```json\n{\n  \"DisabledByDefault\": true\n}\n```\n\nDefault: `false`\n\n#### `IncludesAssetPack`\n**Type:** `boolean`\n\nSet to `true` if your plugin JAR includes an embedded asset pack. The asset pack will be automatically registered when the plugin starts.\n\n```json\n{\n  \"IncludesAssetPack\": true\n}\n```\n\nDefault: `false`\n\n\u003CAside type=\"note\" title=\"Note\">\nWhen enabled, the server will look for assets in your JAR and register them with the identifier `Group/Name`.\n\u003C/Aside>\n\n#### `SubPlugins`\n**Type:** `PluginManifest[]`\n\nAn array of nested plugin manifests. Sub-plugins inherit values from their parent manifest if not explicitly specified.\n\n```json\n{\n  \"SubPlugins\": [\n    {\n      \"Name\": \"MySubFeature\",\n      \"Main\": \"com.example.myplugin.subfeature.SubFeaturePlugin\",\n      \"Description\": \"Optional sub-feature of MyPlugin\"\n    }\n  ]\n}\n```\n\nSub-plugins automatically:\n- Inherit `Group` if not specified\n- Inherit `Version` if not specified\n- Inherit `Description` if not specified\n- Inherit `Authors` if empty\n- Inherit `Website` if not specified\n- Add a dependency on the parent plugin\n\n## Minimal Example\n\nThe simplest valid manifest requires only a `Name` and `Main`:\n\n```json\n{\n  \"Name\": \"MinimalPlugin\",\n  \"Main\": \"com.example.MinimalPlugin\"\n}\n```\n\n## Complete Example\n\nA fully-featured manifest for a production plugin:\n\n```json\n{\n  \"Group\": \"com.hytalemodding\",\n  \"Name\": \"EnhancedWeather\",\n  \"Version\": \"2.1.0\",\n  \"Description\": \"Adds realistic weather systems including storms, fog, and seasonal effects\",\n  \"Authors\": [\n    {\n      \"Name\": \"WeatherDev\",\n      \"Email\": \"weather@hytalemodding.com\",\n      \"Url\": \"https://hytalemodding.com/team/weatherdev\"\n    }\n  ],\n  \"Website\": \"https://github.com/hytalemodding/enhanced-weather\",\n  \"Main\": \"com.hytalemodding.weather.EnhancedWeatherPlugin\",\n  \"ServerVersion\": \">=1.0.0\",\n  \"Dependencies\": {\n    \"Hytale/WeatherPlugin\": \">=1.0.0\"\n  },\n  \"OptionalDependencies\": {\n    \"Hytale/AmbiencePlugin\": \"*\"\n  },\n  \"DisabledByDefault\": false,\n  \"IncludesAssetPack\": true\n}\n```\n\n## Related\n\n- [Plugin Lifecycle](/getting-started/plugin-lifecycle/) - Understanding plugin states and lifecycle methods\n- [JavaPlugin Class](/api-reference/entities/overview/) - The main plugin base class\n- [First Plugin Tutorial](/getting-started/first-plugin/) - Create your first plugin step by step","src/content/docs/getting-started/plugin-manifest.mdx","108346b2aa2b2c20","getting-started/setup",{"id":78,"data":80,"body":85,"filePath":86,"digest":87,"deferredRender":16},{"title":81,"editUrl":16,"head":82,"template":52,"sidebar":83,"pagefind":16,"draft":42},"Development Environment Setup",[],{"hidden":42,"attrs":84},{},"{/* [VERIFIED: 2026-01-19] */}\n{/* AI-GENERATED: This documentation was curated by Claude based on decompiled server code analysis */}\n\nimport { Aside, FileTree, Steps } from '@astrojs/starlight/components';\n\n# Development Environment Setup\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis guide was generated by AI based on analysis of decompiled Hytale server code. While verified for accuracy, always test against your actual server version.\n\u003C/Aside>\n\nThis guide covers setting up your development environment for creating Hytale server plugins.\n\n## Requirements\n\n### Java Development Kit (JDK)\n\nHytale server plugins require **Java 21** or later.\n\n**Recommended distributions:**\n- [Eclipse Temurin](https://adoptium.net/) (Adoptium)\n- [Amazon Corretto](https://aws.amazon.com/corretto/)\n- [Oracle JDK](https://www.oracle.com/java/technologies/downloads/)\n\nVerify your installation:\n```bash\njava -version\n# Expected output: openjdk version \"21.x.x\" or similar\n```\n\n### Build Tool\n\nChoose one of the following build tools:\n\n- **Gradle** (recommended) - Version 8.0+\n- **Maven** - Version 3.9+\n\n### IDE (Recommended)\n\n- **IntelliJ IDEA** - Community or Ultimate edition\n- **Eclipse** - With Java 21 support\n- **VS Code** - With Java Extension Pack\n\n## Project Structure\n\nA typical Hytale plugin project follows this structure:\n\n\u003CFileTree>\n- my-plugin/\n  - build.gradle                # Gradle build configuration\n  - settings.gradle             # Gradle settings\n  - src/\n    - main/\n      - java/\n        - com/\n          - example/\n            - myplugin/\n              - MyPlugin.java\n      - resources/\n        - plugin.json           # Plugin manifest\n  - libs/\n    - HytaleServer.jar          # Server JAR (provided dependency)\n\u003C/FileTree>\n\n## Gradle Setup\n\n### build.gradle\n\n```groovy\nplugins {\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '1.0.0'\n\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(21)\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // Server JAR as compile-only (provided at runtime by server)\n    compileOnly files('libs/HytaleServer.jar')\n}\n\ntasks.withType(JavaCompile).configureEach {\n    options.encoding = 'UTF-8'\n}\n\njar {\n    // Include plugin.json in JAR root\n    from('src/main/resources') {\n        include 'plugin.json'\n    }\n\n    // Manifest for JAR\n    manifest {\n        attributes(\n            'Implementation-Title': project.name,\n            'Implementation-Version': project.version\n        )\n    }\n}\n```\n\n### settings.gradle\n\n```groovy\nrootProject.name = 'my-plugin'\n```\n\n## Maven Setup\n\n### pom.xml\n\n```xml\n\u003C?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\u003Cproject xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n         http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    \u003CmodelVersion>4.0.0\u003C/modelVersion>\n\n    \u003CgroupId>com.example\u003C/groupId>\n    \u003CartifactId>my-plugin\u003C/artifactId>\n    \u003Cversion>1.0.0\u003C/version>\n    \u003Cpackaging>jar\u003C/packaging>\n\n    \u003Cproperties>\n        \u003Cmaven.compiler.source>21\u003C/maven.compiler.source>\n        \u003Cmaven.compiler.target>21\u003C/maven.compiler.target>\n        \u003Cproject.build.sourceEncoding>UTF-8\u003C/project.build.sourceEncoding>\n    \u003C/properties>\n\n    \u003Cdependencies>\n        \u003Cdependency>\n            \u003CgroupId>com.hypixel.hytale\u003C/groupId>\n            \u003CartifactId>hytale-server\u003C/artifactId>\n            \u003Cversion>1.0.0\u003C/version>\n            \u003Cscope>system\u003C/scope>\n            \u003CsystemPath>${project.basedir}/libs/HytaleServer.jar\u003C/systemPath>\n        \u003C/dependency>\n    \u003C/dependencies>\n\n    \u003Cbuild>\n        \u003Cresources>\n            \u003Cresource>\n                \u003Cdirectory>src/main/resources\u003C/directory>\n                \u003Cfiltering>true\u003C/filtering>\n            \u003C/resource>\n        \u003C/resources>\n\n        \u003Cplugins>\n            \u003Cplugin>\n                \u003CgroupId>org.apache.maven.plugins\u003C/groupId>\n                \u003CartifactId>maven-compiler-plugin\u003C/artifactId>\n                \u003Cversion>3.11.0\u003C/version>\n                \u003Cconfiguration>\n                    \u003Csource>21\u003C/source>\n                    \u003Ctarget>21\u003C/target>\n                \u003C/configuration>\n            \u003C/plugin>\n\n            \u003Cplugin>\n                \u003CgroupId>org.apache.maven.plugins\u003C/groupId>\n                \u003CartifactId>maven-jar-plugin\u003C/artifactId>\n                \u003Cversion>3.3.0\u003C/version>\n            \u003C/plugin>\n        \u003C/plugins>\n    \u003C/build>\n\u003C/project>\n```\n\n## Obtaining the Server JAR\n\nThe Hytale server JAR (`HytaleServer.jar`) provides all the APIs you'll compile against.\n\n\u003CSteps>\n1. Download the dedicated server from the official Hytale source\n2. Place it in your project's `libs/` directory\n3. The server JAR is used as a **compile-only/provided** dependency\n\u003C/Steps>\n\n**Important:** Do not bundle the server JAR with your plugin. It's provided at runtime by the server.\n\n## Creating Your First Plugin\n\n### 1. Create the Plugin Class\n\n`src/main/java/com/example/myplugin/MyPlugin.java`:\n\n```java\npackage com.example.myplugin;\n\nimport com.hypixel.hytale.server.core.plugin.JavaPlugin;\nimport com.hypixel.hytale.server.core.plugin.JavaPluginInit;\nimport java.util.logging.Level;\n\npublic class MyPlugin extends JavaPlugin {\n\n    public MyPlugin(JavaPluginInit init) {\n        super(init);\n    }\n\n    @Override\n    protected void setup() {\n        getLogger().at(Level.INFO).log(\"Setting up MyPlugin...\");\n    }\n\n    @Override\n    protected void start() {\n        getLogger().at(Level.INFO).log(\"MyPlugin started!\");\n    }\n\n    @Override\n    protected void shutdown() {\n        getLogger().at(Level.INFO).log(\"MyPlugin shutdown.\");\n    }\n}\n```\n\n### 2. Create the Plugin Manifest\n\n`src/main/resources/plugin.json`:\n\n```json\n{\n  \"Group\": \"com.example\",\n  \"Name\": \"MyPlugin\",\n  \"Version\": \"1.0.0\",\n  \"Description\": \"My first Hytale plugin\",\n  \"Main\": \"com.example.myplugin.MyPlugin\",\n  \"Authors\": [\n    {\n      \"Name\": \"Your Name\"\n    }\n  ]\n}\n```\n\n### 3. Build Your Plugin\n\n**Gradle:**\n```bash\n./gradlew build\n# Output: build/libs/my-plugin-1.0.0.jar\n```\n\n**Maven:**\n```bash\nmvn package\n# Output: target/my-plugin-1.0.0.jar\n```\n\n### 4. Install and Test\n\n\u003CSteps>\n1. Copy the built JAR to your server's `plugins/` directory\n2. Start or restart the server\n3. Check the server logs for your plugin's messages\n\u003C/Steps>\n\n## IDE Configuration\n\n### IntelliJ IDEA\n\n\u003CSteps>\n1. **Import Project:**\n   - File  Open  Select your project directory\n   - Choose Gradle or Maven as the build system\n\n2. **Configure JDK:**\n   - File  Project Structure  Project\n   - Set SDK to Java 21\n   - Set Language Level to 21\n\n3. **Enable Annotation Processing:**\n   - Settings  Build  Compiler  Annotation Processors\n   - Enable annotation processing\n\u003C/Steps>\n\n### Eclipse\n\n\u003CSteps>\n1. **Import Project:**\n   - File  Import  Gradle/Maven  Existing Project\n\n2. **Configure Build Path:**\n   - Right-click project  Properties  Java Build Path\n   - Ensure HytaleServer.jar is in the Libraries tab\n\n3. **Set Compiler Level:**\n   - Right-click project  Properties  Java Compiler\n   - Set Compiler compliance level to 21\n\u003C/Steps>\n\n## Troubleshooting\n\n### \"Class not found\" errors\n\n- Ensure `HytaleServer.jar` is properly added to your classpath\n- Verify the `Main` field in `plugin.json` matches your class's fully qualified name\n\n### Plugin doesn't load\n\n- Check for JSON syntax errors in `plugin.json`\n- Verify `plugin.json` is at the root of your JAR (not in a subdirectory)\n- Check server logs for error messages\n\n### Compilation errors\n\n- Ensure you're using Java 21 or later\n- Verify the server JAR is the correct version\n\n## Next Steps\n\n- [First Plugin Tutorial](/getting-started/first-plugin/) - Complete walkthrough\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Manifest configuration\n- [Plugin Lifecycle](/getting-started/plugin-lifecycle/) - Understanding lifecycle","src/content/docs/getting-started/setup.mdx","208dd48a43303ff2","tutorials/builtin-plugins",{"id":88,"data":90,"body":95,"filePath":96,"digest":97,"deferredRender":16},{"title":91,"editUrl":16,"head":92,"template":52,"sidebar":93,"pagefind":16,"draft":42},"Built-in Plugins Reference",[],{"hidden":42,"attrs":94},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# Built-in Plugins Reference\n\nHytale includes 31 built-in plugins that demonstrate modding patterns and provide core gameplay features. This reference documents each plugin, its components, and how to learn from them.\n\n## Package Location\n\n`com.hypixel.hytale.builtin`\n\n## Complete Plugin List\n\nAll 31 built-in plugins organized by category:\n\n### Core Gameplay\n| Plugin | Directory | Description |\n|--------|-----------|-------------|\n| WeatherPlugin | `weather/` | Dynamic weather systems |\n| CraftingPlugin | `crafting/` | Crafting benches and recipes |\n| TeleportPlugin | `teleport/` | Teleportation and warps |\n| PortalsPlugin | `portals/` | Inter-world portals |\n| BedsPlugin | `beds/` | Spawn points and sleeping |\n| InstancesPlugin | `instances/` | Instanced dungeons/areas |\n\n### Movement & Combat\n| Plugin | Directory | Description |\n|--------|-----------|-------------|\n| MountPlugin | `mounts/` | Mounts and riding |\n| MantlingPlugin | `mantling/` | Ledge climbing |\n| SprintForcePlugin | `sprintforce/` | Sprint mechanics |\n| CrouchSlidePlugin | `crouchslide/` | Crouch sliding |\n| SafetyRollPlugin | `safetyroll/` | Fall damage reduction |\n| ParkourPlugin | `parkour/` | Parkour mechanics |\n| DeployablesPlugin | `deployables/` | Deployable items |\n\n### World Systems\n| Plugin | Directory | Description |\n|--------|-----------|-------------|\n| FluidPlugin | `fluid/` | Fluid simulation |\n| BlockPhysicsPlugin | `blockphysics/` | Block physics |\n| BlockTickPlugin | `blocktick/` | Block updates/growth |\n| WorldGenPlugin | `worldgen/` | World generation hooks |\n| HytaleGeneratorPlugin | `hytalegenerator/` | Default world generator |\n| BlockSpawnerPlugin | `blockspawner/` | Block-based spawners |\n| AmbiencePlugin | `ambience/` | Ambient sounds/effects |\n| LanDiscoveryPlugin | `landiscovery/` | LAN game discovery |\n\n### Adventure Mode\n| Plugin | Directory | Description |\n|--------|-----------|-------------|\n| AdventurePlugin | `adventure/` | Adventure mode (shops, reputation, objectives, memories, farming) |\n\n### Tools & Editors\n| Plugin | Directory | Description |\n|--------|-----------|-------------|\n| NPCEditorPlugin | `npceditor/` | NPC editing commands |\n| BuilderToolsPlugin | `buildertools/` | World building tools |\n| AssetEditorPlugin | `asseteditor/` | Asset editing utilities |\n| CommandMacroPlugin | `commandmacro/` | Command macros |\n| CreativeHubPlugin | `creativehub/` | Creative mode hub |\n\n### AI & NPCs\n| Plugin | Directory | Description |\n|--------|-----------|-------------|\n| NPCCombatActionEvaluatorPlugin | `npccombatactionevaluator/` | NPC combat AI |\n| PathPlugin | `path/` | Pathfinding utilities |\n\n### Misc\n| Plugin | Directory | Description |\n|--------|-----------|-------------|\n| ModelPlugin | `model/` | Model utilities |\n| TagSetPlugin | `tagset/` | Tag set management |\n\n---\n\n## WeatherPlugin\n\n**Location**: `builtin/weather/`\n\nManages dynamic weather systems per world.\n\n### Components\n\n| Component | Store | Description |\n|-----------|-------|-------------|\n| `WeatherTracker` | EntityStore | Tracks weather per player |\n| `WeatherResource` | EntityStore | World weather state |\n\n### Systems\n\n```java\nWeatherSystem.WorldAddedSystem    // Initialize weather for new worlds\nWeatherSystem.PlayerAddedSystem   // Send weather to joining players\nWeatherSystem.TickingSystem       // Update weather over time\nWeatherSystem.InvalidateWeatherAfterTeleport  // Sync after teleport\n```\n\n### Commands\n\n- `/weather \u003Ctype>` - Change weather\n\n### Key Patterns\n\n```java\n// Register resource\nweatherResourceType = EntityStore.REGISTRY.registerResource(\n    WeatherResource.class, WeatherResource::new);\n\n// Register component\nweatherTrackerComponentType = EntityStore.REGISTRY.registerComponent(\n    WeatherTracker.class, WeatherTracker::new);\n\n// Register systems\nentityStoreRegistry.registerSystem(new WeatherSystem.TickingSystem());\n```\n\n---\n\n## CraftingPlugin\n\n**Location**: `builtin/crafting/`\n\nComplete crafting system with benches, recipes, and UI.\n\n### Components\n\n| Component | Store | Description |\n|-----------|-------|-------------|\n| `CraftingManager` | EntityStore | Player crafting state |\n| `BenchState` | BlockState | Crafting bench state |\n| `ProcessingBenchState` | BlockState | Processing bench state |\n\n### Block States\n\n```java\n// Register block state for crafting benches\nblockStateRegistry.registerBlockState(\n    BenchState.class, \"crafting\", BenchState.CODEC);\n```\n\n### Interactions\n\n```java\nOpenBenchPageInteraction        // Open crafting UI\nOpenProcessingBenchInteraction  // Open processing UI\nLearnRecipeInteraction          // Learn new recipe\n```\n\n### Recipe System\n\n```java\n// Get recipes for a bench\nList\u003CCraftingRecipe> recipes = CraftingPlugin.getBenchRecipes(bench);\n\n// Learn a recipe\nCraftingPlugin.learnRecipe(ref, recipeId, componentAccessor);\n\n// Check if item is valid material\nCraftingPlugin.isValidCraftingMaterialForBench(benchState, itemStack);\n```\n\n### Commands\n\n- `/recipe learn \u003Cid>` - Learn recipe\n- `/recipe forget \u003Cid>` - Forget recipe\n\n---\n\n## TeleportPlugin\n\n**Location**: `builtin/teleport/`\n\nTeleportation commands and warp points.\n\n### Components\n\n| Component | Store | Description |\n|-----------|-------|-------------|\n| `TeleportHistory` | EntityStore | Player teleport history |\n| `WarpComponent` | EntityStore | Warp point marker |\n\n### Warps\n\n```java\n// Get all warps\nMap\u003CString, Warp> warps = TeleportPlugin.get().getWarps();\n\n// Warps persist in warps.json in universe folder\n```\n\n### Map Markers\n\n```java\n// Warps show on world map\nWarpMarkerProvider.INSTANCE  // Provides warp markers\n```\n\n### Commands\n\n- `/tp \u003Cplayer>` - Teleport to player\n- `/tp \u003Cx> \u003Cy> \u003Cz>` - Teleport to coordinates\n- `/warp \u003Cname>` - Go to warp\n- `/warp set \u003Cname>` - Create warp\n- `/spawn` - Go to spawn\n\n---\n\n## PortalsPlugin\n\n**Location**: `builtin/portals/`\n\nInter-world portal system with void events.\n\n### Components\n\n| Component | Store | Description |\n|-----------|-------|-------------|\n| `PortalWorld` | EntityStore (Resource) | Portal world data |\n| `PortalDevice` | ChunkStore | Portal device block |\n| `VoidEvent` | EntityStore | Void event state |\n| `VoidSpawner` | EntityStore | Void portal spawner |\n\n### Interactions\n\n```java\nEnterPortalInteraction   // Enter a portal\nReturnPortalInteraction  // Return from portal\n```\n\n### Gameplay Config\n\n```java\n// Register plugin config\ngetCodecRegistry(GameplayConfig.PLUGIN_CODEC)\n    .register(PortalGameplayConfig.class, \"Portal\", PortalGameplayConfig.CODEC);\n```\n\n### Systems\n\n```java\nPortalTrackerSystems.TrackerSystem\nPortalInvalidDestinationSystem\nCloseWorldWhenBreakingDeviceSystems\nVoidEventStagesSystem\n```\n\n---\n\n## MountPlugin\n\n**Location**: `builtin/mounts/`\n\nMounting and riding entities.\n\n### Key Features\n\n- Mount/dismount mechanics\n- Riding controls\n- Mount AI integration\n\n### Components\n\n| Component | Store | Description |\n|-----------|-------|-------------|\n| `MountComponent` | EntityStore | Mount state |\n| `RiderComponent` | EntityStore | Rider state |\n\n---\n\n## FluidPlugin\n\n**Location**: `builtin/fluid/`\n\nFluid simulation and water physics.\n\n### Key Features\n\n- Water flow simulation\n- Fluid level tracking\n- Swimming mechanics\n\n### Components\n\n| Component | Store | Description |\n|-----------|-------|-------------|\n| `FluidState` | ChunkStore | Fluid block state |\n\n---\n\n## BlockTickPlugin\n\n**Location**: `builtin/blocktick/`\n\nBlock update and tick system.\n\n### Systems\n\n```java\nChunkBlockTickSystem       // Process block ticks\nMergeWaitingBlocksSystem   // Merge pending updates\n```\n\n### Tick Procedures\n\n```java\nBasicChanceBlockGrowthProcedure      // Simple growth\nSplitChanceBlockGrowthProcedure      // Variable growth rates\n```\n\n---\n\n## BedsPlugin\n\n**Location**: `builtin/beds/`\n\nBed interactions and spawn points.\n\n### Key Features\n\n- Sleep mechanics\n- Individual spawn points\n- Respawn handling\n\n---\n\n## Adventure Mode Plugins\n\n### ShopPlugin\n\n**Location**: `builtin/adventure/shop/`\n\nNPC shop system with items and currencies.\n\n### ReputationPlugin\n\n**Location**: `builtin/adventure/reputation/`\n\nFaction/NPC reputation tracking.\n\n### ObjectivePlugin\n\n**Location**: `builtin/adventure/objectives/`\n\nQuest and objective tracking.\n\n### MemoriesPlugin\n\n**Location**: `builtin/adventure/memories/`\n\nNPC memory of player interactions.\n\n---\n\n## Common Patterns\n\n### Plugin Singleton Pattern\n\n```java\npublic class MyPlugin extends JavaPlugin {\n    private static MyPlugin instance;\n\n    public static MyPlugin get() {\n        return instance;\n    }\n\n    public MyPlugin(JavaPluginInit init) {\n        super(init);\n        instance = this;\n    }\n}\n```\n\n### Component Registration Pattern\n\n```java\n@Override\nprotected void setup() {\n    // Register component\n    myComponentType = EntityStore.REGISTRY.registerComponent(\n        MyComponent.class, MyComponent::new);\n\n    // Register system\n    getEntityStoreRegistry().registerSystem(new MySystem());\n}\n```\n\n### Event Registration Pattern\n\n```java\n@Override\nprotected void setup() {\n    // Register event listener\n    getEventRegistry().register(LoadedAssetsEvent.class, Item.class,\n        this::onItemLoad);\n\n    // Register global listener\n    getEventRegistry().registerGlobal(AddWorldEvent.class,\n        event -> initializeWorld(event.getWorld()));\n}\n```\n\n### Command Registration Pattern\n\n```java\n@Override\nprotected void setup() {\n    // Via CommandRegistry\n    getCommandRegistry().registerCommand(new MyCommand());\n\n    // Via CommandManager (system commands)\n    CommandManager.get().registerSystemCommand(new MySystemCommand());\n}\n```\n\n### Codec Registration Pattern\n\n```java\n@Override\nprotected void setup() {\n    // Register interaction type\n    getCodecRegistry(Interaction.CODEC)\n        .register(\"MyInteraction\", MyInteraction.class, MyInteraction.CODEC);\n\n    // Register block state\n    getBlockStateRegistry().registerBlockState(\n        MyBlockState.class, \"myBlockState\", MyBlockState.CODEC);\n}\n```\n\n### World Event Pattern\n\n```java\n@Override\nprotected void setup() {\n    getEventRegistry().registerGlobal(AddWorldEvent.class, event -> {\n        World world = event.getWorld();\n        // Initialize per-world state\n        world.getWorldMapManager().addMarkerProvider(\"markers\", myProvider);\n    });\n}\n```\n\n---\n\n## Learning From Built-in Plugins\n\n1. **Study structure**: Each plugin demonstrates proper organization\n2. **Examine codecs**: See how serialization is handled\n3. **Follow ECS patterns**: Learn component/system design\n4. **Understand lifecycle**: See how setup/start/shutdown work\n5. **Review commands**: Study command implementation\n6. **Analyze interactions**: Learn block/entity interaction patterns\n\n## Related\n\n- [Plugin Lifecycle](/getting-started/plugin-lifecycle/) - Plugin basics\n- [Event System](/core-concepts/event-system/) - Events\n- [Commands](/core-concepts/commands/) - Command system\n- [ECS Overview](/core-concepts/ecs-overview/) - Components and systems","src/content/docs/tutorials/builtin-plugins.mdx","fd65fc7f6da7d4b9","appendix/glossary",{"id":98,"data":100,"body":105,"filePath":106,"digest":107,"deferredRender":16},{"title":101,"editUrl":16,"head":102,"template":52,"sidebar":103,"pagefind":16,"draft":42},"Glossary",[],{"hidden":42,"attrs":104},{},"{/* [VERIFIED: 2026-01-19] */}\n{/* AI-GENERATED: This documentation was curated by Claude based on decompiled server code analysis */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# Glossary\n\n\u003CAside type=\"note\" title=\"AI-Generated Definitions\">\nThese definitions were generated by AI through analysis of decompiled Hytale server code. Terms and meanings may evolve as the API changes.\n\u003C/Aside>\n\nThis glossary defines terms commonly used throughout the Hytale Server Modding documentation.\n\n## A\n\n### Archetype\nA specific combination of components that defines an entity type. Entities with the same set of components share the same archetype. Archetypes enable efficient storage and querying.\n\n### Asset\nGame content defined in JSON files, such as block types, items, sounds, and particles. Assets are loaded from asset packs and can be modified or extended by plugins.\n\n### AssetMap\nA type-safe collection that stores loaded assets, providing methods for lookup by ID or index.\n\n### AssetPack\nA collection of asset files bundled with a plugin. Asset packs follow a specific directory structure and are loaded automatically when `IncludesAssetPack` is true in the plugin manifest.\n\n## B\n\n### Blackboard\nA shared memory structure used by NPCs for decision making and communication between AI components.\n\n### BlockState\nPer-block instance data stored in the ChunkStore for blocks that need persistent state (e.g., chests, doors). Block states are ECS components. **Note:** This class is marked `@Deprecated(forRemoval = true)`.\n\n### BlockType\nAn asset that defines a block's appearance, behavior, and properties. Block types are loaded from the `blocktype/` directory.\n\n### BuilderCodec\nA type of codec that uses a builder pattern for defining serialization. It allows field-by-field specification with optional inheritance.\n\n## C\n\n### Chunk\nA 32x320x32 block column in the world (`ChunkUtil.SIZE=32`, `ChunkUtil.HEIGHT=320`). Chunks are the fundamental unit of world loading and saving.\n\n### ChunkStore\nThe ECS store that manages chunk-level components and data, such as block states.\n\n### Codec\nA serialization/deserialization mechanism used throughout Hytale for converting objects to/from BSON or JSON format.\n\n### CommandBuffer\nA buffer that collects ECS operations during system execution. Operations are applied atomically after system processing completes.\n\n### Component\nA data container attached to entities or chunks in the ECS. Components hold state but no behavior.\n\n### ComponentType\nA type descriptor that identifies and provides metadata for a component class.\n\n## E\n\n### ECS (Entity Component System)\nThe architectural pattern used by Hytale for game objects. Entities are IDs, components are data, and systems are behavior.\n\n### Entity\nA unique identifier in the ECS that can have components attached to it. Entities represent all dynamic objects in the game.\n\n### EntityStore\nThe ECS store that manages entity components. Each world has its own EntityStore.\n\n### Event\nA message that signals something happened in the game. Events can be listened to by plugins and may be cancellable.\n\n### EventBus\nThe central dispatcher that manages event listeners and delivers events to registered handlers.\n\n### EventPriority\nThe order in which event listeners are called. Priorities range from FIRST (-21844) to LAST (21844).\n\n## F\n\n### Flock\nA group of NPCs that coordinate their behavior using flocking algorithms (alignment, separation, cohesion).\n\n## G\n\n### GlobalFilter\nA filter applied to all slots in an ItemContainer, controlling what items can be added or removed.\n\n## H\n\n### Holder\nA temporary container for components before they're spawned into a Store. Holders are used to construct entities.\n\n### Hotbar\nThe quick-access inventory row typically displayed at the bottom of the player's screen.\n\n## I\n\n### ICancellable\nAn interface for events that can be cancelled, preventing their default behavior.\n\n### Interaction\nA block or entity behavior triggered by player input. Interactions are defined as assets and executed server-side.\n\n### ItemContainer\nAn interface for item storage, implemented by various container types like chests and player inventories.\n\n### ItemStack\nA stack of one or more items of the same type, with optional metadata and durability.\n\n## J\n\n### JavaPlugin\nThe base class for Hytale server plugins. All plugins extend this class and override lifecycle methods.\n\n## K\n\n### KeyedCodec\nA codec that wraps another codec with a key name, used for fields in serialization.\n\n## L\n\n### LivingEntity\nAn entity type that has health, can take damage, and can die. Players and NPCs are living entities.\n\n## M\n\n### MotionController\nAn NPC component that handles movement calculations for different locomotion types (walking, flying, swimming).\n\n## N\n\n### NPC (Non-Player Character)\nAn AI-controlled entity with a Role that defines its behavior.\n\n## P\n\n### PlayerRef\nThe primary interface for working with connected players. It bridges network connections with in-world entities.\n\n### Plugin\nA server extension that adds or modifies functionality. Plugins are packaged as JAR files with a plugin.json manifest.\n\n### PluginManifest\nThe metadata file (plugin.json) that describes a plugin, including its name, version, dependencies, and entry point.\n\n### Prefab\nA pre-built structure that can be placed in the world during generation or at runtime.\n\n## Q\n\n### Query\nA filter that specifies which entities a system processes, based on component composition.\n\n## R\n\n### Ref\nA stable reference to an entity or chunk in a Store. Refs remain valid across operations.\n\n### Registry\nA type-safe collection for storing registrations of components, systems, or other objects.\n\n### Resource\nA singleton-like piece of shared data in an ECS store, such as world time or weather state.\n\n### ResourceType\nA type descriptor that identifies and provides metadata for a resource class.\n\n### Role\nAn NPC behavior configuration that defines AI, stats, and appearance.\n\n## S\n\n### Semver\nSemantic versioning format (MAJOR.MINOR.PATCH) used for plugin versions.\n\n### SemverRange\nA version constraint that specifies compatible plugin versions.\n\n### SlotFilter\nA filter applied to specific slots in an ItemContainer.\n\n### Spawn\nThe creation and placement of an entity in the world.\n\n### SpawnBeacon\nA world entity that triggers NPC spawning based on configured conditions.\n\n### Store\nThe ECS container that manages entities/chunks and their components for a specific store type.\n\n### System\nAn ECS processor that operates on entities matching a specific Query. Systems provide behavior.\n\n## T\n\n### TickProcedure\nBlock behavior executed on random ticks, used for growth, decay, and other time-based effects.\n\n### Transaction\nAn inventory operation result that describes what happened and what remains.\n\n### Transform\nAn entity's position and rotation in the world.\n\n### TransformComponent\nThe ECS component that stores an entity's position and rotation.\n\n## U\n\n### Universe\nThe top-level container for all worlds and player data. There is one Universe per server.\n\n## W\n\n### Warp\nA named teleport destination that players can travel to.\n\n### World\nA separate game dimension with its own terrain, entities, and rules. Multiple worlds can exist in a Universe.\n\n### WorldGenProvider\nAn interface for world generation implementations. Different providers create different terrain types.\n\n## Z\n\n### Zone\nA large-scale region in world generation with distinct generation rules and biomes.\n\n---\n\n## See Also\n\n- [Plugin Manifest](/getting-started/plugin-manifest/)\n- [ECS Overview](/core-concepts/ecs-overview/)\n- [Event System](/core-concepts/event-system/)\n- [Command System](/core-concepts/commands/)","src/content/docs/appendix/glossary.mdx","a02e22ec29189fbe","api-reference/assets/overview",{"id":108,"data":110,"body":115,"filePath":116,"digest":117,"deferredRender":16},{"title":111,"editUrl":16,"head":112,"template":52,"sidebar":113,"pagefind":16,"draft":42},"Asset System Overview",[],{"hidden":42,"attrs":114},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Asset System Overview\n\nThe Asset System manages all game content including blocks, items, entities, sounds, particles, and more. Assets are defined in JSON files and can be bundled with plugins.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.asset.type`\n\n## Asset Pack Structure\n\nAsset packs follow a specific directory structure:\n\n\u003CFileTree>\n- my-plugin.jar/\n  - plugin.json\n  - assets/\n    - blocktype/ Block definitions\n    - item/ Item definitions\n    - model/ 3D models\n    - soundevent/ Sound events\n    - soundset/ Sound collections\n    - particle/ Particle systems\n    - weather/ Weather configurations\n    - entity/ Entity definitions\n    - entityeffect/ Status effects\n    - environment/ Environment settings\n    - ambiencefx/ Ambient effects\n    - gameplay/ Gameplay configurations\n\u003C/FileTree>\n\n## Core Asset Types\n\n### Block Types (`blocktype/`)\n\nDefine block behavior and properties:\n\n```json\n{\n  \"Id\": \"MyPlugin_CustomBlock\",\n  \"DisplayName\": \"Custom Block\",\n  \"Model\": \"MyPlugin/custom_block\",\n  \"Material\": \"Stone\",\n  \"Hardness\": 2.0,\n  \"LightLevel\": 0,\n  \"IsOpaque\": true,\n  \"IsSolid\": true,\n  \"BlockSound\": \"Hytale/Stone\"\n}\n```\n\n**Key properties:**\n| Property | Type | Description |\n|----------|------|-------------|\n| `Id` | `string` | Unique block identifier |\n| `DisplayName` | `string` | Localized display name |\n| `Model` | `string` | Model asset reference |\n| `Material` | `string` | Material for tools/damage |\n| `Hardness` | `float` | Mining difficulty |\n| `LightLevel` | `int` | Emitted light (0-15) |\n| `IsOpaque` | `bool` | Blocks light completely |\n| `IsSolid` | `bool` | Has collision |\n\n### Items (`item/`)\n\nDefine items and their behavior:\n\n```json\n{\n  \"Id\": \"MyPlugin_CustomSword\",\n  \"DisplayName\": \"Custom Sword\",\n  \"Model\": \"MyPlugin/sword_model\",\n  \"MaxStack\": 1,\n  \"MaxDurability\": 500,\n  \"AttackDamage\": 7.0,\n  \"AttackSpeed\": 1.6,\n  \"Tags\": [\"weapon\", \"sword\"]\n}\n```\n\n**Key properties:**\n| Property | Type | Description |\n|----------|------|-------------|\n| `Id` | `string` | Unique item identifier |\n| `DisplayName` | `string` | Localized display name |\n| `MaxStack` | `int` | Maximum stack size |\n| `MaxDurability` | `float` | Maximum durability (0 = unbreakable) |\n| `AttackDamage` | `float` | Melee damage |\n| `Tags` | `string[]` | Item categorization tags |\n\n### Sound Events (`soundevent/`)\n\nDefine sounds that can be played:\n\n```json\n{\n  \"Id\": \"MyPlugin_CustomSound\",\n  \"Sounds\": [\n    {\n      \"Path\": \"sounds/custom_sound.ogg\",\n      \"Volume\": 1.0,\n      \"Pitch\": 1.0\n    }\n  ],\n  \"Category\": \"Master\"\n}\n```\n\n### Particles (`particle/`)\n\nDefine particle systems:\n\n```json\n{\n  \"Id\": \"MyPlugin_CustomParticle\",\n  \"Emitters\": [\n    {\n      \"Type\": \"Point\",\n      \"Rate\": 10,\n      \"Lifetime\": 1.0,\n      \"Color\": \"#FF0000\",\n      \"Size\": 0.1\n    }\n  ]\n}\n```\n\n### Entity Effects (`entityeffect/`)\n\nDefine status effects for entities:\n\n```json\n{\n  \"Id\": \"MyPlugin_CustomEffect\",\n  \"DisplayName\": \"Custom Effect\",\n  \"Duration\": 300,\n  \"Icon\": \"icons/custom_effect.png\",\n  \"Effects\": {\n    \"Speed\": 1.5,\n    \"Health\": -1.0\n  }\n}\n```\n\n### Weather (`weather/`)\n\nDefine weather configurations:\n\n```json\n{\n  \"Id\": \"MyPlugin_CustomWeather\",\n  \"DisplayName\": \"Custom Weather\",\n  \"Fog\": {\n    \"Color\": \"#808080\",\n    \"Density\": 0.5\n  },\n  \"Clouds\": {\n    \"Enabled\": true,\n    \"Density\": 0.8\n  },\n  \"Precipitation\": \"Rain\"\n}\n```\n\n### Gameplay (`gameplay/`)\n\nConfigure gameplay mechanics:\n\n```json\n{\n  \"Id\": \"MyPlugin_GameplayConfig\",\n  \"Combat\": {\n    \"DamageMultiplier\": 1.0,\n    \"DisplayHealthBars\": true\n  },\n  \"Death\": {\n    \"DropItems\": true,\n    \"DropExperience\": true\n  }\n}\n```\n\n## Accessing Assets in Code\n\n### Get Asset by ID\n\n```java\n// Block types\nBlockType blockType = BlockType.getAssetMap().get(\"MyPlugin_CustomBlock\");\n\n// Items\nItem item = Item.getAssetMap().get(\"MyPlugin_CustomSword\");\n\n// Weather\nWeather weather = Weather.getAssetMap().get(\"MyPlugin_CustomWeather\");\n\n// Entity effects\nEntityEffect effect = EntityEffect.getAssetMap().get(\"MyPlugin_CustomEffect\");\n```\n\n### Asset Maps\n\nEach asset type has an `AssetMap` for lookups:\n\n```java\nAssetMap\u003CBlockType> blockTypes = BlockType.getAssetMap();\n\n// Get by key\nBlockType block = blockTypes.get(\"Block_Key\");\n\n// Get all keys\nSet\u003CString> keys = blockTypes.keySet();\n\n// Check existence\nboolean exists = blockTypes.containsKey(\"Some_Block\");\n\n// Get index (for network serialization)\nint index = blockTypes.getIndex(\"Block_Key\");\n```\n\n## Registering Assets\n\n### In Plugin Manifest\n\nSet `IncludesAssetPack` in `plugin.json`:\n\n```json\n{\n  \"Name\": \"MyPlugin\",\n  \"IncludesAssetPack\": true\n}\n```\n\n### Programmatic Registration\n\n```java\n@Override\nprotected void setup() {\n    // Register custom asset type handler\n    getAssetRegistry().register(/* asset registration */);\n}\n```\n\n## Asset Modifiers\n\nModify existing assets at runtime:\n\n```java\n// Get block type\nBlockType stone = BlockType.getAssetMap().get(\"Block_Stone\");\n\n// Assets are typically immutable\n// Use asset overrides in your asset pack instead\n```\n\n## Asset Pack Priority\n\nWhen multiple packs define the same asset, priority determines which is used:\n\n1. **Core Assets**: Base game assets (lowest priority)\n2. **Plugin Assets**: In order of plugin loading\n3. **Override Packs**: Explicit overrides (highest priority)\n\n## Asset Validation\n\nAssets are validated on load:\n\n```java\n// Assets use validators\nBuilderCodec\u003CItem> codec = Item.CODEC;\n\n// Validation includes:\n// - Required fields\n// - Value ranges\n// - Reference validity\n// - Type constraints\n```\n\n## Asset Serialization\n\nAssets use the Codec system for serialization:\n\n```java\n// Most assets have a CODEC\nBuilderCodec\u003CBlockType> blockCodec = BlockType.CODEC;\nBuilderCodec\u003CItem> itemCodec = Item.CODEC;\n\n// Serialize to BSON\nBsonDocument doc = codec.encode(asset, extraInfo);\n\n// Deserialize\nAsset loaded = codec.decode(doc, extraInfo);\n```\n\n## Asset Hot-Reloading\n\nThe server supports hot-reloading of assets during development:\n\n- Assets in development packs can be reloaded\n- Connected clients receive updated asset data\n- Not all asset changes take effect immediately\n\n## Complete Asset Type List\n\nAll 35 asset types organized by category:\n\n### Content Assets\n| Directory | Class | Description |\n|-----------|-------|-------------|\n| `blocktype/` | `BlockType` | Block definitions |\n| `blockset/` | `BlockSet` | Block groupings |\n| `item/` | `Item` | Item definitions |\n| `fluid/` | `Fluid` | Fluid types |\n| `projectile/` | `Projectile` | Projectile definitions |\n\n### Visual Assets\n| Directory | Class | Description |\n|-----------|-------|-------------|\n| `model/` | `Model` | 3D models |\n| `particle/` | `Particle` | Particle systems |\n| `trail/` | `Trail` | Trail effects |\n| `modelvfx/` | `ModelVFX` | Model visual effects |\n| `fluidfx/` | `FluidFX` | Fluid visual effects |\n| `blockbreakingdecal/` | `BlockBreakingDecal` | Break animation overlays |\n| `blockhitbox/` | `BlockBoundingBoxes` | Block collision shapes |\n| `blockparticle/` | `BlockParticleSet` | Block particle effects |\n\n### Audio Assets\n| Directory | Class | Description |\n|-----------|-------|-------------|\n| `soundevent/` | `SoundEvent` | Individual sounds |\n| `soundset/` | `SoundSet` | Sound collections |\n| `blocksound/` | `BlockSoundSet` | Block-specific sounds |\n| `itemsound/` | `ItemSoundSet` | Item-specific sounds |\n| `audiocategory/` | `AudioCategory` | Audio categories |\n| `equalizereffect/` | `EqualizerEffect` | Audio equalizer effects |\n| `reverbeffect/` | `ReverbEffect` | Audio reverb effects |\n\n### World Assets\n| Directory | Class | Description |\n|-----------|-------|-------------|\n| `weather/` | `Weather` | Weather systems |\n| `environment/` | `Environment` | Environment settings |\n| `ambiencefx/` | `AmbienceFX` | Ambient effects |\n| `portalworld/` | `PortalWorld` | Portal world definitions |\n\n### Gameplay Assets\n| Directory | Class | Description |\n|-----------|-------|-------------|\n| `gameplay/` | `GameplayConfig` | Gameplay configuration |\n| `gamemode/` | `GameMode` | Game mode definitions |\n| `entityeffect/` | `EntityEffect` | Status effects |\n| `attitude/` | `Attitude` | NPC attitudes |\n| `camera/` | `Camera` | Camera configurations |\n| `itemanimation/` | `ItemAnimation` | Item animations |\n| `blocktick/` | `TickProcedure` | Block tick procedures |\n\n### Utility Assets\n| Directory | Class | Description |\n|-----------|-------|-------------|\n| `buildertool/` | `BuilderTool` | Builder tools |\n| `tagpattern/` | `TagPattern` | Tag matching patterns |\n| `responsecurve/` | `ResponseCurve` | Mathematical curves |\n| `wordlist/` | `WordList` | Word lists for generation |\n\n## Best Practices\n\n1. **Use unique prefixes**: Prefix asset IDs with your plugin name\n2. **Validate references**: Ensure referenced assets exist\n3. **Provide defaults**: Include sensible default values\n4. **Document assets**: Comment complex configurations\n5. **Test combinations**: Verify assets work together\n6. **Consider performance**: Avoid overly complex particle systems\n\n## Related\n\n- [Block Types](/api-reference/blocks/overview/) - Detailed block documentation\n- [Items](/api-reference/assets/overview/) - Detailed item documentation\n- [Sounds](/api-reference/assets/overview/) - Audio system\n- [Particles](/api-reference/assets/overview/) - Particle system","src/content/docs/api-reference/assets/overview.mdx","022298c44b111cfa","api-reference/blocks/overview",{"id":118,"data":120,"body":125,"filePath":126,"digest":127,"deferredRender":16},{"title":121,"editUrl":16,"head":122,"template":52,"sidebar":123,"pagefind":16,"draft":42},"Block System Overview",[],{"hidden":42,"attrs":124},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# Block System Overview\n\nThe Block System manages all block types, block states, and block-related operations in Hytale. Blocks are the fundamental building units of the world.\n\n## Package Location\n\n- BlockType: `com.hypixel.hytale.server.core.asset.type.blocktype.config.BlockType`\n- BlockState: `com.hypixel.hytale.server.core.universe.world.meta.BlockState` **(deprecated)**\n- BlockStateRegistry: `com.hypixel.hytale.server.core.universe.world.meta.BlockStateRegistry`\n- TickProcedure: `com.hypixel.hytale.server.core.asset.type.blocktick.config.TickProcedure`\n\n## Core Components\n\n| Component | Description |\n|-----------|-------------|\n| `BlockType` | Asset definition for block behavior and appearance |\n| `BlockState` | Per-block instance data for stateful blocks |\n| `BlockStateRegistry` | Registration of custom block state types |\n| `TickProcedure` | Block tick behavior (growth, decay, etc.) |\n\n## BlockType\n\n`BlockType` is an asset that defines a block's properties and behavior. It's loaded from JSON files in the `blocktype/` directory.\n\n### BlockType Structure\n\n```json\n{\n  \"Id\": \"MyPlugin_CustomBlock\",\n  \"Group\": \"MyBlocks\",\n  \"DrawType\": \"Cube\",\n  \"Material\": \"Stone\",\n  \"Opacity\": \"Solid\",\n  \"Textures\": [\n    {\n      \"Up\": \"textures/block_top.png\",\n      \"Down\": \"textures/block_bottom.png\",\n      \"North\": \"textures/block_side.png\",\n      \"South\": \"textures/block_side.png\",\n      \"East\": \"textures/block_side.png\",\n      \"West\": \"textures/block_side.png\"\n    }\n  ],\n  \"HitboxType\": \"Full\",\n  \"BlockSoundSetId\": \"Hytale/Stone\"\n}\n```\n\n### Key Properties\n\n#### Rendering Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `DrawType` | `DrawType` | How the block is rendered (`Cube`, `Model`, `Empty`) |\n| `Textures` | `BlockTypeTextures[]` | Textures for each face |\n| `CustomModel` | `string` | Path to custom 3D model |\n| `CustomModelTexture` | `array` | Textures for custom model |\n| `CustomModelScale` | `float` | Scale factor for model (default: 1.0) |\n| `CustomModelAnimation` | `string` | Animation for model |\n| `Opacity` | `Opacity` | Light blocking (`Solid`, `Transparent`, `SemiTransparent`) |\n| `RequiresAlphaBlending` | `bool` | Enable alpha blending |\n| `CubeShadingMode` | `ShadingMode` | Shading style (`Standard`, etc.) |\n| `Effect` | `ShaderType[]` | Shader effects |\n\n#### Physics Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `Material` | `BlockMaterial` | Physical material type |\n| `HitboxType` | `string` | Collision hitbox type (`Full`, etc.) |\n| `InteractionHitboxType` | `string` | Hitbox for interactions |\n| `MovementSettings` | `object` | Movement modifiers on block |\n\n#### Visual Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `Light` | `ColorLight` | Emitted light color and intensity |\n| `Tint` | `Color[]` | Color tint per face |\n| `TintUp/Down/North/South/East/West` | `Color[]` | Per-face tints |\n| `BiomeTint` | `int` | Biome color application |\n| `ParticleColor` | `Color` | Particle tint |\n| `Particles` | `ModelParticle[]` | Block-attached particles |\n| `BlockParticleSetId` | `string` | Particle set for interactions |\n\n#### Sound Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `BlockSoundSetId` | `string` | Sound set for block events |\n| `AmbientSoundEventId` | `string` | Looping ambient sound |\n| `InteractionSoundEventId` | `string` | Sound on interaction |\n| `Looping` | `bool` | Whether ambient sound loops |\n\n#### Rotation Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `RandomRotation` | `RandomRotation` | Random rotation on placement |\n| `VariantRotation` | `VariantRotation` | Variant-based rotation |\n| `FlipType` | `BlockFlipType` | Flip behavior |\n| `RotationYawPlacementOffset` | `Rotation` | Yaw offset when placed |\n\n#### Support Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `Support` | `map` | Required support per face |\n| `Supporting` | `map` | Support provided to neighbors |\n| `SupportDropType` | `SupportDropType` | What happens when support lost |\n| `MaxSupportDistance` | `int` | Maximum support reach (0-14) |\n| `SupportsRequiredFor` | `enum` | When support is checked |\n| `IgnoreSupportWhenPlaced` | `bool` | Bypass support on placement |\n\n#### Behavior Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `Flags.IsUsable` | `bool` | Can be used/interacted with |\n| `Flags.IsStackable` | `bool` | Can be stacked on top |\n| `Interactions` | `map` | Interaction handlers |\n| `Bench` | `object` | Crafting bench configuration |\n| `Gathering` | `object` | Resource gathering settings |\n| `PlacementSettings` | `object` | Placement restrictions |\n| `Seats` | `array` | Seating mount points |\n| `Beds` | `array` | Bed mount points |\n| `IsDoor` | `bool` | Door behavior (deprecated) |\n| `DamageToEntities` | `int` | Contact damage |\n\n#### State Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `State` | `StateData` | Block state configuration |\n| `BlockEntity` | `Holder` | ECS components for block entity |\n| `TickProcedure` | `object` | Block tick behavior |\n\n### DrawType Enum\n\n| Value | Description |\n|-------|-------------|\n| `Empty` | Invisible, no rendering |\n| `Cube` | Standard cube block |\n| `Model` | Custom 3D model |\n\n### BlockMaterial Enum\n\nCommon materials:\n\n| Value | Description |\n|-------|-------------|\n| `Empty` | No physical material |\n| `Solid` | Generic solid |\n| `Stone` | Stone-like |\n| `Wood` | Wood-like |\n| `Metal` | Metallic |\n| `Glass` | Glass-like |\n| `Organic` | Plants, grass |\n| `Cloth` | Fabric |\n| `Liquid` | Water, lava |\n\n### Accessing BlockTypes\n\n```java\n// Get by ID\nBlockType stone = BlockType.getAssetMap().get(\"Rock_Stone\");\n\n// Get from world position\nWorld world = Universe.get().getDefaultWorld();\nBlockType type = world.getBlockType(x, y, z);\n\n// Get block ID (numeric)\nint blockId = world.getBlock(x, y, z);\n\n// Check special blocks\nBlockType.EMPTY  // Air block\nBlockType.UNKNOWN  // Unknown block placeholder\n```\n\n### Setting Blocks\n\n```java\n// Simple set\nworld.setBlock(x, y, z, blockType);\n\n// With settings\nSetBlockSettings settings = new SetBlockSettings();\nsettings.setNotifyNeighbors(true);\nsettings.setUpdateLighting(true);\nsettings.setTriggerBlockUpdate(true);\nworld.setBlock(x, y, z, blockType, settings);\n```\n\n## Block States\n\nBlock states store per-block instance data for blocks that need persistent state.\n\n\u003CAside type=\"caution\" title=\"Deprecated API\">\nThe `BlockState` class is marked as `@Deprecated(forRemoval = true)`. It may be replaced with a new ECS-based block entity system in future versions.\n\u003C/Aside>\n\n### BlockState Class\n\n```java\n// BlockState is a component for the ChunkStore\npublic abstract class BlockState implements Component\u003CChunkStore> {\n    // Position within chunk\n    public Vector3i getPosition();\n    public Vector3i getBlockPosition();  // World coordinates\n\n    // Access chunk and block type\n    public WorldChunk getChunk();\n    public BlockType getBlockType();\n\n    // Rotation\n    public int getRotationIndex();\n\n    // Lifecycle\n    public boolean initialize(BlockType blockType);\n    public void onUnload();\n    public void invalidate();\n\n    // Persistence\n    public void markNeedsSave();\n    public BsonDocument saveToDocument();\n}\n```\n\n### Registering Block States\n\n```java\n@Override\nprotected void setup() {\n    // Register a block state type\n    getBlockStateRegistry().registerBlockState(\n        MyBlockState.class,\n        \"MyPlugin_CustomState\",\n        MyBlockState.CODEC\n    );\n\n    // With associated data class\n    getBlockStateRegistry().registerBlockState(\n        MyBlockState.class,\n        \"MyPlugin_CustomState\",\n        MyBlockState.CODEC,\n        MyStateData.class,\n        MyStateData.CODEC\n    );\n}\n```\n\n### Custom Block State Example\n\n```java\npublic class ChestBlockState extends BlockState {\n    public static final BuilderCodec\u003CChestBlockState> CODEC =\n        BuilderCodec.builder(ChestBlockState.class, ChestBlockState::new)\n            .inherit(BlockState.BASE_CODEC)\n            .addField(\n                new KeyedCodec\u003C>(\"IsOpen\", Codec.BOOLEAN),\n                (state, open) -> state.isOpen = open,\n                state -> state.isOpen\n            )\n            .build();\n\n    private boolean isOpen = false;\n    private ItemContainer inventory;\n\n    @Override\n    public boolean initialize(BlockType blockType) {\n        this.inventory = new SimpleItemContainer((short) 27);\n        return true;\n    }\n\n    public void toggle() {\n        this.isOpen = !this.isOpen;\n        markNeedsSave();\n    }\n\n    public ItemContainer getInventory() {\n        return inventory;\n    }\n}\n```\n\n### Accessing Block States\n\n```java\n// Get state from chunk\nWorldChunk chunk = world.getChunk(chunkX, chunkZ);\nBlockState state = chunk.getState(localX, y, localZ);\n\n// Ensure state exists (creates if needed)\nBlockState state = BlockState.ensureState(chunk, x, y, z);\n\n// Cast to specific type\nif (state instanceof ChestBlockState chestState) {\n    chestState.toggle();\n}\n```\n\n## Block Tick System\n\nBlocks can have tick procedures for time-based behavior like growth or decay.\n\n### TickProcedure\n\n```java\npublic abstract class TickProcedure {\n    // Called when block should tick\n    public abstract BlockTickStrategy onTick(\n        World world,\n        WorldChunk chunk,\n        int x, int y, int z,\n        int blockId\n    );\n}\n```\n\n### BlockTickStrategy\n\nReturn value indicating what happened:\n\n| Strategy | Description |\n|----------|-------------|\n| `NONE` | No change |\n| `CHANGED` | Block was modified |\n| `REMOVED` | Block was removed |\n\n### Built-in Procedures\n\n```java\n// Basic chance-based growth\npublic class BasicChanceBlockGrowthProcedure extends TickProcedure {\n    // Grows block to next stage with configurable chance\n}\n\n// Split chance growth (different chances per stage)\npublic class SplitChanceBlockGrowthProcedure extends TickProcedure {\n    // Different growth chances for each stage\n}\n```\n\n### Tick Procedure in JSON\n\n```json\n{\n  \"Id\": \"MyPlugin_GrowingPlant\",\n  \"TickProcedure\": {\n    \"Type\": \"BasicChanceBlockGrowthProcedure\",\n    \"GrowChance\": 0.1,\n    \"GrowToBlock\": \"MyPlugin_MaturePlant\"\n  }\n}\n```\n\n## Block Support System\n\nBlocks can require and provide support to neighboring blocks.\n\n### Support Configuration\n\n```json\n{\n  \"Support\": {\n    \"Down\": [{ \"Type\": \"Full\" }]\n  },\n  \"Supporting\": {\n    \"Up\": [{ \"Type\": \"Full\" }],\n    \"North\": [{ \"Type\": \"Full\" }],\n    \"South\": [{ \"Type\": \"Full\" }],\n    \"East\": [{ \"Type\": \"Full\" }],\n    \"West\": [{ \"Type\": \"Full\" }]\n  },\n  \"SupportDropType\": \"BREAK\"\n}\n```\n\n### SupportDropType\n\n| Type | Description |\n|------|-------------|\n| `BREAK` | Block breaks when support lost |\n| `DROP` | Block drops as item |\n| `NONE` | Block stays (no physics) |\n\n## Connected Blocks\n\nBlocks can connect to neighbors for visual continuity (fences, glass panes, etc.).\n\n```json\n{\n  \"ConnectedBlockRuleSet\": {\n    \"Rules\": [\n      {\n        \"Condition\": { \"Type\": \"SameBlock\" },\n        \"Connect\": true\n      }\n    ]\n  }\n}\n```\n\n## Block Interactions\n\nDefine interactions in the block type:\n\n```json\n{\n  \"Interactions\": {\n    \"Primary\": \"MyPlugin_PrimaryInteraction\",\n    \"Secondary\": \"MyPlugin_SecondaryInteraction\"\n  },\n  \"InteractionHint\": \"ui.interaction.open\"\n}\n```\n\n## Block Events\n\n### Block Break/Place Events\n\n```java\ngetEventRegistry().register(BreakBlockEvent.class, event -> {\n    BlockType blockType = event.getBlockType();\n    Vector3i position = event.getPosition();\n    PlayerRef player = event.getPlayerRef();\n\n    // Cancel to prevent breaking\n    event.setCancelled(true);\n});\n\ngetEventRegistry().register(PlaceBlockEvent.class, event -> {\n    BlockType blockType = event.getBlockType();\n    // Handle placement\n});\n```\n\n### Block Use Events\n\n```java\ngetEventRegistry().register(UseBlockEvent.class, event -> {\n    BlockType blockType = event.getBlockType();\n    // Handle interaction\n});\n```\n\n## Best Practices\n\n1. **Use groups**: Organize related blocks with the `Group` property\n2. **Minimize states**: Only use block states when truly needed\n3. **Optimize hitboxes**: Use appropriate hitbox complexity\n4. **Consider support**: Define support requirements for physics\n5. **Batch updates**: Group block changes when possible\n6. **Check loaded**: Verify chunks are loaded before block access\n\n## Related\n\n- [Asset System](/api-reference/assets/overview/) - Asset loading\n- [World System](/api-reference/world/overview/) - World and chunks\n- [Events](/core-concepts/event-system/) - Block events","src/content/docs/api-reference/blocks/overview.mdx","d0475b5445b6f217","api-reference/ecs/component-catalog",{"id":128,"data":130,"body":135,"filePath":136,"digest":137,"deferredRender":16},{"title":131,"editUrl":16,"head":132,"template":52,"sidebar":133,"pagefind":16,"draft":42},"Component Catalog",[],{"hidden":42,"attrs":134},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Component Catalog\n\nComplete catalog of ECS components in the Hytale server, organized by store type and category.\n\n## Package Locations\n\n- Entity Components: `com.hypixel.hytale.server.core.modules.entity.component`\n- Physics Components: `com.hypixel.hytale.server.core.modules.physics.component`\n- Chunk Components: `com.hypixel.hytale.server.core.universe.world.chunk`\n\n## EntityStore Components\n\nComponents attached to entities in the EntityStore.\n\n### Core Entity Components\n\n| Component | Description |\n|-----------|-------------|\n| `TransformComponent` | Position (Vector3d) and rotation (Vector3f) |\n| `BoundingBox` | Collision/hitbox bounds |\n| `ModelComponent` | Visual model asset reference |\n| `DisplayNameComponent` | Entity display name |\n| `EntityScaleComponent` | Visual scale/size |\n| `HeadRotation` | Independent head rotation |\n| `ActiveAnimationComponent` | Current animation state |\n| `SnapshotBuffer` | Entity state snapshots |\n| `NewSpawnComponent` | Marker for newly spawned entities |\n\n### Physics Components\n\n| Component | Description |\n|-----------|-------------|\n| `Velocity` | Velocity vector and instructions |\n| `PhysicsValues` | Mass, drag, gravity settings |\n| `CollisionResultComponent` | Collision calculation results |\n\n### State Markers\n\n| Component | Description |\n|-----------|-------------|\n| `Invulnerable` | Cannot take damage |\n| `Intangible` | No collision/physics |\n| `Interactable` | Can be interacted with |\n| `Frozen` | Immobilized state |\n| `RespondToHit` | Hit response behavior |\n\n### Visual Components\n\n| Component | Description |\n|-----------|-------------|\n| `DynamicLight` | Dynamic light source |\n| `PersistentDynamicLight` | Persistent light source |\n| `PersistentModel` | Model persists across saves |\n| `Nameplate` | Display nameplate above entity |\n| `PlayerSkinComponent` | Player skin/texture |\n\n### Audio Components\n\n| Component | Description |\n|-----------|-------------|\n| `AudioComponent` | General audio |\n| `MovementAudioComponent` | Movement sounds |\n\n### Origin Markers\n\n| Component | Description |\n|-----------|-------------|\n| `FromWorldGen` | Entity from world generation |\n| `FromPrefab` | Entity from prefab |\n| `WorldGenId` | World generation identifier |\n\n### Entity System Components\n\n| Component | Package | Description |\n|-----------|---------|-------------|\n| `EffectControllerComponent` | `entity.effect` | Active status effects |\n| `MovementStatesComponent` | `entity.movement` | Movement state flags |\n| `KnockbackComponent` | `entity.knockback` | Knockback/impulse state |\n| `DamageDataComponent` | `entity.damage` | Combat timing data |\n| `InteractionManager` | `entity` | Interaction handling |\n| `EntityGroup` | `entity.group` | Group membership |\n\n### Projectile Components\n\n| Component | Description |\n|-----------|-------------|\n| `Projectile` | Marks entity as projectile |\n| `PredictedProjectile` | Client-predicted projectile |\n| `ProjectileComponent` | Legacy projectile data |\n\n### Player Components\n\n| Component | Description |\n|-----------|-------------|\n| `MovementManager` | Player movement control |\n| `CameraManager` | Camera state |\n| `UniqueItemUsagesComponent` | Item usage statistics |\n\n### Builtin Plugin Components\n\n| Component | Plugin | Description |\n|-----------|--------|-------------|\n| `WeatherTracker` | Weather | Weather state tracking |\n| `TeleportHistory` | Teleport | Teleport history |\n| `CraftingManager` | Crafting | Crafting state |\n| `MountedComponent` | Mount | What entity rides |\n| `MountedByComponent` | Mount | Who rides this entity |\n| `PlayerSomnolence` | Beds | Sleep/drowsiness |\n| `SleepTracker` | Beds | Sleep session |\n| `VoidEvent` | Portals | Void event properties |\n| `PlayerMemories` | Adventure | Player memory storage |\n| `ObjectiveHistoryComponent` | Adventure | Completed objectives |\n| `ReputationGroupComponent` | Adventure | Reputation data |\n| `AmbienceTracker` | Ambience | Ambience state |\n| `BuilderToolsUserData` | BuilderTools | User settings |\n| `DeployableComponent` | Deployables | Deployable properties |\n\n## ChunkStore Components\n\nComponents attached to chunks in the ChunkStore.\n\n### Chunk Structure\n\n| Component | Description |\n|-----------|-------------|\n| `WorldChunk` | Main chunk container |\n| `ChunkColumn` | Vertical column of sections |\n| `ChunkSection` | 16x16x16 block section |\n| `BlockChunk` | Block type storage |\n| `BlockSection` | Block data section |\n| `FluidSection` | Fluid/liquid data |\n| `EntityChunk` | Entity container |\n| `EnvironmentChunk` | Environment/biome data |\n\n### Block Components\n\n| Component | Description |\n|-----------|-------------|\n| `BlockPhysics` | Block physics support values |\n| `BlockHealthChunk` | Block health/damage state |\n| `BlockMapMarker` | Block-level map markers |\n| `LaunchPad` | Launch pad properties |\n| `RespawnBlock` | Respawn point properties |\n\n### Interaction Components\n\n| Component | Description |\n|-----------|-------------|\n| `PlacedByInteractionComponent` | Who placed a block |\n| `TrackedPlacement` | Tracked block placement |\n\n### Spawning Components\n\n| Component | Description |\n|-----------|-------------|\n| `ChunkSpawnData` | Chunk spawn state |\n| `ChunkSpawnedNPCData` | NPCs spawned in chunk |\n| `SpawnJobData` | Active spawn jobs |\n| `ChunkSuppressionEntry` | Spawn suppression |\n\n### Builtin Plugin Chunk Components\n\n| Component | Plugin | Description |\n|-----------|--------|-------------|\n| `PortalDevice` | Portals | Portal configuration |\n| `BlockSpawner` | BlockSpawner | Spawner properties |\n| `BlockMountComponent` | Mount | Block mount point |\n| `Teleporter` | Adventure | Teleporter device |\n| `FarmingBlock` | Adventure | Farmable block |\n| `FarmingBlockState` | Adventure | Farming state |\n| `TilledSoilBlock` | Adventure | Tilled soil |\n| `CoopBlock` | Adventure | Co-op farming |\n| `InstanceBlock` | Instances | Instance block |\n\n## Accessing Components\n\n### EntityStore Components\n\n```java\nimport com.hypixel.hytale.server.core.modules.entity.component.TransformComponent;\nimport com.hypixel.hytale.server.core.modules.physics.component.Velocity;\nimport com.hypixel.hytale.component.ComponentType;\nimport com.hypixel.hytale.server.core.universe.world.storage.EntityStore;\n\n// Get component type\nComponentType\u003CEntityStore, TransformComponent> transformType =\n    TransformComponent.getComponentType();\n\n// Access component from store\nTransformComponent transform = store.getComponent(entityRef, transformType);\n\n// Access position\nVector3d position = transform.getPosition();\n\n// Modify component\ntransform.setPosition(new Vector3d(x, y, z));\n```\n\n### ChunkStore Components\n\n```java\nimport com.hypixel.hytale.server.core.blocktype.component.BlockPhysics;\nimport com.hypixel.hytale.component.ComponentType;\nimport com.hypixel.hytale.server.core.universe.world.storage.ChunkStore;\n\n// Get component type\nComponentType\u003CChunkStore, BlockPhysics> physicsType =\n    BlockPhysics.getComponentType();\n\n// Access component from chunk store\nBlockPhysics physics = chunkStore.getComponent(chunkRef, physicsType);\n```\n\n## Component Relationships\n\n### Transform and Chunk\n\n```\nTransformComponent (EntityStore)\n    \n     position: Vector3d\n     rotation: Vector3f\n     chunkRef: Ref\u003CChunkStore>  WorldChunk (ChunkStore)\n```\n\n### Entity and Effects\n\n```\nEntity (EntityStore)\n    \n     EffectControllerComponent\n            List\u003CEntityEffect>\n    \n     MovementStatesComponent\n            movement flags\n    \n     KnockbackComponent\n             knockback state\n```\n\n### Chunk and Spawning\n\n```\nWorldChunk (ChunkStore)\n    \n     ChunkSpawnData\n            spawn cooldown, state\n    \n     ChunkSpawnedNPCData\n            spawned NPC refs\n    \n     EntityChunk\n             entity refs in chunk\n```\n\n## Component Summary\n\n| Store | Category | Count |\n|-------|----------|-------|\n| EntityStore | Core Entity | 26 |\n| EntityStore | Physics | 3 |\n| EntityStore | State Markers | 5 |\n| EntityStore | Visual | 5 |\n| EntityStore | Audio | 2 |\n| EntityStore | Entity System | 6 |\n| EntityStore | Projectile | 3 |\n| EntityStore | Player | 3 |\n| EntityStore | Builtin Plugins | 15+ |\n| ChunkStore | Structure | 8 |\n| ChunkStore | Block | 5 |\n| ChunkStore | Interaction | 2 |\n| ChunkStore | Spawning | 4 |\n| ChunkStore | Builtin Plugins | 10+ |\n\n## Related\n\n- [ECS Overview](/core-concepts/ecs-overview/) - ECS architecture\n- [Registries](/core-concepts/registries/) - Component registration\n- [Entity System](/api-reference/entities/overview/) - Entity management","src/content/docs/api-reference/ecs/component-catalog.mdx","a05d24deb9051b47","api-reference/events/event-catalog",{"id":138,"data":140,"body":145,"filePath":146,"digest":147,"deferredRender":16},{"title":141,"editUrl":16,"head":142,"template":52,"sidebar":143,"pagefind":16,"draft":42},"Event Catalog",[],{"hidden":42,"attrs":144},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Event Catalog\n\nComplete catalog of all events in the Hytale server, organized by category.\n\n## Package Location\n\n- Base Interfaces: `com.hypixel.hytale.event`\n- Player Events: `com.hypixel.hytale.server.core.event.events.player`\n- ECS Events: `com.hypixel.hytale.server.core.event.events.ecs`\n- Entity Events: `com.hypixel.hytale.server.core.event.events.entity`\n- Permission Events: `com.hypixel.hytale.server.core.event.events.permissions`\n- Lifecycle Events: `com.hypixel.hytale.server.core.event.events`\n\n## Event Hierarchy\n\n```\nIBaseEvent\u003CKeyType>\n IEvent\u003CKeyType> (synchronous)\n    PlayerEvent\u003CKeyType>\n    PlayerRefEvent\u003CKeyType>\n    EntityEvent\u003CEntityType, KeyType>\n\n IAsyncEvent\u003CKeyType> (asynchronous)\n    PlayerChatEvent\n\n EcsEvent (ECS system events)\n     CancellableEcsEvent\n\nICancellable (mixin)\n ICancellableEcsEvent (mixin for ECS)\n```\n\n## Player Events\n\n### Connection Lifecycle\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `PlayerSetupConnectEvent` | Yes | Early connection before entity creation |\n| `PlayerConnectEvent` | No | Player connected, entity available |\n| `PlayerReadyEvent` | No | Player fully ready to play |\n| `AddPlayerToWorldEvent` | No | Player being added to world |\n| `PlayerDisconnectEvent` | No | Player disconnecting |\n| `PlayerSetupDisconnectEvent` | No | Early disconnection during setup |\n| `DrainPlayerFromWorldEvent` | No | Player being removed from world |\n\n#### PlayerSetupConnectEvent\n\n```java\npublic class PlayerSetupConnectEvent implements IEvent\u003CVoid>, ICancellable {\n    public String getUsername();\n    public UUID getUuid();\n    public Auth getAuth();\n    public ReferralData getReferralData();\n    public InetSocketAddress getReferralSource();\n    public ClientReferral getClientReferral();\n\n    // Cancellation\n    public void setCancelled(boolean cancelled);\n    public boolean isCancelled();\n    public void setReason(String reason);\n}\n```\n\n#### PlayerConnectEvent\n\n```java\npublic class PlayerConnectEvent implements IEvent\u003CVoid> {\n    public Holder\u003CEntityStore> getHolder();\n    public PlayerRef getPlayerRef();\n    public World getWorld();\n    public void setWorld(World world);\n}\n```\n\n#### PlayerDisconnectEvent\n\n```java\npublic class PlayerDisconnectEvent extends PlayerRefEvent\u003CVoid> {\n    public PlayerRef getPlayerRef();\n    public DisconnectReason getDisconnectReason();\n}\n```\n\n### Player Actions\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `PlayerChatEvent` | Yes | Chat message (async) |\n| `PlayerMouseButtonEvent` | Yes | Mouse button click |\n| `PlayerMouseMotionEvent` | Yes | Mouse movement |\n| `PlayerInteractEvent` | Yes | Player interaction (deprecated) |\n| `PlayerCraftEvent` | No | Crafting (deprecated) |\n\n#### PlayerChatEvent\n\n```java\npublic class PlayerChatEvent implements IAsyncEvent\u003CString>, ICancellable {\n    public PlayerRef getSender();\n    public Collection\u003CPlayerRef> getTargets();\n    public void setTargets(Collection\u003CPlayerRef> targets);\n    public String getContent();\n    public void setContent(String content);\n    public ChatFormatter getFormatter();\n    public void setFormatter(ChatFormatter formatter);\n\n    // Cancellation\n    public void setCancelled(boolean cancelled);\n    public boolean isCancelled();\n}\n```\n\n#### PlayerMouseButtonEvent\n\n```java\npublic class PlayerMouseButtonEvent extends PlayerEvent\u003CVoid> implements ICancellable {\n    public PlayerRef getPlayerRef();\n    public float getClientUseTime();\n    public ItemStack getItemInHand();\n    public TargetBlock getTargetBlock();\n    public TargetEntity getTargetEntity();\n    public Vector2f getScreenPoint();\n    public MouseButton getMouseButton();\n}\n```\n\n## ECS Events\n\n### Block Events\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `BreakBlockEvent` | Yes | Block being broken |\n| `PlaceBlockEvent` | Yes | Block being placed |\n| `DamageBlockEvent` | Yes | Block taking damage |\n| `UseBlockEvent.Pre` | Yes | Before block usage |\n| `UseBlockEvent.Post` | No | After block usage |\n\n#### BreakBlockEvent\n\n```java\npublic class BreakBlockEvent extends CancellableEcsEvent {\n    public ItemStack getItemInHand();\n    public TargetBlock getTargetBlock();\n    public BlockType getBlockType();\n\n    // From CancellableEcsEvent\n    public void setCancelled(boolean cancelled);\n    public boolean isCancelled();\n}\n```\n\n#### PlaceBlockEvent\n\n```java\npublic class PlaceBlockEvent extends CancellableEcsEvent {\n    public ItemStack getItemInHand();\n    public TargetBlock getTargetBlock();\n    public byte getRotation();\n    public void setRotation(byte rotation);\n}\n```\n\n#### DamageBlockEvent\n\n```java\npublic class DamageBlockEvent extends CancellableEcsEvent {\n    public ItemStack getItemInHand();\n    public TargetBlock getTargetBlock();\n    public BlockType getBlockType();\n    public float getCurrentDamage();\n    public float getDamage();\n    public void setDamage(float damage);\n}\n```\n\n### Item Events\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `DropItemEvent.Drop` | Yes | Item being dropped |\n| `DropItemEvent.PlayerRequest` | Yes | Player drop request |\n| `InteractivelyPickupItemEvent` | Yes | Item being picked up |\n| `SwitchActiveSlotEvent` | Yes | Active slot changing |\n\n#### DropItemEvent.Drop\n\n```java\npublic static class Drop extends DropItemEvent {\n    public ItemStack getItemStack();\n    public float getThrowSpeed();\n    public void setThrowSpeed(float speed);\n}\n```\n\n#### SwitchActiveSlotEvent\n\n```java\npublic class SwitchActiveSlotEvent extends CancellableEcsEvent {\n    public short getPreviousSlot();\n    public short getNewSlot();\n    public String getInventorySectionId();\n    public boolean isServerRequest();\n}\n```\n\n### Crafting Events\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `CraftRecipeEvent.Pre` | Yes | Before crafting |\n| `CraftRecipeEvent.Post` | Yes | After crafting |\n\n#### CraftRecipeEvent\n\n```java\npublic abstract class CraftRecipeEvent extends CancellableEcsEvent {\n    public CraftingRecipe getCraftedRecipe();\n    public int getQuantity();\n\n    public static class Pre extends CraftRecipeEvent { }\n    public static class Post extends CraftRecipeEvent { }\n}\n```\n\n### Exploration Events\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `DiscoverZoneEvent.Display` | Yes | Zone discovery display |\n\n### Gameplay Events\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `ChangeGameModeEvent` | Yes | Game mode change |\n\n```java\npublic class ChangeGameModeEvent extends CancellableEcsEvent {\n    public GameMode getGameMode();\n}\n```\n\n## Entity Events\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `EntityRemoveEvent` | No | Entity being removed |\n| `LivingEntityInventoryChangeEvent` | No | Inventory change |\n\n#### EntityRemoveEvent\n\n```java\npublic class EntityRemoveEvent extends EntityEvent\u003CEntity, String> {\n    public Entity getEntity();\n}\n```\n\n#### LivingEntityInventoryChangeEvent\n\n```java\npublic class LivingEntityInventoryChangeEvent extends EntityEvent\u003CLivingEntity, String> {\n    public LivingEntity getEntity();\n    public ItemContainer getItemContainer();\n    public Transaction getTransaction();\n}\n```\n\n## Permission Events\n\n### Player Permission Events\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `PlayerPermissionChangeEvent.PermissionsAdded` | No | Permissions granted |\n| `PlayerPermissionChangeEvent.PermissionsRemoved` | No | Permissions revoked |\n| `PlayerGroupEvent.Added` | No | Added to group |\n| `PlayerGroupEvent.Removed` | No | Removed from group |\n\n```java\npublic static class PermissionsAdded extends PlayerPermissionChangeEvent {\n    public UUID getPlayerUuid();\n    public Set\u003CString> getAddedPermissions();\n}\n\npublic static class PermissionsRemoved extends PlayerPermissionChangeEvent {\n    public UUID getPlayerUuid();\n    public Set\u003CString> getRemovedPermissions();\n}\n```\n\n### Group Permission Events\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `GroupPermissionChangeEvent.Added` | No | Permissions added to group |\n| `GroupPermissionChangeEvent.Removed` | No | Permissions removed from group |\n\n```java\npublic static class Added extends GroupPermissionChangeEvent {\n    public String getGroupName();\n    public Set\u003CString> getAddedPermissions();\n}\n```\n\n## Lifecycle Events\n\n| Event | Cancellable | Description |\n|-------|-------------|-------------|\n| `BootEvent` | No | Server boot complete |\n| `ShutdownEvent` | No | Server shutdown |\n\n#### ShutdownEvent\n\n```java\npublic class ShutdownEvent implements IEvent\u003CVoid> {\n    public static final int DISCONNECT_PLAYERS = -48;\n    public static final int UNBIND_LISTENERS = -40;\n    public static final int SHUTDOWN_WORLDS = -32;\n}\n```\n\n## Registering Event Listeners\n\n### Synchronous Events\n\n```java\n@Override\nprotected void setup() {\n    getEventRegistry().register(PlayerConnectEvent.class,\n        event -> {\n            PlayerRef player = event.getPlayerRef();\n            getLogger().info(\"Player connected: \" + player.getUsername());\n        }\n    );\n}\n```\n\n### With Priority\n\n```java\ngetEventRegistry().register(\n    EventPriority.EARLY,\n    PlayerChatEvent.class,\n    event -> {\n        // Process early in chain\n    }\n);\n```\n\n### Cancellable Events\n\n```java\ngetEventRegistry().register(BreakBlockEvent.class,\n    event -> {\n        if (isProtectedBlock(event.getTargetBlock())) {\n            event.setCancelled(true);\n        }\n    }\n);\n```\n\n### Async Events\n\n```java\ngetEventRegistry().register(PlayerChatEvent.class,\n    event -> {\n        // Runs on async thread\n        String filtered = filterMessage(event.getContent());\n        event.setContent(filtered);\n    }\n);\n```\n\n## Event Summary\n\n| Category | Count | Cancellable |\n|----------|-------|-------------|\n| Player Connection | 7 | 1 |\n| Player Actions | 5 | 4 |\n| Block Events | 5 | 4 |\n| Item Events | 4 | 4 |\n| Crafting Events | 2 | 2 |\n| Exploration Events | 1 | 1 |\n| Gameplay Events | 1 | 1 |\n| Entity Events | 2 | 0 |\n| Permission Events | 6 | 0 |\n| Lifecycle Events | 2 | 0 |\n| **Total** | **35** | **17** |\n\n## Deprecated Events\n\n| Event | Replacement |\n|-------|-------------|\n| `PlayerInteractEvent` | Use ECS events |\n| `PlayerCraftEvent` | Use `CraftRecipeEvent.Pre/Post` |\n| `LivingEntityUseBlockEvent` | Use `UseBlockEvent` |\n| `PrepareUniverseEvent` | (none) |\n\n## Related\n\n- [Event System](/core-concepts/event-system/) - Event system overview\n- [Component Catalog](/api-reference/ecs/component-catalog/) - ECS components\n- [Permission System](/api-reference/permissions/overview/) - Permission events","src/content/docs/api-reference/events/event-catalog.mdx","9d7a8470371eb8d0","api-reference/inventory/overview",{"id":148,"data":150,"body":155,"filePath":156,"digest":157,"deferredRender":16},{"title":151,"editUrl":16,"head":152,"template":52,"sidebar":153,"pagefind":16,"draft":42},"Inventory System Overview",[],{"hidden":42,"attrs":154},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Inventory System Overview\n\nThe Inventory System manages items, item stacks, and containers for players and other entities. It provides a flexible, transaction-based approach to item manipulation.\n\n## Package Location\n\n- ItemStack: `com.hypixel.hytale.server.core.inventory.ItemStack`\n- Containers: `com.hypixel.hytale.server.core.inventory.container`\n- Transactions: `com.hypixel.hytale.server.core.inventory.transaction`\n- Filters: `com.hypixel.hytale.server.core.inventory.container.filter`\n\n## Core Classes\n\n| Class | Description |\n|-------|-------------|\n| `ItemStack` | Represents a stack of items |\n| `ItemContainer` | Base class for item storage |\n| `SimpleItemContainer` | Basic container implementation |\n| `Transaction` | Base for inventory operations |\n| `Inventory` | Player inventory component |\n\n## ItemStack\n\n`ItemStack` represents one or more items of the same type.\n\n### Creating Item Stacks\n\n```java\n// Single item\nItemStack sword = new ItemStack(\"Sword_Iron\");\n\n// Stack of items\nItemStack arrows = new ItemStack(\"Arrow_Standard\", 64);\n\n// With metadata\nBsonDocument metadata = new BsonDocument();\nmetadata.put(\"enchantment\", new BsonString(\"fire\"));\nItemStack enchantedSword = new ItemStack(\"Sword_Iron\", 1, metadata);\n\n// With durability\nItemStack damagedSword = new ItemStack(\n    \"Sword_Iron\",    // item ID\n    1,               // quantity\n    50.0,            // current durability\n    100.0,           // max durability\n    null             // metadata\n);\n```\n\n### ItemStack Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `itemId` | `String` | Item type identifier |\n| `quantity` | `int` | Number of items in stack |\n| `durability` | `double` | Current durability |\n| `maxDurability` | `double` | Maximum durability |\n| `metadata` | `BsonDocument` | Custom item data |\n\n### ItemStack Methods\n\n```java\n// Get properties\nString itemId = stack.getItemId();\nint quantity = stack.getQuantity();\ndouble durability = stack.getDurability();\n\n// Get item definition\nItem item = stack.getItem();\n\n// Check state\nboolean empty = stack.isEmpty();\nboolean broken = stack.isBroken();\nboolean unbreakable = stack.isUnbreakable();\n\n// Check if can stack with another\nboolean stackable = stack.isStackableWith(otherStack);\n\n// Get block key (for placeable items)\nString blockKey = stack.getBlockKey();\n\n// Clone\nItemStack copy = stack.clone();\n```\n\n### Empty ItemStack\n\n```java\n// The empty item stack singleton\nItemStack empty = ItemStack.EMPTY;\n\n// Check if empty\nif (stack.isEmpty()) {\n    // No items\n}\n\n// Static utility\nboolean isEmpty = ItemStack.isEmpty(stack);  // null-safe\n```\n\n## ItemContainer\n\n`ItemContainer` is the base class for all item storage.\n\n### Container Types\n\n| Type | Description |\n|------|-------------|\n| `SimpleItemContainer` | Basic fixed-size container |\n| `ItemStackItemContainer` | Single-slot container |\n| `CombinedItemContainer` | Multiple containers as one |\n| `DelegateItemContainer` | Wraps another container |\n| `EmptyItemContainer` | No storage (always empty) |\n\n### Container Properties\n\n```java\n// Get capacity\nshort capacity = container.getCapacity();\n\n// Get slot contents\nItemStack item = container.getSlot(slot);\n\n// Set slot contents\nItemStack previous = container.setSlot(slot, itemStack);\n\n// Remove from slot\nItemStack removed = container.removeSlot(slot);\n\n// Clear all slots\nClearTransaction cleared = container.clear();\n```\n\n### Adding Items\n\n```java\n// Add item stack (returns what couldn't be added)\nItemStackTransaction tx = container.addItemStack(itemStack);\nItemStack remainder = tx.getRemainingStack();\n\n// Add to specific slot\nItemStackSlotTransaction slotTx = container.addItemStackToSlot(slot, itemStack);\n\n// Add with options\ncontainer.addItemStack(\n    itemStack,\n    false,  // allOrNothing - if true, fails if can't add all\n    true    // filter - respect slot filters\n);\n```\n\n### Removing Items\n\n```java\n// Remove specific item\nItemStackTransaction tx = container.removeItemStack(itemStack);\n\n// Remove from slot\nItemStackSlotTransaction slotTx = container.removeItemStackFromSlot(slot, quantity);\n\n// Remove by material\nMaterialTransaction materialTx = container.removeMaterial(materialId, quantity);\n\n// Remove by tag\nTagTransaction tagTx = container.removeTag(tagId, quantity);\n```\n\n### Checking Contents\n\n```java\n// Check if has item\nboolean hasItem = container.hasItemStack(itemStack);\n\n// Count items of type\nint count = container.countMaterial(materialId);\n\n// Check for space\nboolean canAdd = container.canAddItemStackToSlot(slot, itemStack, false, true);\n\n// Find first empty slot\nshort emptySlot = container.getFirstEmptySlot();\n\n// Iterate contents\ncontainer.forEach((slot, itemStack) -> {\n    // Process each non-empty slot\n});\n```\n\n### Container Filters\n\nFilters control what items can go in which slots:\n\n```java\n// Set global filter\ncontainer.setGlobalFilter(filterType);\n\n// Set slot-specific filter\ncontainer.setSlotFilter(FilterActionType.ADD, slot, slotFilter);\ncontainer.setSlotFilter(FilterActionType.REMOVE, slot, slotFilter);\ncontainer.setSlotFilter(FilterActionType.DROP, slot, slotFilter);\n```\n\n### Built-in Filters\n\n| Filter | Description |\n|--------|-------------|\n| `TagFilter` | Filter by item tag |\n| `ResourceFilter` | Filter by resource type |\n| `ArmorSlotAddFilter` | Armor slot restrictions |\n| `NoDuplicateFilter` | Prevent duplicate items |\n\n### Container Events\n\n```java\n// Register for change events\ncontainer.registerChangeEvent(event -> {\n    Transaction transaction = event.getTransaction();\n    // Handle changes\n});\n\n// With priority\ncontainer.registerChangeEvent(EventPriority.NORMAL, event -> {\n    // Handle changes\n});\n```\n\n## Transactions\n\nAll inventory operations return a transaction object describing what happened.\n\n### Transaction Types\n\n| Transaction | Description |\n|-------------|-------------|\n| `ItemStackTransaction` | Add/remove item stack |\n| `ItemStackSlotTransaction` | Slot-specific item operation |\n| `MaterialTransaction` | Material-based operations |\n| `TagTransaction` | Tag-based operations |\n| `ResourceTransaction` | Resource-based operations |\n| `MoveTransaction` | Move between containers |\n| `ClearTransaction` | Clear container |\n\n### Transaction Results\n\n```java\n// Item stack transaction\nItemStackTransaction tx = container.addItemStack(itemStack);\nint added = tx.getQuantityChange();\nItemStack remainder = tx.getRemainingStack();\nList\u003CSlotTransaction> slots = tx.getSlots();\n\n// Check if complete\nif (tx.getRemainingStack().isEmpty()) {\n    // All items were added\n}\n```\n\n## Moving Items\n\n### Between Containers\n\n```java\n// Move item between containers\nMoveTransaction move = sourceContainer.moveToContainer(\n    slot,           // source slot\n    targetContainer,\n    MoveType.ALL    // move type\n);\n\n// Move types\nMoveType.ALL      // Move entire stack\nMoveType.HALF     // Move half the stack\nMoveType.ONE      // Move single item\n```\n\n### Swap Containers\n\n```java\n// Swap container contents\nListTransaction swap = ItemContainerUtil.swap(\n    containerA,\n    containerB\n);\n```\n\n## Sorting\n\n```java\n// Sort container\ncontainer.sort(SortType.ALPHABETICAL);\n\n// Sort types\nSortType.ALPHABETICAL  // By item name\nSortType.STACK_SIZE    // By quantity\nSortType.MATERIAL      // By material type\n```\n\n## Player Inventory\n\nPlayer inventory has special sections:\n\n```java\n// Access from player\nInventory inventory = player.getInventory();\n\n// Inventory sections\nItemContainer hotbar = inventory.getHotbar();\nItemContainer main = inventory.getMain();\nItemContainer armor = inventory.getArmor();\nItemContainer offhand = inventory.getOffhand();\n\n// Held item\nItemStack heldItem = inventory.getHeldItem();\nshort activeSlot = inventory.getActiveSlot();\n```\n\n## Item Context\n\n`ItemContext` provides context for item operations:\n\n```java\n// Create context\nItemContext context = new ItemContext(\n    playerRef,\n    inventory,\n    activeSlot\n);\n\n// Get context info\nPlayerRef player = context.getPlayerRef();\nItemContainer container = context.getContainer();\nshort slot = context.getSlot();\nItemStack item = context.getItemStack();\n```\n\n## Serialization\n\nItemStack supports serialization:\n\n```java\n// Codec for persistence\nBuilderCodec\u003CItemStack> codec = ItemStack.CODEC;\n\n// Convert to packet for network\nItemWithAllMetadata packet = itemStack.toPacket();\n\n// Container to protocol\nMap\u003CInteger, ItemWithAllMetadata> protocolMap = container.toProtocolMap();\nInventorySection section = container.toPacket();\n```\n\n## Best Practices\n\n1. **Use transactions**: Check transaction results to handle partial operations\n2. **Respect filters**: Pass `filter=true` unless you need to bypass restrictions\n3. **Validate slots**: Check slot bounds before operations\n4. **Handle empty stacks**: Always check for `isEmpty()` or use `ItemStack.isEmpty()`\n5. **Clone when needed**: Clone stacks when storing references outside transactions\n\n## Related\n\n- [Item Assets](/api-reference/assets/overview/) - Item type definitions\n- [Entity System](/api-reference/entities/overview/) - Player inventory access\n- [Events](/core-concepts/event-system/) - Container events","src/content/docs/api-reference/inventory/overview.mdx","a881dc524d8a0bf1","api-reference/math/overview",{"id":158,"data":160,"body":165,"filePath":166,"digest":167,"deferredRender":16},{"title":161,"editUrl":16,"head":162,"template":52,"sidebar":163,"pagefind":16,"draft":42},"Math Utilities Overview",[],{"hidden":42,"attrs":164},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Math Utilities Overview\n\nThe Math library provides vectors, matrices, shapes, and utilities for 3D game mathematics.\n\n## Package Location\n\n`com.hypixel.hytale.math`\n\n- Vectors: `math.vector`\n- Matrices: `math.matrix`\n- Shapes: `math.shape`\n- Raycast: `math.raycast`\n- Utilities: `math.util`\n- Random: `math.random`\n\n## Vector Classes\n\n### Vector3d (Double Precision)\n\nThe primary 3D vector class:\n\n```java\npackage com.hypixel.hytale.math.vector;\n\npublic class Vector3d {\n    public double x, y, z;\n\n    // Constructors\n    public Vector3d();\n    public Vector3d(double x, double y, double z);\n    public Vector3d(Vector3d other);\n    public Vector3d(Vector3i other);\n    public Vector3d(float yaw, float pitch);  // From angles\n\n    // Static constants\n    public static final Vector3d ZERO;\n    public static final Vector3d UP;\n    public static final Vector3d DOWN;\n    public static final Vector3d FORWARD;\n    public static final Vector3d BACKWARD;\n    public static final Vector3d LEFT;\n    public static final Vector3d RIGHT;\n\n    // Arithmetic (mutating)\n    public Vector3d add(Vector3d other);\n    public Vector3d add(double x, double y, double z);\n    public Vector3d subtract(Vector3d other);\n    public Vector3d scale(double scalar);\n    public Vector3d negate();\n    public Vector3d addScaled(Vector3d other, double scalar);\n\n    // Vector operations\n    public double dot(Vector3d other);\n    public Vector3d cross(Vector3d other);\n    public double length();\n    public double squaredLength();\n    public Vector3d normalize();\n    public Vector3d setLength(double length);\n    public Vector3d clampLength(double maxLength);\n\n    // Distance\n    public double distanceTo(Vector3d other);\n    public double distanceSquaredTo(Vector3d other);\n\n    // Rotation\n    public Vector3d rotateX(double angle);\n    public Vector3d rotateY(double angle);\n    public Vector3d rotateZ(double angle);\n\n    // Utilities\n    public Vector3d floor();\n    public Vector3d ceil();\n    public boolean isFinite();\n\n    // Static utilities\n    public static Vector3d lerp(Vector3d from, Vector3d to, double t);\n    public static Vector3d lerpUnclamped(Vector3d from, Vector3d to, double t);\n    public static Vector3d directionTo(Vector3d from, Vector3d to);\n    public static Vector3d max(Vector3d a, Vector3d b);\n    public static Vector3d min(Vector3d a, Vector3d b);\n\n    // Conversion\n    public Vector3i toVector3i();\n    public Vector3f toVector3f();\n}\n```\n\n### Vector3i (Integer)\n\nInteger-precision 3D vector:\n\n```java\npublic class Vector3i {\n    public int x, y, z;\n\n    // Same operations as Vector3d but with integer precision\n\n    public Vector3d toVector3d();\n    public Vector3f toVector3f();\n}\n```\n\n### Vector3f (Float with Rotation)\n\nFloat-precision vector with rotation support:\n\n```java\npublic class Vector3f {\n    public float x, y, z;\n\n    // Rotation accessors (x=pitch, y=yaw, z=roll)\n    public float getPitch();  // Returns x\n    public float getYaw();    // Returns y\n    public float getRoll();   // Returns z\n    public void setPitch(float pitch);\n    public void setYaw(float yaw);\n    public void setRoll(float roll);\n\n    // Rotation operations\n    public Vector3f addRotationOnAxis(Axis axis, int angle);\n    public Vector3f flipRotationOnAxis(Axis axis);\n    public void lookAt(Vector3d direction);\n    public static Vector3f lerpAngle(Vector3f from, Vector3f to, float t);\n\n    public Vector3d toVector3d();\n}\n```\n\n### Vector2d / Vector2i\n\n2D vector variants:\n\n```java\npublic class Vector2d {\n    public double x, y;\n    // Similar operations to Vector3d\n}\n\npublic class Vector2i {\n    public int x, y;\n}\n```\n\n### Vector4d (Homogeneous)\n\n4D vector for matrix transforms:\n\n```java\npublic class Vector4d {\n    public double x, y, z, w;\n\n    // Factory methods\n    public static Vector4d newPosition(double x, double y, double z);  // w=1\n    public static Vector4d newDirection(double x, double y, double z); // w=0\n}\n```\n\n## Matrix Classes\n\n### Matrix4d (4x4 Matrix)\n\n```java\npackage com.hypixel.hytale.math.matrix;\n\npublic class Matrix4d {\n    // Column-major storage (16 doubles)\n\n    // Index constants: M00, M10, M20, M30, M01, M11...\n\n    // Basic operations\n    public double get(int index);\n    public double get(int col, int row);\n    public void set(int index, double value);\n    public Matrix4d identity();\n    public Matrix4d assign(Matrix4d other);\n\n    // Transformations\n    public Matrix4d translate(double x, double y, double z);\n    public Matrix4d translate(Vector3d offset);\n    public Matrix4d scale(double x, double y, double z);\n    public Matrix4d rotateAxis(double angle, double x, double y, double z);\n    public Matrix4d rotateEuler(double x, double y, double z);\n\n    // Apply to vectors\n    public Vector3d multiplyPosition(Vector3d position);  // With translation\n    public Vector3d multiplyDirection(Vector3d direction); // Without translation\n    public Vector4d multiply(Vector4d vector);\n    public Matrix4d multiply(Matrix4d other);\n\n    // Inversion\n    public boolean invert();\n\n    // Projection\n    public Matrix4d projectionOrtho(double left, double right,\n                                    double bottom, double top,\n                                    double near, double far);\n    public Matrix4d projectionFrustum(double left, double right,\n                                      double bottom, double top,\n                                      double near, double far);\n    public Matrix4d projectionCone(double fov, double aspect,\n                                   double near, double far);\n\n    // View\n    public Matrix4d viewTarget(double eyeX, double eyeY, double eyeZ,\n                               double centerX, double centerY, double centerZ,\n                               double upX, double upY, double upZ);\n    public Matrix4d viewDirection(double eyeX, double eyeY, double eyeZ,\n                                  double dirX, double dirY, double dirZ,\n                                  double upX, double upY, double upZ);\n\n    // Conversion\n    public double[] getData();\n    public float[] asFloatData();\n}\n```\n\n## Location and Transform\n\n### Location\n\nPosition + rotation + world:\n\n```java\npackage com.hypixel.hytale.math.vector;\n\npublic class Location {\n    public Location(Vector3d position, Vector3f rotation, String worldName);\n\n    public Vector3d getPosition();\n    public void setPosition(Vector3d position);\n    public Vector3f getRotation();\n    public void setRotation(Vector3f rotation);\n    public String getWorldName();\n\n    public Vector3d getDirection();     // Direction from rotation\n    public Vector3i getAxisDirection(); // Rounded direction\n    public Axis getAxis();              // Cardinal axis\n\n    public Transform toTransform();\n}\n```\n\n### Transform\n\nPosition + rotation (no world):\n\n```java\npublic class Transform {\n    // Relative transform flags\n    public static final int X_IS_RELATIVE;\n    public static final int Y_IS_RELATIVE;\n    public static final int Z_IS_RELATIVE;\n    public static final int YAW_IS_RELATIVE;\n    public static final int PITCH_IS_RELATIVE;\n    public static final int ROLL_IS_RELATIVE;\n    public static final int RELATIVE_TO_BLOCK;\n\n    public Vector3d getPosition();\n    public void setPosition(Vector3d position);\n    public Vector3f getRotation();\n    public void setRotation(Vector3f rotation);\n\n    public static Vector3d getDirection(float pitch, float yaw);\n\n    public void applyMaskedRelativeTransform(Transform base, int mask);\n    public Transform clone();\n}\n```\n\n## Shape Classes\n\n### Box (AABB)\n\nAxis-aligned bounding box:\n\n```java\npackage com.hypixel.hytale.math.shape;\n\npublic class Box {\n    public Vector3d min;\n    public Vector3d max;\n\n    // Factory methods\n    public static Box horizontallyCentered(double width, double height, double depth);\n    public static Box cube(Vector3d min, double side);\n    public static Box centeredCube(Vector3d center, double inradius);\n\n    // Dimensions\n    public double width();   // maxX - minX\n    public double height();  // maxY - minY\n    public double depth();   // maxZ - minZ\n\n    // Operations\n    public void setMinMax(Vector3d min, Vector3d max);\n    public void setEmpty();\n\n    public boolean intersects(Box other);\n    public boolean contains(Vector3d point);\n    public boolean contains(Box other);\n\n    public Box expand(double x, double y, double z);\n    public Box shrink(double x, double y, double z);\n    public Box offset(double x, double y, double z);\n    public Box offset(Vector3d offset);\n\n    public Vector3d getCenter();\n    public Vector3d getSize();\n}\n```\n\n### Other Shapes\n\n| Class | Description |\n|-------|-------------|\n| `Box2D` | 2D bounding box |\n| `Rectangle` | 2D rectangle |\n| `Cylinder` | 3D cylinder |\n| `Cone` | 3D cone |\n| `Ellipsoid` | 3D ellipsoid |\n| `Triangle2d` | 2D triangle |\n| `Quad2d` | 2D quad |\n\n## Raycast\n\n### RaycastAABB\n\n```java\npackage com.hypixel.hytale.math.raycast;\n\npublic class RaycastAABB {\n    // Returns t parameter of intersection (negative if no hit)\n    public static double intersect(\n        double minX, double minY, double minZ,\n        double maxX, double maxY, double maxZ,\n        double originX, double originY, double originZ,\n        double dirX, double dirY, double dirZ\n    );\n\n    // With callback for hit info\n    public static double intersect(\n        double minX, double minY, double minZ,\n        double maxX, double maxY, double maxZ,\n        double originX, double originY, double originZ,\n        double dirX, double dirY, double dirZ,\n        RaycastConsumer consumer\n    );\n}\n\npublic interface RaycastConsumer {\n    void accept(boolean hit,\n                double ox, double oy, double oz,  // Origin\n                double dx, double dy, double dz,  // Direction\n                double t,                          // Parameter\n                double nx, double ny, double nz); // Normal\n}\n```\n\n## Utilities\n\n### MathUtil\n\n```java\npackage com.hypixel.hytale.math.util;\n\npublic class MathUtil {\n    public static final double EPSILON_DOUBLE;\n    public static final float EPSILON_FLOAT;\n\n    // Fast math\n    public static int abs(int value);      // Branchless\n    public static int floor(double value); // Fast floor\n    public static int ceil(double value);  // Fast ceil\n    public static int fastFloor(double value);\n    public static int fastCeil(double value);\n\n    // Clamping\n    public static double clamp(double value, double min, double max);\n    public static float clamp(float value, float min, float max);\n    public static int clamp(int value, int min, int max);\n\n    // Range checking\n    public static boolean within(double value, double min, double max);\n    public static boolean closeToZero(double value);\n    public static double clipToZero(double value);\n\n    // Interpolation\n    public static double lerp(double from, double to, double t);\n    public static float lerpAngle(float from, float to, float t);\n\n    // Angle utilities\n    public static double wrapAngle(double angle); // Normalize to [-, ]\n\n    // Rounding\n    public static double round(double value, int precision);\n\n    // Vector length\n    public static double length(double x, double y, double z);\n}\n```\n\n### TrigMathUtil\n\nOptimized trigonometry:\n\n```java\npackage com.hypixel.hytale.math.util;\n\npublic class TrigMathUtil {\n    public static final double PI;\n    public static final double PI_HALF;\n    public static final double PI2;\n    public static final double radToDeg;\n    public static final double degToRad;\n\n    // Lookup table trigonometry (fast)\n    public static float sin(float angle);\n    public static float cos(float angle);\n    public static double sin(double angle);\n    public static double cos(double angle);\n\n    // Inverse trig\n    public static float atan2(float y, float x);\n    public static double atan2(double y, double x);\n    public static double atan(double value);\n    public static double asin(double value);\n}\n```\n\n### RandomExtra\n\n```java\npackage com.hypixel.hytale.math.random;\n\npublic class RandomExtra {\n    public static double randomBinomial(Random random);  // [-1, 1]\n    public static float randomRange(Random random, float min, float max);\n    public static int randomRange(Random random, int min, int max);\n    public static boolean randomBoolean(Random random);\n    public static \u003CT> T randomElement(Random random, List\u003CT> list);\n    public static Duration randomDuration(Random random, Duration min, Duration max);\n    public static void jitter(Random random, Vector3d vector, double maxRange);\n}\n```\n\n## Block Iterators\n\n```java\npackage com.hypixel.hytale.math.iterator;\n\n// Iterate blocks along a line\npublic class LineIterator { }\n\n// Iterate blocks in a circle\npublic class CircleIterator { }\n\n// Spiral iteration pattern\npublic class SpiralIterator { }\n\n// Iterate blocks in a box\npublic class BoxBlockIterator { }\n```\n\n## Usage Examples\n\n### Basic Vector Operations\n\n```java\nimport com.hypixel.hytale.math.vector.Vector3d;\n\n// Create vectors\nVector3d position = new Vector3d(10, 5, 20);\nVector3d direction = new Vector3d(1, 0, 0);\n\n// Arithmetic\nVector3d moved = position.add(direction.scale(5));\n\n// Distance\ndouble dist = position.distanceTo(moved);\n\n// Normalize\nVector3d normalized = direction.normalize();\n\n// Interpolation\nVector3d midpoint = Vector3d.lerp(position, moved, 0.5);\n```\n\n### Matrix Transformations\n\n```java\nimport com.hypixel.hytale.math.matrix.Matrix4d;\nimport com.hypixel.hytale.math.vector.Vector3d;\n\n// Create transformation matrix\nMatrix4d transform = new Matrix4d();\ntransform.identity();\ntransform.translate(10, 0, 0);\ntransform.rotateY(Math.PI / 4);\ntransform.scale(2, 2, 2);\n\n// Apply to position\nVector3d position = new Vector3d(0, 0, 0);\nVector3d transformed = transform.multiplyPosition(position);\n```\n\n### Raycast\n\n```java\nimport com.hypixel.hytale.math.raycast.RaycastAABB;\n\n// Check ray-box intersection\ndouble t = RaycastAABB.intersect(\n    0, 0, 0,    // Box min\n    1, 1, 1,    // Box max\n    -2, 0.5, 0.5, // Ray origin\n    1, 0, 0     // Ray direction\n);\n\nif (t >= 0) {\n    // Hit at distance t\n    Vector3d hitPoint = origin.add(direction.scale(t));\n}\n```\n\n## Related\n\n- [Physics System](/api-reference/physics/overview/) - Uses math for physics\n- [Collision System](/api-reference/physics/collision/) - Box collision\n- [Entity System](/api-reference/entities/overview/) - Transform components","src/content/docs/api-reference/math/overview.mdx","c1829d627b64ee74","api-reference/entities/effects",{"id":168,"data":170,"body":175,"filePath":176,"digest":177,"deferredRender":16},{"title":171,"editUrl":16,"head":172,"template":52,"sidebar":173,"pagefind":16,"draft":42},"Entity Effects System",[],{"hidden":42,"attrs":174},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Entity Effects System\n\nThe entity effects system manages status effects (buffs and debuffs) on entities, including duration, stacking behavior, stat modifiers, and visual effects.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.entity.effect`\n\n## Overview\n\nEntity effects are applied via the `EffectControllerComponent` attached to entities. Effects can modify stats, apply damage over time, change entity appearance, and grant invulnerability.\n\n## Core Classes\n\n### EffectControllerComponent\n\nComponent that manages active effects on an entity:\n\n```java\npackage com.hypixel.hytale.server.core.entity.effect;\n\npublic class EffectControllerComponent implements Component\u003CEntityStore> {\n    // Add effect with default duration\n    public boolean addEffect(\n        Ref\u003CEntityStore> ownerRef,\n        EntityEffect entityEffect,\n        ComponentAccessor\u003CEntityStore> componentAccessor\n    );\n\n    // Add effect with custom duration and overlap behavior\n    public boolean addEffect(\n        Ref\u003CEntityStore> ownerRef,\n        int entityEffectIndex,\n        EntityEffect entityEffect,\n        float duration,\n        OverlapBehavior overlapBehavior,\n        ComponentAccessor\u003CEntityStore> componentAccessor\n    );\n\n    // Add infinite-duration effect\n    public boolean addInfiniteEffect(\n        Ref\u003CEntityStore> ownerRef,\n        int entityEffectIndex,\n        EntityEffect entityEffect,\n        ComponentAccessor\u003CEntityStore> componentAccessor\n    );\n\n    // Remove effect with default removal behavior\n    public void removeEffect(\n        Ref\u003CEntityStore> ownerRef,\n        int entityEffectIndex,\n        ComponentAccessor\u003CEntityStore> componentAccessor\n    );\n\n    // Remove effect with custom removal behavior\n    public void removeEffect(\n        Ref\u003CEntityStore> ownerRef,\n        int entityEffectIndex,\n        RemovalBehavior removalBehavior,\n        ComponentAccessor\u003CEntityStore> componentAccessor\n    );\n\n    // Clear all active effects\n    public void clearEffects(\n        Ref\u003CEntityStore> ownerRef,\n        ComponentAccessor\u003CEntityStore> componentAccessor\n    );\n\n    // Get all active effects\n    public Int2ObjectMap\u003CActiveEntityEffect> getActiveEffects();\n\n    // Get cached array of active effect indices\n    public int[] getActiveEffectIndexes();\n\n    // Invulnerability from effects\n    public boolean isInvulnerable();\n    public void setInvulnerable(boolean invulnerable);\n\n    // Get component type\n    public static ComponentType\u003CEntityStore, EffectControllerComponent> getComponentType();\n}\n```\n\n### ActiveEntityEffect\n\nRepresents an effect currently applied to an entity:\n\n```java\npackage com.hypixel.hytale.server.core.entity.effect;\n\npublic class ActiveEntityEffect {\n    // Effect identification\n    public String getEntityEffectId();\n    public int getEntityEffectIndex();\n\n    // Duration\n    public float getInitialDuration();\n    public float getRemainingDuration();\n    public boolean isInfinite();\n\n    // Properties\n    public boolean isDebuff();\n    public String getStatusEffectIcon();\n    public boolean isInvulnerable();\n}\n```\n\n### EntityEffect\n\nAsset configuration defining an effect's properties:\n\n```java\npackage com.hypixel.hytale.server.core.asset.type.entityeffect.config;\n\npublic class EntityEffect {\n    // Identity\n    String id;\n    String name;  // Localization key\n\n    // Duration\n    float duration;\n    boolean infinite;\n\n    // Classification\n    boolean debuff;\n    String statusEffectIcon;\n\n    // Behavior\n    OverlapBehavior overlapBehavior;\n    RemovalBehavior removalBehavior;\n\n    // Effects\n    boolean invulnerable;\n    DamageCalculator damageCalculator;\n    float damageCalculatorCooldown;\n\n    // Stat modifications\n    Int2FloatMap entityStats;\n    ValueType valueType;\n    Int2ObjectMap\u003CStaticModifier[]> statModifiers;\n    Map\u003CDamageCause, StaticModifier[]> damageResistance;\n\n    // Visual\n    String modelChange;\n    ApplicationEffects applicationEffects;\n\n    // Asset access\n    public static AssetMap\u003CEntityEffect> getAssetMap();\n}\n```\n\n## Behavior Enums\n\n### OverlapBehavior\n\nControls what happens when an effect is applied while already active:\n\n| Value | Description |\n|-------|-------------|\n| `EXTEND` | Add new duration to existing effect |\n| `OVERWRITE` | Replace existing effect with new one |\n| `IGNORE` | Don't apply if already active |\n\n### RemovalBehavior\n\nControls what happens when an effect is removed:\n\n| Value | Description |\n|-------|-------------|\n| `COMPLETE` | Completely remove the effect |\n| `INFINITE` | Convert to finite duration |\n| `DURATION` | Reset duration to 0 |\n\n### ValueType\n\nHow stat modifiers are applied:\n\n| Value | Description |\n|-------|-------------|\n| `ABSOLUTE` | Add/subtract flat value |\n| `PERCENT` | Multiply by percentage |\n\n## Usage Examples\n\n### Adding an Effect\n\n```java\nimport com.hypixel.hytale.server.core.entity.effect.EffectControllerComponent;\nimport com.hypixel.hytale.server.core.asset.type.entityeffect.config.EntityEffect;\nimport com.hypixel.hytale.server.core.asset.type.entityeffect.config.OverlapBehavior;\nimport com.hypixel.hytale.component.Ref;\nimport com.hypixel.hytale.server.core.universe.world.storage.EntityStore;\n\n// Get effect controller from entity\nRef\u003CEntityStore> entityRef = /* entity reference */;\nEffectControllerComponent controller = componentAccessor.getComponent(\n    entityRef,\n    EffectControllerComponent.getComponentType()\n);\n\n// Get effect asset\nEntityEffect burnEffect = EntityEffect.getAssetMap().getAsset(\"Burn\");\nint effectIndex = EntityEffect.getAssetMap().getIndex(\"Burn\");\n\n// Add effect with 5 second duration\nif (controller != null && burnEffect != null) {\n    controller.addEffect(\n        entityRef,\n        effectIndex,\n        burnEffect,\n        5.0f,  // Duration in seconds\n        OverlapBehavior.EXTEND,  // Extend if already active\n        componentAccessor\n    );\n}\n```\n\n### Adding an Infinite Effect\n\n```java\n// Add permanent effect (until manually removed)\nEntityEffect shieldEffect = EntityEffect.getAssetMap().getAsset(\"Shield\");\nint shieldIndex = EntityEffect.getAssetMap().getIndex(\"Shield\");\n\ncontroller.addInfiniteEffect(\n    entityRef,\n    shieldIndex,\n    shieldEffect,\n    componentAccessor\n);\n```\n\n### Removing Effects\n\n```java\nimport com.hypixel.hytale.server.core.entity.effect.RemovalBehavior;\n\n// Remove specific effect\nint effectIndex = EntityEffect.getAssetMap().getIndex(\"Burn\");\ncontroller.removeEffect(entityRef, effectIndex, componentAccessor);\n\n// Remove with custom behavior\ncontroller.removeEffect(\n    entityRef,\n    effectIndex,\n    RemovalBehavior.COMPLETE,\n    componentAccessor\n);\n\n// Clear all effects\ncontroller.clearEffects(entityRef, componentAccessor);\n```\n\n### Checking Active Effects\n\n```java\n// Get all active effects\nInt2ObjectMap\u003CActiveEntityEffect> activeEffects = controller.getActiveEffects();\n\n// Get effect indices for quick iteration\nint[] indices = controller.getActiveEffectIndexes();\n\nfor (int index : indices) {\n    ActiveEntityEffect active = activeEffects.get(index);\n\n    String effectId = active.getEntityEffectId();\n    float remaining = active.getRemainingDuration();\n    boolean isDebuff = active.isDebuff();\n\n    if (active.isInfinite()) {\n        // Effect lasts forever\n    } else {\n        // Effect has duration\n        System.out.println(effectId + \": \" + remaining + \"s remaining\");\n    }\n}\n```\n\n### Checking Invulnerability\n\n```java\n// Check if entity is invulnerable due to effects\nif (controller.isInvulnerable()) {\n    // Entity cannot take damage\n}\n\n// Manually set invulnerability (bypasses effect system)\ncontroller.setInvulnerable(true);\n```\n\n## Effect Properties\n\n### Stat Modifiers\n\nEffects can modify entity stats while active:\n\n```java\n// Effect asset defines stat modifiers\n// entityStats: map of stat ID to value\n// valueType: ABSOLUTE or PERCENT\n// statModifiers: resolved modifiers per stat\n\n// Example effect that increases speed by 50%:\n// - entityStats: {SPEED: 0.5}\n// - valueType: PERCENT\n```\n\n### Damage Over Time\n\nEffects can apply periodic damage:\n\n```java\n// Effect asset defines:\n// - damageCalculator: DamageCalculator instance\n// - damageCalculatorCooldown: seconds between damage ticks\n\n// Example burn effect:\n// - damageCalculator: 2 fire damage\n// - damageCalculatorCooldown: 1.0 (damage every second)\n```\n\n### Visual Changes\n\nEffects can change entity appearance:\n\n```java\n// Effect asset defines:\n// - modelChange: alternate model asset ID\n// - applicationEffects: particles/sounds on apply\n\n// Example transform effect:\n// - modelChange: \"wolf_transformed\"\n// - applicationEffects: sparkle particles, transform sound\n```\n\n### Damage Resistance\n\nEffects can modify incoming damage:\n\n```java\n// damageResistance: map of DamageCause to StaticModifier[]\n\n// Example fire resistance:\n// - FIRE: -0.5 (50% reduction)\n// - LAVA: -0.75 (75% reduction)\n```\n\n## Built-in Effects\n\nCommon built-in effects (defined in game assets):\n\n| Effect | Type | Description |\n|--------|------|-------------|\n| Burn | Debuff | Fire damage over time |\n| Poison | Debuff | Poison damage over time |\n| Freeze | Debuff | Slows movement |\n| Speed | Buff | Increases movement speed |\n| Strength | Buff | Increases damage |\n| Regeneration | Buff | Heals over time |\n| Invulnerability | Buff | Prevents all damage |\n| Invisibility | Buff | Hides entity from view |\n\n## Related\n\n- [Entity System](/api-reference/entities/overview/) - Entity management\n- [Component Catalog](/api-reference/ecs/component-catalog/) - ECS components\n- [Knockback System](/api-reference/entities/knockback/) - Knockback mechanics","src/content/docs/api-reference/entities/effects.mdx","d0b089a0387446b4","api-reference/entities/groups",{"id":178,"data":180,"body":185,"filePath":186,"digest":187,"deferredRender":16},{"title":181,"editUrl":16,"head":182,"template":52,"sidebar":183,"pagefind":16,"draft":42},"Entity Groups",[],{"hidden":42,"attrs":184},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Entity Groups\n\nThe entity group system allows grouping multiple entities together for coordinated behavior like mounts, raids, or squads.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.entity.group`\n\n## Overview\n\nEntity groups are managed via the `EntityGroup` component. A group has a leader and members, supports iteration and queries, and can be dissolved when no longer needed.\n\n## Core Class\n\n### EntityGroup\n\nComponent that manages a group of entities:\n\n```java\npackage com.hypixel.hytale.server.core.entity.group;\n\npublic class EntityGroup implements Component\u003CEntityStore> {\n    // Member management\n    public void add(Ref\u003CEntityStore> reference);\n    public void remove(Ref\u003CEntityStore> reference);\n    public void clear();\n    public boolean isMember(Ref\u003CEntityStore> reference);\n    public int size();\n    public Ref\u003CEntityStore> getFirst();\n\n    // Leadership\n    public Ref\u003CEntityStore> getLeaderRef();\n    public void setLeaderRef(Ref\u003CEntityStore> leaderRef);\n\n    // Status\n    public boolean isDissolved();\n    public void setDissolved(boolean dissolved);\n\n    // Iteration\n    public \u003CT> void forEachMember(\n        TriConsumer\u003CRef\u003CEntityStore>, Ref\u003CEntityStore>, T> consumer,\n        Ref\u003CEntityStore> sender,\n        T arg\n    );\n\n    public \u003CT> void forEachMemberExcludingLeader(\n        TriConsumer\u003CRef\u003CEntityStore>, Ref\u003CEntityStore>, T> consumer,\n        Ref\u003CEntityStore> sender,\n        T arg\n    );\n\n    public \u003CT> void forEachMemberExcludingSelf(\n        TriConsumer\u003CRef\u003CEntityStore>, Ref\u003CEntityStore>, T> consumer,\n        Ref\u003CEntityStore> sender,\n        T arg\n    );\n\n    public Ref\u003CEntityStore> testMembers(\n        Predicate\u003CRef\u003CEntityStore>> predicate,\n        boolean skipLeader\n    );\n\n    // Direct list access\n    public List\u003CRef\u003CEntityStore>> getMemberList();\n\n    // Get component type\n    public static ComponentType\u003CEntityStore, EntityGroup> getComponentType();\n}\n```\n\n## Usage Examples\n\n### Creating a Group\n\n```java\nimport com.hypixel.hytale.server.core.entity.group.EntityGroup;\nimport com.hypixel.hytale.component.Ref;\nimport com.hypixel.hytale.server.core.universe.world.storage.EntityStore;\n\n// Get or create group component on owner entity\nRef\u003CEntityStore> ownerRef = /* owner entity reference */;\nEntityGroup group = componentAccessor.getOrCreateComponent(\n    ownerRef,\n    EntityGroup.getComponentType()\n);\n\n// Set leader\ngroup.setLeaderRef(ownerRef);\n```\n\n### Adding Members\n\n```java\n// Add members to group\nRef\u003CEntityStore> member1 = /* entity reference */;\nRef\u003CEntityStore> member2 = /* entity reference */;\nRef\u003CEntityStore> member3 = /* entity reference */;\n\ngroup.add(member1);\ngroup.add(member2);\ngroup.add(member3);\n\n// Check membership\nif (group.isMember(member1)) {\n    System.out.println(\"Member 1 is in the group\");\n}\n\n// Get group size\nint memberCount = group.size();  // Returns 3\n```\n\n### Removing Members\n\n```java\n// Remove specific member\ngroup.remove(member1);\n\n// Clear all members (disband group)\ngroup.clear();\n```\n\n### Iterating Members\n\n```java\n// Iterate all members\ngroup.forEachMember(\n    (memberRef, senderRef, data) -> {\n        System.out.println(\"Processing member: \" + memberRef);\n    },\n    ownerRef,  // Sender reference\n    null       // Additional data\n);\n\n// Iterate excluding leader\ngroup.forEachMemberExcludingLeader(\n    (memberRef, senderRef, data) -> {\n        // Only non-leader members\n        sendMessageToMember(memberRef, data);\n    },\n    ownerRef,\n    \"Hello team!\"\n);\n\n// Iterate excluding sender\ngroup.forEachMemberExcludingSelf(\n    (memberRef, senderRef, context) -> {\n        // All members except the sender\n        notifyMember(memberRef);\n    },\n    senderEntityRef,\n    null\n);\n```\n\n### Finding Members\n\n```java\n// Find first member matching condition\nRef\u003CEntityStore> aliveMember = group.testMembers(\n    member -> {\n        // Check if member is alive\n        return member.isValid() && !isDead(member);\n    },\n    true  // Skip leader\n);\n\nif (aliveMember != null) {\n    // Found an alive non-leader member\n}\n\n// Find first member (any)\nRef\u003CEntityStore> firstMember = group.getFirst();\n```\n\n### Checking Group Status\n\n```java\n// Check if group is dissolved\nif (group.isDissolved()) {\n    // Group has been disbanded\n    return;\n}\n\n// Manually dissolve group\ngroup.setDissolved(true);\n\n// Get leader\nRef\u003CEntityStore> leader = group.getLeaderRef();\nif (leader != null && leader.isValid()) {\n    // Leader is still valid\n}\n```\n\n### Direct List Access\n\n```java\n// Get member list for more complex operations\nList\u003CRef\u003CEntityStore>> members = group.getMemberList();\n\n// Filter members\nList\u003CRef\u003CEntityStore>> validMembers = members.stream()\n    .filter(Ref::isValid)\n    .collect(Collectors.toList());\n\n// Count members\nlong count = members.stream()\n    .filter(m -> m.isValid())\n    .count();\n```\n\n## Use Cases\n\n### Mount System\n\n```java\n// Mount group: rider + mount\nEntityGroup mountGroup = getOrCreateGroup(mountRef);\nmountGroup.setLeaderRef(riderRef);  // Rider is leader\nmountGroup.add(mountRef);           // Mount is member\n\n// Dismount\nmountGroup.remove(mountRef);\nmountGroup.setDissolved(true);\n```\n\n### Squad/Party\n\n```java\n// Party group: party leader + members\nEntityGroup party = getOrCreateGroup(leaderRef);\nparty.setLeaderRef(leaderRef);\n\n// Invite player\nparty.add(invitedPlayerRef);\n\n// Leave party\nparty.remove(leavingPlayerRef);\n\n// Kick player\nparty.remove(kickedPlayerRef);\n\n// Disband party\nparty.clear();\n```\n\n### Raid Group\n\n```java\n// Raid: boss + minions\nEntityGroup raid = getOrCreateGroup(bossRef);\nraid.setLeaderRef(bossRef);\n\n// Spawn minions\nfor (int i = 0; i \u003C 5; i++) {\n    Ref\u003CEntityStore> minionRef = spawnMinion();\n    raid.add(minionRef);\n}\n\n// Boss death - kill all minions\nraid.forEachMemberExcludingLeader(\n    (memberRef, leaderRef, unused) -> {\n        killEntity(memberRef);\n    },\n    bossRef,\n    null\n);\nraid.setDissolved(true);\n```\n\n### Synchronized Behavior\n\n```java\n// Make all group members face the same direction\nVector3f leaderRotation = getRotation(group.getLeaderRef());\n\ngroup.forEachMemberExcludingLeader(\n    (memberRef, leaderRef, rotation) -> {\n        setRotation(memberRef, rotation);\n    },\n    group.getLeaderRef(),\n    leaderRotation\n);\n```\n\n## Group Lifecycle\n\n```\n1. Create EntityGroup on owner entity\n2. Set leader reference\n3. Add members as needed\n4. Iterate/query members during gameplay\n5. Remove members when they leave\n6. Clear and dissolve when group ends\n```\n\n## Best Practices\n\n### Validate References\n\n```java\n// Always check if member is still valid\ngroup.forEachMember(\n    (memberRef, senderRef, data) -> {\n        if (!memberRef.isValid()) {\n            return;  // Skip invalid members\n        }\n        // Process valid member\n    },\n    ownerRef,\n    null\n);\n```\n\n### Clean Up Disbanded Groups\n\n```java\n// Remove group component when dissolved\nif (group.isDissolved()) {\n    componentAccessor.removeComponent(\n        ownerRef,\n        EntityGroup.getComponentType()\n    );\n}\n```\n\n### Leader Death Handling\n\n```java\n// When leader dies, either:\n// 1. Promote new leader\nRef\u003CEntityStore> newLeader = group.getFirst();\nif (newLeader != null && newLeader.isValid()) {\n    group.setLeaderRef(newLeader);\n}\n\n// 2. Or dissolve group\ngroup.clear();\ngroup.setDissolved(true);\n```\n\n## Related\n\n- [Entity System](/api-reference/entities/overview/) - Entity management\n- [ECS Overview](/core-concepts/ecs-overview/) - Component system\n- [Component Catalog](/api-reference/ecs/component-catalog/) - All components","src/content/docs/api-reference/entities/groups.mdx","4cdb608bc0567a94","api-reference/entities/inventory",{"id":188,"data":190,"body":195,"filePath":196,"digest":197,"deferredRender":16},{"title":191,"editUrl":16,"head":192,"template":52,"sidebar":193,"pagefind":16,"draft":42},"Player Inventory",[],{"hidden":42,"attrs":194},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Player Inventory\n\nThe inventory system manages player item storage including hotbar, main storage, armor, utility slots, and backpack.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.inventory`\n\n## Overview\n\nPlayer inventory is divided into sections, each with a unique section ID. Active slots track which item the player currently has selected in each section.\n\n## Inventory Sections\n\n| Section ID | Constant | Capacity | Purpose |\n|-----------|----------|----------|---------|\n| -1 | `HOTBAR_SECTION_ID` | 9 | Main hotbar (0-8) |\n| -2 | `STORAGE_SECTION_ID` | 36 | Main storage (4x9 grid) |\n| -3 | `ARMOR_SECTION_ID` | 6 | Armor equipment |\n| -5 | `UTILITY_SECTION_ID` | 4 | Consumables (food, potions) |\n| -8 | `TOOLS_SECTION_ID` | 23 | Tools (deprecated) |\n| -9 | `BACKPACK_SECTION_ID` | Variable | Expandable storage |\n\n## Core Class\n\n### Inventory\n\nMain inventory management class:\n\n```java\npackage com.hypixel.hytale.server.core.inventory;\n\npublic class Inventory {\n    // Section ID constants\n    public static final int HOTBAR_SECTION_ID = -1;\n    public static final int STORAGE_SECTION_ID = -2;\n    public static final int ARMOR_SECTION_ID = -3;\n    public static final int UTILITY_SECTION_ID = -5;\n    public static final int TOOLS_SECTION_ID = -8;\n    public static final int BACKPACK_SECTION_ID = -9;\n\n    // Container access\n    public ItemContainer getHotbar();\n    public ItemContainer getStorage();\n    public ItemContainer getArmor();\n    public ItemContainer getUtility();\n    public ItemContainer getTools();\n    public ItemContainer getBackpack();\n    public ItemContainer getSectionById(int sectionId);\n\n    // Active slot management - Hotbar\n    public byte getActiveHotbarSlot();\n    public void setActiveHotbarSlot(byte slot);\n    public ItemStack getActiveHotbarItem();\n    public ItemStack getItemInHand();\n\n    // Active slot management - Utility\n    public byte getActiveUtilitySlot();\n    public void setActiveUtilitySlot(byte slot);\n    public ItemStack getUtilityItem();\n\n    // Active slot management - Tools (deprecated)\n    public byte getActiveToolsSlot();\n    public void setActiveToolsSlot(byte slot);\n    public ItemStack getToolsItem();\n\n    // Item operations\n    public void moveItem(\n        int fromSectionId, int fromSlotId,\n        int quantity,\n        int toSectionId, int toSlotId\n    );\n\n    public void smartMoveItem(\n        int fromSectionId, int fromSlotId,\n        int quantity,\n        SmartMoveType moveType\n    );\n\n    // Bulk operations\n    public ListTransaction\u003CMoveTransaction\u003CItemStackTransaction>> takeAll(\n        int inventorySectionId\n    );\n\n    public ListTransaction\u003CMoveTransaction\u003CItemStackTransaction>> putAll(\n        int inventorySectionId\n    );\n\n    public ListTransaction\u003CMoveTransaction\u003CItemStackTransaction>> quickStack(\n        int inventorySectionId\n    );\n\n    public List\u003CItemStack> dropAllItemStacks();\n    public void clear();\n\n    // Combined containers\n    public CombinedItemContainer getCombinedHotbarFirst();\n    public CombinedItemContainer getCombinedStorageFirst();\n    public CombinedItemContainer getCombinedArmorHotbarStorage();\n    public CombinedItemContainer getCombinedEverything();\n}\n```\n\n## Armor Slots\n\nThe armor section has 6 slots corresponding to `ItemArmorSlot`:\n\n| Slot Index | Position |\n|------------|----------|\n| 0 | Head |\n| 1 | Chest |\n| 2 | Legs |\n| 3 | Feet |\n| 4 | Cape |\n| 5 | Accessory |\n\n## Usage Examples\n\n### Accessing Inventory Containers\n\n```java\nimport com.hypixel.hytale.server.core.inventory.Inventory;\nimport com.hypixel.hytale.server.core.entity.entities.Player;\nimport com.hypixel.hytale.server.core.inventory.container.ItemContainer;\n\n// Get player inventory\nPlayer player = /* player reference */;\nInventory inventory = player.getInventory();\n\n// Access containers\nItemContainer hotbar = inventory.getHotbar();      // 9 slots\nItemContainer storage = inventory.getStorage();    // 36 slots\nItemContainer armor = inventory.getArmor();        // 6 slots\nItemContainer utility = inventory.getUtility();    // 4 slots\nItemContainer backpack = inventory.getBackpack();  // Variable size\n\n// Access by section ID\nItemContainer section = inventory.getSectionById(Inventory.HOTBAR_SECTION_ID);\n```\n\n### Working with Active Slots\n\n```java\n// Get currently held item (main hand)\nItemStack heldItem = inventory.getItemInHand();\n\n// Get active hotbar slot (0-8)\nbyte activeSlot = inventory.getActiveHotbarSlot();\n\n// Change active slot\ninventory.setActiveHotbarSlot((byte) 3);\n\n// Get specific hotbar item\nItemStack hotbarItem = inventory.getActiveHotbarItem();\n\n// Utility items\nItemStack utilityItem = inventory.getUtilityItem();\ninventory.setActiveUtilitySlot((byte) 1);\n```\n\n### Moving Items\n\n```java\n// Move 1 item from hotbar slot 0 to storage slot 10\ninventory.moveItem(\n    Inventory.HOTBAR_SECTION_ID, 0,  // From\n    1,                                // Quantity\n    Inventory.STORAGE_SECTION_ID, 10  // To\n);\n\n// Move entire stack\nItemContainer hotbar = inventory.getHotbar();\nItemStack item = hotbar.getItemAt(0);\nint quantity = item != null ? item.getQuantity() : 0;\n\ninventory.moveItem(\n    Inventory.HOTBAR_SECTION_ID, 0,\n    quantity,\n    Inventory.STORAGE_SECTION_ID, 10\n);\n```\n\n### Smart Move\n\n```java\nimport com.hypixel.hytale.server.core.inventory.SmartMoveType;\n\n// Auto-equip armor or merge stacks\ninventory.smartMoveItem(\n    Inventory.STORAGE_SECTION_ID, 15,\n    1,\n    SmartMoveType.EquipOrMergeStack\n);\n\n// Move to hotbar if possible, otherwise storage\ninventory.smartMoveItem(\n    Inventory.STORAGE_SECTION_ID, 20,\n    1,\n    SmartMoveType.ToHotbar\n);\n```\n\n### Bulk Operations\n\n```java\n// Take all items from a container (e.g., chest)\nvar takeTransaction = inventory.takeAll(externalContainerId);\n\n// Put all storage items into container\nvar putTransaction = inventory.putAll(externalContainerId);\n\n// Quick stack matching items to container\nvar quickTransaction = inventory.quickStack(externalContainerId);\n\n// Drop all items (on death)\nList\u003CItemStack> droppedItems = inventory.dropAllItemStacks();\n\n// Clear entire inventory\ninventory.clear();\n```\n\n### Combined Containers\n\n```java\n// Search hotbar first, then storage\nCombinedItemContainer hotbarFirst = inventory.getCombinedHotbarFirst();\n\n// Search storage first, then hotbar\nCombinedItemContainer storageFirst = inventory.getCombinedStorageFirst();\n\n// Search armor, hotbar, storage\nCombinedItemContainer armorHotbarStorage = inventory.getCombinedArmorHotbarStorage();\n\n// Search everything\nCombinedItemContainer everything = inventory.getCombinedEverything();\n\n// Find item in combined container\nItemStack foundItem = everything.findItem(item ->\n    item.getItem().getId().equals(\"iron_sword\")\n);\n```\n\n### Working with Armor\n\n```java\n// Get armor container\nItemContainer armor = inventory.getArmor();\n\n// Get specific armor piece\nItemStack helmet = armor.getItemAt(0);  // Head\nItemStack chest = armor.getItemAt(1);   // Chest\nItemStack legs = armor.getItemAt(2);    // Legs\nItemStack feet = armor.getItemAt(3);    // Feet\nItemStack cape = armor.getItemAt(4);    // Cape\nItemStack accessory = armor.getItemAt(5); // Accessory\n\n// Check if slot is empty\nif (armor.isEmpty(0)) {\n    // No helmet equipped\n}\n```\n\n### Checking Item in Hand\n\n```java\n// Get currently held item\nItemStack heldItem = inventory.getItemInHand();\n\nif (heldItem != null) {\n    Item item = heldItem.getItem();\n    String itemId = item.getId();\n    int quantity = heldItem.getQuantity();\n\n    // Check item type\n    if (item.getWeapon() != null) {\n        // Holding a weapon\n    } else if (item.getTool() != null) {\n        // Holding a tool\n    } else if (item.getBlock() != null) {\n        // Holding a placeable block\n    }\n}\n```\n\n## SmartMoveType\n\nOptions for intelligent item placement:\n\n| Type | Description |\n|------|-------------|\n| `EquipOrMergeStack` | Auto-equip armor/tools, or merge with existing stacks |\n| `ToHotbar` | Move to hotbar if possible |\n| `ToStorage` | Move to main storage |\n| `ToArmor` | Equip in appropriate armor slot |\n\n## Slot Indices\n\n- **Hotbar**: 0-8 (9 slots)\n- **Storage**: 0-35 (36 slots, 4 rows x 9 columns)\n- **Armor**: 0-5 (Head, Chest, Legs, Feet, Cape, Accessory)\n- **Utility**: 0-3 (4 slots)\n- **Inactive indicator**: -1 (no active slot)\n\n## Related\n\n- [Inventory System](/api-reference/inventory/overview/) - Full inventory API\n- [Entity System](/api-reference/entities/overview/) - Player entity\n- [Item System](/api-reference/assets/overview/) - Item types and stacks","src/content/docs/api-reference/entities/inventory.mdx","92a0b7eb2abc5374","api-reference/entities/knockback",{"id":198,"data":200,"body":205,"filePath":206,"digest":207,"deferredRender":16},{"title":201,"editUrl":16,"head":202,"template":52,"sidebar":203,"pagefind":16,"draft":42},"Knockback System",[],{"hidden":42,"attrs":204},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Knockback System\n\nThe knockback system applies velocity impulses to entities, typically from combat or environmental interactions.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.entity.knockback`\n\n## Overview\n\nKnockback is managed via the `KnockbackComponent` attached to entities. It stores velocity, duration, and modifiers that control how the knockback is applied over time.\n\n## Core Classes\n\n### KnockbackComponent\n\nComponent managing knockback state on an entity:\n\n```java\npackage com.hypixel.hytale.server.core.entity.knockback;\n\npublic class KnockbackComponent implements Component\u003CEntityStore> {\n    // Velocity\n    public Vector3d getVelocity();\n    public void setVelocity(Vector3d velocity);\n\n    // Velocity application type\n    public ChangeVelocityType getVelocityType();\n    public void setVelocityType(ChangeVelocityType velocityType);\n\n    // Velocity configuration\n    public VelocityConfig getVelocityConfig();\n    public void setVelocityConfig(VelocityConfig velocityConfig);\n\n    // Modifiers (velocity multipliers)\n    public void addModifier(double modifier);\n    public void applyModifiers();\n\n    // Duration and timing\n    public float getDuration();\n    public void setDuration(float duration);\n    public float getTimer();\n    public void setTimer(float time);\n    public void incrementTimer(float time);\n\n    // Get component type\n    public static ComponentType\u003CEntityStore, KnockbackComponent> getComponentType();\n}\n```\n\n### ChangeVelocityType\n\nHow knockback velocity is applied:\n\n```java\npackage com.hypixel.hytale.protocol;\n\npublic enum ChangeVelocityType {\n    ADD,      // Add to existing velocity\n    SET,      // Replace existing velocity\n    SET_X,    // Replace only X component\n    SET_Y,    // Replace only Y component\n    SET_Z     // Replace only Z component\n}\n```\n\n### VelocityConfig\n\nConfiguration for velocity application:\n\n```java\npublic class VelocityConfig {\n    // Velocity limits and behavior\n    double maxSpeed;\n    double drag;\n    double gravity;\n}\n```\n\n## Usage Examples\n\n### Applying Basic Knockback\n\n```java\nimport com.hypixel.hytale.server.core.entity.knockback.KnockbackComponent;\nimport com.hypixel.hytale.math.vector.Vector3d;\nimport com.hypixel.hytale.protocol.ChangeVelocityType;\n\n// Get knockback component from entity\nRef\u003CEntityStore> entityRef = /* entity reference */;\nKnockbackComponent knockback = componentAccessor.getComponent(\n    entityRef,\n    KnockbackComponent.getComponentType()\n);\n\nif (knockback != null) {\n    // Calculate knockback direction (away from attacker)\n    Vector3d direction = new Vector3d(\n        targetPos.x - attackerPos.x,\n        0.5,  // Upward component\n        targetPos.z - attackerPos.z\n    );\n    direction.normalize();\n    direction.scale(8.0);  // Knockback strength\n\n    // Apply knockback\n    knockback.setVelocity(direction);\n    knockback.setVelocityType(ChangeVelocityType.ADD);\n    knockback.setDuration(0.3f);  // 0.3 second knockback\n    knockback.setTimer(0.0f);\n}\n```\n\n### Knockback with Modifiers\n\n```java\n// Apply knockback with modifiers\nknockback.setVelocity(new Vector3d(10, 3, 0));\nknockback.setVelocityType(ChangeVelocityType.SET);\nknockback.setDuration(0.5f);\nknockback.setTimer(0.0f);\n\n// Add velocity modifiers (multipliers)\nknockback.addModifier(0.9);   // 90% - slight reduction\nknockback.addModifier(1.2);   // 120% - strength buff\n\n// Apply all modifiers (multiplies velocity by 0.9 * 1.2 = 1.08)\nknockback.applyModifiers();\n```\n\n### Directional Knockback\n\n```java\n// Horizontal knockback only (no Y change)\nknockback.setVelocity(new Vector3d(5, 0, 5));\nknockback.setVelocityType(ChangeVelocityType.ADD);\n\n// Vertical knockback only (launch upward)\nknockback.setVelocity(new Vector3d(0, 15, 0));\nknockback.setVelocityType(ChangeVelocityType.SET_Y);\n\n// Replace horizontal, preserve vertical\nknockback.setVelocity(new Vector3d(8, 0, 0));\nknockback.setVelocityType(ChangeVelocityType.SET_X);\n```\n\n### Checking Knockback State\n\n```java\n// Check if entity is being knocked back\nfloat timer = knockback.getTimer();\nfloat duration = knockback.getDuration();\n\nif (timer \u003C duration) {\n    // Entity is still in knockback\n    float progress = timer / duration;  // 0.0 to 1.0\n}\n\n// Manually increment timer (usually done by physics system)\nknockback.incrementTimer(deltaTime);\n```\n\n### Custom Velocity Configuration\n\n```java\n// Set custom velocity config\nVelocityConfig config = new VelocityConfig();\nconfig.maxSpeed = 20.0;\nconfig.drag = 0.98;\nconfig.gravity = 0.08;\n\nknockback.setVelocityConfig(config);\n```\n\n## Knockback Calculations\n\n### Combat Knockback\n\nStandard combat knockback formula:\n\n```java\n// Calculate knockback from attack\npublic Vector3d calculateCombatKnockback(\n    Vector3d attackerPos,\n    Vector3d targetPos,\n    float knockbackPower\n) {\n    // Direction away from attacker\n    Vector3d direction = new Vector3d(\n        targetPos.x - attackerPos.x,\n        0,\n        targetPos.z - attackerPos.z\n    );\n\n    // Normalize and scale\n    if (direction.squaredLength() > 0.0001) {\n        direction.normalize();\n    } else {\n        // Default direction if positions overlap\n        direction = new Vector3d(1, 0, 0);\n    }\n\n    // Apply power\n    direction.scale(knockbackPower);\n\n    // Add upward component\n    direction.y = knockbackPower * 0.4;\n\n    return direction;\n}\n```\n\n### Explosion Knockback\n\nKnockback from explosions:\n\n```java\npublic Vector3d calculateExplosionKnockback(\n    Vector3d explosionPos,\n    Vector3d targetPos,\n    float power,\n    float radius\n) {\n    Vector3d direction = new Vector3d(\n        targetPos.x - explosionPos.x,\n        targetPos.y - explosionPos.y,\n        targetPos.z - explosionPos.z\n    );\n\n    double distance = direction.length();\n    if (distance == 0) return Vector3d.ZERO;\n\n    // Falloff based on distance\n    double falloff = 1.0 - (distance / radius);\n    falloff = Math.max(0, falloff);\n\n    direction.normalize();\n    direction.scale(power * falloff);\n\n    return direction;\n}\n```\n\n## Integration with Physics\n\nThe knockback system integrates with the physics system:\n\n1. **KnockbackComponent** stores pending knockback\n2. **Physics system** reads knockback each tick\n3. **Velocity applied** according to ChangeVelocityType\n4. **Timer incremented** until duration reached\n5. **Knockback cleared** when timer >= duration\n\n```\nFrame 0: Knockback applied (timer=0, duration=0.3)\nFrame 1: Physics applies velocity, timer=0.016\nFrame 2: Physics applies velocity, timer=0.033\n...\nFrame 18: timer=0.3, knockback complete\n```\n\n## Knockback Resistance\n\nEntities can resist knockback through:\n\n1. **Stat modifiers** - Reduce knockback velocity\n2. **Effects** - Immunity or reduction\n3. **Entity properties** - Heavy entities resist more\n\n```java\n// Apply knockback with resistance check\ndouble resistance = entity.getStatValue(Stats.KNOCKBACK_RESISTANCE);\ndouble multiplier = 1.0 - resistance;  // resistance 0.5 = 50% knockback\n\nVector3d adjustedVelocity = velocity.clone();\nadjustedVelocity.scale(multiplier);\n\nknockback.setVelocity(adjustedVelocity);\n```\n\n## Related\n\n- [Effects System](/api-reference/entities/effects/) - Status effects\n- [Physics System](/api-reference/physics/overview/) - Velocity and movement\n- [Entity System](/api-reference/entities/overview/) - Entity management","src/content/docs/api-reference/entities/knockback.mdx","f488c89d5ad73fd8","api-reference/entities/overview",{"id":208,"data":210,"body":215,"filePath":216,"digest":217,"deferredRender":16},{"title":211,"editUrl":16,"head":212,"template":52,"sidebar":213,"pagefind":16,"draft":42},"Entity System Overview",[],{"hidden":42,"attrs":214},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Entity System Overview\n\nThe Entity System manages all game objects that exist within worlds, including players, mobs, items, projectiles, and other dynamic objects. Entities are implemented using the ECS architecture with components providing data and systems providing behavior.\n\n## Package Location\n\n- Entity base: `com.hypixel.hytale.server.core.entity.Entity`\n- PlayerRef: `com.hypixel.hytale.server.core.universe.PlayerRef`\n- Player: `com.hypixel.hytale.server.core.entity.entities.Player`\n- EntityStore: `com.hypixel.hytale.server.core.universe.world.storage.EntityStore`\n- TransformComponent: `com.hypixel.hytale.server.core.modules.entity.component.TransformComponent`\n\n## Core Concepts\n\n### Entity Hierarchy\n\n```\nEntity (base class)\n LivingEntity\n    Player\n    Creature\n    NPC\n ItemEntity\n ProjectileEntity\n ... other entity types\n```\n\n### Entity as Component\n\nIn Hytale's ECS, `Entity` subclasses are actually components themselves. Each entity type is registered as a component type:\n\n```java\nComponentType\u003CEntityStore, MyEntity> entityType =\n    getEntityStoreRegistry().registerComponent(MyEntity.class, ...);\n```\n\n## PlayerRef\n\n`PlayerRef` is the primary interface for working with connected players. It bridges the network connection with the in-world entity.\n\n### Accessing PlayerRef\n\n```java\n// From Universe (all players)\nList\u003CPlayerRef> allPlayers = Universe.get().getPlayers();\n\n// From World (players in world)\nCollection\u003CPlayerRef> worldPlayers = world.getPlayerRefs();\n\n// From event\ngetEventRegistry().register(PlayerConnectEvent.class, event -> {\n    PlayerRef player = event.getPlayerRef();\n});\n\n// Find by name\nPlayerRef player = Universe.get().getPlayerByUsername(\"username\", NameMatching.DEFAULT);\n```\n\n### PlayerRef Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `uuid` | `UUID` | Player's unique identifier |\n| `username` | `String` | Player's display name |\n| `language` | `String` | Player's language preference |\n| `packetHandler` | `PacketHandler` | Network packet handler |\n| `chunkTracker` | `ChunkTracker` | Tracks loaded chunks |\n\n### PlayerRef Methods\n\n```java\n// Basic info\nUUID uuid = player.getUuid();\nString name = player.getUsername();\nString language = player.getLanguage();\n\n// Check if valid (connected)\nif (player.isValid()) {\n    // Player is connected\n}\n\n// Get entity reference (if in world)\nRef\u003CEntityStore> ref = player.getReference();\nif (ref != null && ref.isValid()) {\n    // Access entity components\n}\n\n// Get holder (for component access when between worlds)\nHolder\u003CEntityStore> holder = player.getHolder();\n\n// Get position\nTransform transform = player.getTransform();\nVector3f headRotation = player.getHeadRotation();\n\n// Send message\nplayer.sendMessage(Message.raw(\"Hello!\"));\n\n// Transfer to another server\nplayer.referToServer(\"other-server.example.com\", 25565);\nplayer.referToServer(\"other-server.example.com\", 25565, customData);\n```\n\n## Entity Class\n\nThe base `Entity` class provides common functionality for all entities.\n\n### Entity Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `networkId` | `int` | Network identifier (-1 if not spawned) |\n| `world` | `World` | World the entity is in |\n| `reference` | `Ref\u003CEntityStore>` | ECS reference |\n| `wasRemoved` | `boolean` | Whether entity was removed |\n\n### Entity Methods\n\n```java\n// Get world\nWorld world = entity.getWorld();\n\n// Get entity reference\nRef\u003CEntityStore> ref = entity.getReference();\n\n// Remove entity from world\nboolean removed = entity.remove();\n\n// Check if already removed\nif (entity.wasRemoved()) {\n    return;\n}\n\n// Check if collidable\nboolean collidable = entity.isCollidable();\n\n// Convert to holder (for serialization/transfer)\nHolder\u003CEntityStore> holder = entity.toHolder();\n```\n\n### Entity Lifecycle\n\n```\nCreate Entity Instance\n        \nloadIntoWorld(world)     Assigns to world\n        \nsetReference(ref)        Links to ECS\n        \n    [Active]\n        \n    remove()             Removes from world\n        \nunloadFromWorld()        Cleans up\n```\n\n## Working with Entity Components\n\nEntities use the ECS system for data storage:\n\n```java\n// Get entity store\nEntityStore entityStore = world.getEntityStore();\nStore\u003CEntityStore> store = entityStore.getStore();\n\n// Get component from entity\nTransformComponent transform = store.getComponent(ref, TransformComponent.getComponentType());\n\n// Check if entity has component\nif (store.hasComponent(ref, HealthComponent.getComponentType())) {\n    HealthComponent health = store.getComponent(ref, HealthComponent.getComponentType());\n}\n\n// Add component to entity\nstore.addComponent(ref, myComponentType, new MyComponent());\n\n// Remove component\nstore.removeComponent(ref, myComponentType);\n```\n\n## Common Entity Components\n\n### TransformComponent\n\nPosition and rotation in the world:\n\n```java\nTransformComponent transform = store.getComponent(ref, TransformComponent.getComponentType());\n\n// Get position\nVector3d position = transform.getPosition();\ndouble x = position.x;\ndouble y = position.y;\ndouble z = position.z;\n\n// Get rotation\nVector3f rotation = transform.getRotation();\nfloat pitch = rotation.x;\nfloat yaw = rotation.y;\nfloat roll = rotation.z;\n\n// Set position\nposition.assign(newX, newY, newZ);\n```\n\n### ModelComponent\n\nVisual model and display:\n\n```java\nModelComponent model = store.getComponent(ref, ModelComponent.getComponentType());\n\n// Get model reference\nModel.ModelReference modelRef = model.getModel();\n```\n\n### UUIDComponent\n\nUnique identifier:\n\n```java\nUUIDComponent uuidComp = store.getComponent(ref, UUIDComponent.getComponentType());\nUUID entityUuid = uuidComp.getUuid();\n```\n\n## Spawning Entities\n\n### Creating and Spawning\n\n```java\n// 1. Create holder with components\nHolder\u003CEntityStore> holder = EntityStore.REGISTRY.newHolder();\n\n// 2. Add entity component\nMyEntity entity = new MyEntity();\nholder.addComponent(MyEntity.getComponentType(), entity);\n\n// 3. Add required components\nholder.addComponent(TransformComponent.getComponentType(),\n    new TransformComponent(x, y, z, 0, 0, 0));\nholder.addComponent(UUIDComponent.getComponentType(),\n    new UUIDComponent(UUID.randomUUID()));\n\n// 4. Spawn in store\nStore\u003CEntityStore> store = world.getEntityStore().getStore();\nRef\u003CEntityStore> ref = store.spawn(holder);\n```\n\n### Using Entity Utilities\n\n```java\n// EntityUtils provides helper methods\nHolder\u003CEntityStore> holder = EntityUtils.createEntityHolder(\n    entityType,\n    transform,\n    world\n);\nRef\u003CEntityStore> ref = store.spawn(holder);\n```\n\n## Entity Events\n\n### Entity Removal\n\n```java\ngetEventRegistry().register(EntityRemoveEvent.class, event -> {\n    Entity entity = event.getEntity();\n    // Handle entity removal\n});\n```\n\n### Player Entity Events\n\n```java\n// Player added to world\ngetEventRegistry().register(AddPlayerToWorldEvent.class, event -> {\n    PlayerRef player = event.getPlayerRef();\n    World world = event.getWorld();\n});\n\n// Player removed from world\ngetEventRegistry().register(DrainPlayerFromWorldEvent.class, event -> {\n    PlayerRef player = event.getPlayerRef();\n});\n```\n\n## Entity Animation\n\nEntities support animations through the model system:\n\n```java\n// Default animation names\nString deathAnim = Entity.DefaultAnimations.DEATH;    // \"Death\"\nString hurtAnim = Entity.DefaultAnimations.HURT;      // \"Hurt\"\nString despawnAnim = Entity.DefaultAnimations.DESPAWN; // \"Despawn\"\n\n// Get hurt animations based on state\nString[] hurtAnims = Entity.DefaultAnimations.getHurtAnimationIds(\n    movementStates,\n    damageCause\n);\n```\n\n## Entity Serialization\n\nEntities can be serialized for persistence:\n\n```java\n// Entity has a CODEC for serialization\nBuilderCodec\u003CEntity> codec = Entity.CODEC;\n\n// Clone entity (uses serialization)\nEntity cloned = (Entity) entity.clone();\n\n// Convert to holder for persistence\nHolder\u003CEntityStore> holder = entity.toHolder();\n```\n\n## Player Entity Special Cases\n\nPlayer entities have special handling:\n\n```java\n// Player is both an Entity and has PlayerRef\nPlayer playerEntity = store.getComponent(ref, Player.getComponentType());\nPlayerRef playerRef = store.getComponent(ref, PlayerRef.getComponentType());\n\n// Access player-specific features\nMovementManager movement = store.getComponent(ref, MovementManager.getComponentType());\nCameraManager camera = store.getComponent(ref, CameraManager.getComponentType());\nChunkTracker chunkTracker = playerRef.getChunkTracker();\n```\n\n## Entity Queries\n\nQuery entities by their components:\n\n```java\n// Query all entities with specific components\nQuery\u003CEntityStore> query = new AndQuery\u003C>(\n    TransformComponent.getComponentType(),\n    HealthComponent.getComponentType()\n);\n\n// Use in system\npublic class MySystem extends EntityTickingSystem\u003CEntityStore> {\n    @Override\n    public Query\u003CEntityStore> getQuery() {\n        return new AndQuery\u003C>(entityType, transformType);\n    }\n\n    @Override\n    public void tick(float dt, int index, ArchetypeChunk\u003CEntityStore> chunk,\n                     Store\u003CEntityStore> store, CommandBuffer\u003CEntityStore> commandBuffer) {\n        // Process matching entities via chunk.getComponent(index, componentType)\n    }\n}\n```\n\n## Best Practices\n\n1. **Use ECS pattern**: Access entity data through components, not direct entity fields\n2. **Check validity**: Always check `ref.isValid()` before accessing\n3. **Run on correct thread**: Entity operations must run on the world thread\n4. **Handle removal**: Check `wasRemoved()` before operations on entity references\n5. **Use PlayerRef**: For players, work with `PlayerRef` rather than `Player` entity when possible\n\n## Related\n\n- [ECS Overview](/core-concepts/ecs-overview/) - Entity Component System\n- [World System](/api-reference/world/overview/) - World and entity store\n- [Event System](/core-concepts/event-system/) - Entity events","src/content/docs/api-reference/entities/overview.mdx","594333db519a080b","api-reference/entities/permissions",{"id":218,"data":220,"body":225,"filePath":226,"digest":227,"deferredRender":16},{"title":221,"editUrl":16,"head":222,"template":52,"sidebar":223,"pagefind":16,"draft":42},"Player Permissions",[],{"hidden":42,"attrs":224},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Player Permissions\n\nThis document covers how to check and manage permissions on player entities.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.permissions`\n\n## Overview\n\nPlayers implement the `PermissionHolder` interface, allowing permission checks directly on player objects. The `PermissionsModule` singleton provides full permission management.\n\n## PermissionHolder Interface\n\nInterface implemented by entities that can have permissions:\n\n```java\npackage com.hypixel.hytale.server.core.permissions;\n\npublic interface PermissionHolder {\n    // Check if holder has permission (default: false)\n    boolean hasPermission(String permissionId);\n\n    // Check with custom default value\n    boolean hasPermission(String permissionId, boolean defaultValue);\n}\n```\n\n## Player Implementation\n\nThe `Player` class implements `PermissionHolder`:\n\n```java\npackage com.hypixel.hytale.server.core.entity.entities;\n\npublic class Player implements PermissionHolder {\n    @Override\n    public boolean hasPermission(String id) {\n        return PermissionsModule.get().hasPermission(this.getUuid(), id);\n    }\n\n    @Override\n    public boolean hasPermission(String id, boolean def) {\n        return PermissionsModule.get().hasPermission(this.getUuid(), id, def);\n    }\n}\n```\n\n## PermissionsModule\n\nCentral permission management singleton:\n\n```java\npackage com.hypixel.hytale.server.core.permissions;\n\npublic class PermissionsModule {\n    // Singleton access\n    public static PermissionsModule get();\n\n    // Permission checks\n    public boolean hasPermission(UUID uuid, String id);\n    public boolean hasPermission(UUID uuid, String id, boolean defaultValue);\n\n    // User permissions\n    public void addUserPermission(UUID uuid, Set\u003CString> permissions);\n    public void removeUserPermission(UUID uuid, Set\u003CString> permissions);\n\n    // Group management\n    public Set\u003CString> getGroupsForUser(UUID uuid);\n    public void addUserToGroup(UUID uuid, String group);\n    public void removeUserFromGroup(UUID uuid, String group);\n}\n```\n\n## Usage Examples\n\n### Checking Permissions on Player\n\n```java\nimport com.hypixel.hytale.server.core.entity.entities.Player;\n\nPlayer player = /* player reference */;\n\n// Basic permission check (false if not set)\nif (player.hasPermission(\"hytale.command.teleport\")) {\n    // Player can use teleport command\n}\n\n// Check with custom default\nif (player.hasPermission(\"custom.feature\", true)) {\n    // Feature enabled by default unless explicitly denied\n}\n\n// Common permission patterns\nif (player.hasPermission(\"hytale.admin\")) {\n    // Player is admin\n}\n\nif (player.hasPermission(\"myplugin.use\")) {\n    // Player can use your plugin\n}\n```\n\n### Using PermissionsModule\n\n```java\nimport com.hypixel.hytale.server.core.permissions.PermissionsModule;\nimport java.util.UUID;\nimport java.util.Set;\n\nPermissionsModule perms = PermissionsModule.get();\nUUID playerUuid = player.getUuid();\n\n// Check permission via module\nif (perms.hasPermission(playerUuid, \"hytale.command.fly\")) {\n    // Player can fly\n}\n\n// Grant permission\nperms.addUserPermission(playerUuid, Set.of(\"custom.permission\"));\n\n// Revoke permission\nperms.removeUserPermission(playerUuid, Set.of(\"custom.permission\"));\n\n// Check multiple permissions\nSet\u003CString> requiredPerms = Set.of(\"a.perm\", \"b.perm\");\nboolean hasAll = requiredPerms.stream()\n    .allMatch(p -> perms.hasPermission(playerUuid, p));\n```\n\n### Group Management\n\n```java\nPermissionsModule perms = PermissionsModule.get();\nUUID playerUuid = player.getUuid();\n\n// Add player to group\nperms.addUserToGroup(playerUuid, \"admin\");\nperms.addUserToGroup(playerUuid, \"moderator\");\n\n// Remove from group\nperms.removeUserFromGroup(playerUuid, \"moderator\");\n\n// Get player's groups\nSet\u003CString> groups = perms.getGroupsForUser(playerUuid);\nfor (String group : groups) {\n    System.out.println(\"Player is in group: \" + group);\n}\n\n// Check group membership\nif (groups.contains(\"admin\")) {\n    // Player is an admin\n}\n```\n\n### Permission-Gated Command\n\n```java\nimport com.hypixel.hytale.server.core.command.system.AbstractPlayerCommand;\nimport com.hypixel.hytale.server.core.command.system.CommandContext;\nimport com.hypixel.hytale.server.core.entity.entities.Player;\n\npublic class AdminCommand extends AbstractPlayerCommand\u003CAdminCommand> {\n    public AdminCommand() {\n        super(\"admin\", \"Admin-only command\");\n    }\n\n    @Override\n    protected void execute(CommandContext context, Player player) {\n        // Check permission before executing\n        if (!player.hasPermission(\"myplugin.admin\")) {\n            context.sendError(\"You don't have permission to use this command.\");\n            return;\n        }\n\n        // Execute admin functionality\n        context.sendSuccess(\"Admin command executed!\");\n    }\n}\n```\n\n### Permission in Event Handler\n\n```java\ngetEventRegistry().register(PlayerChatEvent.class, event -> {\n    PlayerRef sender = event.getSender();\n\n    // Get player entity to check permissions\n    Player player = sender.getPlayer();\n    if (player == null) return;\n\n    // Check for chat bypass permission\n    if (player.hasPermission(\"chat.bypass.filter\")) {\n        // Skip chat filter\n        return;\n    }\n\n    // Apply chat filter\n    String filtered = filterMessage(event.getContent());\n    event.setContent(filtered);\n});\n```\n\n## Permission Syntax\n\n### Wildcards\n\n| Pattern | Matches |\n|---------|---------|\n| `*` | All permissions |\n| `hytale.*` | All hytale permissions |\n| `hytale.command.*` | All hytale command permissions |\n\n### Negation\n\n| Pattern | Effect |\n|---------|--------|\n| `-*` | Deny all permissions |\n| `-hytale.admin` | Deny specific permission |\n| `-hytale.command.ban` | Deny ban command |\n\n### Resolution Order\n\nPermissions are resolved in order:\n\n1. User direct permissions (most specific)\n2. Group permissions\n3. Virtual groups (game mode, etc.)\n4. Default value\n\nExplicit grants/denies take precedence over wildcards.\n\n## Best Practices\n\n### Use Descriptive Permission Names\n\n```java\n// Good - hierarchical and descriptive\n\"myplugin.command.spawn\"\n\"myplugin.feature.fly\"\n\"myplugin.admin.config\"\n\n// Bad - unclear hierarchy\n\"spawn\"\n\"fly\"\n\"config\"\n```\n\n### Provide Sensible Defaults\n\n```java\n// Default to false for dangerous actions\nif (player.hasPermission(\"myplugin.dangerous\", false)) { }\n\n// Default to true for basic features\nif (player.hasPermission(\"myplugin.basic\", true)) { }\n```\n\n### Cache Permission Checks\n\n```java\n// For frequently checked permissions, cache the result\nprivate boolean canUseFeature;\n\npublic void onPlayerJoin(Player player) {\n    canUseFeature = player.hasPermission(\"myplugin.feature\");\n}\n```\n\n### Group Common Permissions\n\n```java\n// Define permission groups in config\n// Group \"vip\": myplugin.feature.a, myplugin.feature.b\n// Group \"admin\": myplugin.*, -myplugin.dangerous\n\n// Then assign groups to players\nperms.addUserToGroup(playerUuid, \"vip\");\n```\n\n## Related\n\n- [Permission System](/api-reference/permissions/overview/) - Full permission API\n- [Commands](/core-concepts/commands/) - Command system\n- [Event System](/core-concepts/event-system/) - Event handling","src/content/docs/api-reference/entities/permissions.mdx","6de9f1024bcf995c","api-reference/interaction/block-tracking",{"id":228,"data":230,"body":235,"filePath":236,"digest":237,"deferredRender":16},{"title":231,"editUrl":16,"head":232,"template":52,"sidebar":233,"pagefind":16,"draft":42},"Block Tracking",[],{"hidden":42,"attrs":234},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Block Tracking\n\nThe block tracking system tracks which player placed blocks and maintains placement counts per chunk.\n\n## Package Location\n\n- Components: `com.hypixel.hytale.server.core.modules.interaction.components`\n- Block Track: `com.hypixel.hytale.server.core.modules.interaction.blocktrack`\n\n## Overview\n\nWhen blocks are placed via the interaction system, two tracking mechanisms are available:\n\n1. **PlacedByInteractionComponent** - Tracks who placed a specific block\n2. **TrackedPlacement + BlockCounter** - Counts placements by block type\n\n## PlacedByInteractionComponent\n\nTracks which player placed a block:\n\n```java\npackage com.hypixel.hytale.server.core.modules.interaction.components;\n\npublic class PlacedByInteractionComponent implements Component\u003CChunkStore> {\n    // Constructor\n    public PlacedByInteractionComponent(UUID whoPlacedUuid);\n\n    // Get placer UUID\n    public UUID getWhoPlacedUuid();\n\n    // Get component type\n    public static ComponentType\u003CChunkStore, PlacedByInteractionComponent>\n        getComponentType();\n}\n```\n\n### Usage Example\n\n```java\nimport com.hypixel.hytale.server.core.modules.interaction.components.PlacedByInteractionComponent;\nimport com.hypixel.hytale.server.core.modules.interaction.InteractionModule;\nimport java.util.UUID;\n\n// Get component from block\nRef\u003CChunkStore> blockRef = /* block reference */;\nPlacedByInteractionComponent placedBy = commandBuffer.getComponent(\n    blockRef,\n    InteractionModule.get().getPlacedByComponentType()\n);\n\nif (placedBy != null) {\n    UUID placerUuid = placedBy.getWhoPlacedUuid();\n\n    // Find the player who placed it\n    Ref\u003CEntityStore> placerRef = entityStore.getRefFromUUID(placerUuid);\n    if (placerRef != null && placerRef.isValid()) {\n        // Player is online\n    }\n}\n```\n\n### Listening for Block Placements\n\n```java\nimport com.hypixel.hytale.component.system.RefChangeSystem;\nimport com.hypixel.hytale.server.core.modules.interaction.components.PlacedByInteractionComponent;\n\npublic class BlockPlaceListener\n    extends RefChangeSystem\u003CChunkStore, PlacedByInteractionComponent> {\n\n    @Override\n    public void onComponentAdded(\n        Ref\u003CChunkStore> blockRef,\n        PlacedByInteractionComponent placedBy,\n        Store\u003CChunkStore> chunkStore,\n        CommandBuffer\u003CChunkStore> commandBuffer\n    ) {\n        UUID placerUuid = placedBy.getWhoPlacedUuid();\n\n        // Get block info\n        BlockModule.BlockStateInfo blockInfo = chunkStore.getComponent(\n            blockRef,\n            BlockModule.BlockStateInfo.getComponentType()\n        );\n\n        String blockType = blockInfo.getBlockTypeName();\n\n        // React to placement\n        getLogger().info(placerUuid + \" placed \" + blockType);\n    }\n\n    @Override\n    public void onComponentRemoved(\n        Ref\u003CChunkStore> blockRef,\n        PlacedByInteractionComponent placedBy,\n        Store\u003CChunkStore> chunkStore,\n        CommandBuffer\u003CChunkStore> commandBuffer\n    ) {\n        // Block was destroyed\n    }\n}\n```\n\n## TrackedPlacement\n\nTracks block type for counting:\n\n```java\npackage com.hypixel.hytale.server.core.modules.interaction.blocktrack;\n\npublic class TrackedPlacement implements Component\u003CChunkStore> {\n    // Constructor\n    public TrackedPlacement(String blockName);\n\n    // Get block name\n    public String getBlockName();\n\n    // Get component type\n    public static ComponentType\u003CChunkStore, TrackedPlacement> getComponentType();\n}\n```\n\n## BlockCounter\n\nResource maintaining per-chunk block placement counts:\n\n```java\npackage com.hypixel.hytale.server.core.modules.interaction.blocktrack;\n\npublic class BlockCounter implements Resource\u003CChunkStore> {\n    // Track a block placement\n    public void trackBlock(String blockName);\n\n    // Untrack a block (when destroyed)\n    public void untrackBlock(String blockName);\n\n    // Get count for block type\n    public int getBlockPlacementCount(String blockName);\n}\n```\n\n### Usage Example\n\n```java\nimport com.hypixel.hytale.server.core.modules.interaction.blocktrack.BlockCounter;\nimport com.hypixel.hytale.server.core.modules.interaction.InteractionModule;\n\n// Get block counter for chunk\nBlockCounter counter = commandBuffer.getResource(\n    InteractionModule.get().getBlockCounterResourceType()\n);\n\n// Check how many stone blocks placed\nint stoneCount = counter.getBlockPlacementCount(\"Stone\");\n\n// Check grass blocks\nint grassCount = counter.getBlockPlacementCount(\"Grass\");\n\n// Total player-placed blocks\nint total = stoneCount + grassCount; // etc.\n```\n\n## Automatic Tracking\n\nThe system automatically:\n\n1. Adds `TrackedPlacement` when a block is placed via interaction\n2. Updates `BlockCounter` when `TrackedPlacement` is added/removed\n3. Removes tracking when blocks are destroyed\n\n```\nBlock Placed  TrackedPlacement Added  BlockCounter.trackBlock()\nBlock Broken  TrackedPlacement Removed  BlockCounter.untrackBlock()\n```\n\n## Practical Example: Protected Blocks\n\nTrack blocks that only the placer can break:\n\n```java\nimport com.hypixel.hytale.server.core.event.events.ecs.BreakBlockEvent;\n\n@Override\nprotected void setup() {\n    getEventRegistry().register(BreakBlockEvent.class, this::onBreakBlock);\n}\n\nprivate void onBreakBlock(BreakBlockEvent event) {\n    // Get block reference\n    Ref\u003CChunkStore> blockRef = event.getBlockRef();\n\n    // Check who placed it\n    PlacedByInteractionComponent placedBy = getComponent(\n        blockRef,\n        InteractionModule.get().getPlacedByComponentType()\n    );\n\n    if (placedBy != null) {\n        UUID placerUuid = placedBy.getWhoPlacedUuid();\n        UUID breakerUuid = event.getPlayerUuid();\n\n        // Only placer can break\n        if (!placerUuid.equals(breakerUuid)) {\n            event.setCancelled(true);\n            // Send message to player\n        }\n    }\n}\n```\n\n## Practical Example: Placement Limits\n\nLimit how many blocks of a type can be placed:\n\n```java\nimport com.hypixel.hytale.server.core.event.events.ecs.PlaceBlockEvent;\n\nprivate static final int MAX_TNT_PER_CHUNK = 10;\n\nprivate void onPlaceBlock(PlaceBlockEvent event) {\n    BlockType blockType = event.getBlockType();\n\n    if (blockType.getId().equals(\"tnt\")) {\n        // Get block counter\n        BlockCounter counter = getBlockCounter(event.getChunk());\n\n        int tntCount = counter.getBlockPlacementCount(\"TNT\");\n\n        if (tntCount >= MAX_TNT_PER_CHUNK) {\n            event.setCancelled(true);\n            // Send limit message\n        }\n    }\n}\n```\n\n## Serialization\n\nBoth components serialize with entity/chunk data:\n\n**PlacedByInteractionComponent:**\n```json\n{\n  \"PlacedByInteraction\": {\n    \"UUID\": \"550e8400-e29b-41d4-a716-446655440000\"\n  }\n}\n```\n\n**TrackedPlacement:**\n```json\n{\n  \"TrackedPlacement\": {\n    \"BlockName\": \"Stone\"\n  }\n}\n```\n\n**BlockCounter:**\n```json\n{\n  \"BlockCounter\": {\n    \"Stone\": 42,\n    \"Grass\": 15,\n    \"Wood\": 23\n  }\n}\n```\n\n## Related\n\n- [Interaction System](/api-reference/entities/overview/) - Interaction overview\n- [Event System](/core-concepts/event-system/) - Block events\n- [Block System](/api-reference/blocks/overview/) - Block types","src/content/docs/api-reference/interaction/block-tracking.mdx","0f2b64f102ee494c","api-reference/interaction/custom-interactions",{"id":238,"data":240,"body":245,"filePath":246,"digest":247,"deferredRender":16},{"title":241,"editUrl":16,"head":242,"template":52,"sidebar":243,"pagefind":16,"draft":42},"Custom Interactions",[],{"hidden":42,"attrs":244},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-20] */}\n\n# Custom Interactions\n\nThis document covers creating custom interactions through both **asset-based JSON definitions** and **Java code**.\n\n- **Asset-Based Interactions** - Define interaction chains via JSON files (most common approach)\n- **Java Code Interactions** - Implement custom Operation classes for new interaction types\n\n## Asset-Based Interactions\n\nThe most common way to create custom interactions is through JSON asset files. This allows you to define interaction chains, damage calculations, animations, and effects without writing Java code.\n\n### Asset Locations\n\n```\nAssets/Server/Item/\n Interactions/              # Interaction definitions\n    Weapons/\n        DamageEntityParent.json    # Shared parent for damage\n        Sword/\n            Attacks/\n                Primary/           # Primary attack chain\n                Signature/         # Signature abilities\n RootInteractions/          # Entry point definitions\n    Weapons/\n        Sword/\n            Root_Weapon_Sword_Primary.json\n            Root_Weapon_Sword_Signature_Vortexstrike.json\n Items/                     # Item definitions referencing interactions\n     Weapon/\n         Sword/\n```\n\n### Interaction System Architecture\n\n```\nItem Definition                 Root Interaction              Interaction Chain\n                      \n Interactions:                Interactions: [             Type: Charging  \n   Primary:         \"Weapon_Sword   Next: Chain     \n     Root_...                    _Primary\"                                \n   Ability1:                  ]                          \n     Root_...                                   \n                                                   \n                                                             \n       InteractionVars                                        Type: Selector  \n       (Override Vars)                                        HitEntity: ...  \n                                              \n        Swing_Damage                                                \n          Parent:   \n          Custom             (Replace with custom damage)\n       \n```\n\n### Interaction Types\n\nEach interaction JSON file specifies a `Type` that determines its behavior:\n\n| Type | Description | Key Fields |\n|------|-------------|------------|\n| `Simple` | Basic timed operation | `RunTime`, `Effects` |\n| `Charging` | Hold-to-charge mechanic | `DisplayProgress`, `Next` (time-based) |\n| `Chaining` | Combo system | `ChainId`, `ChainingAllowance`, `Next` (array) |\n| `Selector` | Hit detection sweep | `Selector`, `HitEntity`, `HitBlock` |\n| `DamageEntity` | Apply damage to entity | `DamageCalculator`, `DamageEffects` |\n| `Serial` | Run interactions in sequence | `Interactions` (array) |\n| `Parallel` | Run interactions simultaneously | `Interactions` (array) |\n| `Replace` | Var replacement for extensibility | `Var`, `DefaultValue` |\n| `StatsCondition` | Check/consume stats | `Costs`, `ValueType`, `Next` |\n| `ApplyEffect` | Apply entity effect | `EffectId`, `Entity` |\n| `ClearEntityEffect` | Remove entity effect | `EntityEffectId`, `Entity` |\n| `ChangeStat` | Modify entity stats | `StatModifiers`, `ValueType` |\n\n### Creating a Custom Parent Interaction\n\nTo create a reusable Parent that other interactions can inherit from, create a JSON file with the desired base properties:\n\n```json title=\"MyPlugin_DamageParent.json\"\n{\n  \"Type\": \"DamageEntity\",\n  \"DamageCalculator\": {\n    \"Class\": \"Heavy\"\n  },\n  \"DamageEffects\": {\n    \"Knockback\": {\n      \"Type\": \"Force\",\n      \"Force\": 8.0,\n      \"VelocityY\": 3.0\n    },\n    \"WorldParticles\": [\n      {\n        \"SystemId\": \"Impact_Blade_01\"\n      }\n    ]\n  },\n  \"Next\": {\n    \"Type\": \"Serial\",\n    \"Interactions\": [\n      {\n        \"Type\": \"ApplyEffect\",\n        \"EffectId\": \"Red_Flash\",\n        \"Entity\": \"Target\"\n      }\n    ]\n  }\n}\n```\n\nThen reference it as a Parent in your item's `InteractionVars`:\n\n```json title=\"Weapon_Sword_Custom.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"InteractionVars\": {\n    \"Swing_Left_Damage\": {\n      \"Interactions\": [\n        {\n          \"Parent\": \"MyPlugin_DamageParent\",\n          \"DamageCalculator\": {\n            \"BaseDamage\": { \"Physical\": 25 }\n          }\n        }\n      ]\n    }\n  }\n}\n```\n\n### DamageEntity Interaction Schema\n\n```json title=\"Complete DamageEntity Example\"\n{\n  \"Parent\": \"DamageEntityParent\",\n  \"DamageCalculator\": {\n    \"Class\": \"Light\",\n    \"BaseDamage\": {\n      \"Physical\": 18,\n      \"Fire\": 5\n    },\n    \"Type\": \"Absolute\",\n    \"RandomPercentageModifier\": 0.15\n  },\n  \"Effects\": {\n    \"CameraEffect\": \"Impact\"\n  },\n  \"DamageEffects\": {\n    \"Knockback\": {\n      \"Type\": \"Force\",\n      \"VelocityConfig\": {\n        \"AirResistance\": 0.99,\n        \"GroundResistance\": 0.94,\n        \"Threshold\": 3.0,\n        \"Style\": \"Linear\"\n      },\n      \"Direction\": { \"X\": 0, \"Y\": 1, \"Z\": -2 },\n      \"Force\": 6.0,\n      \"VelocityType\": \"Set\"\n    },\n    \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n    \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\",\n    \"WorldParticles\": [\n      { \"SystemId\": \"Impact_Sword_Basic\" }\n    ],\n    \"CameraEffect\": \"Impact_Light\"\n  },\n  \"EntityStatsOnHit\": [\n    { \"EntityStatId\": \"SignatureEnergy\", \"Amount\": 1 }\n  ]\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Parent` | `string` | Parent interaction to inherit from |\n| `DamageCalculator.Class` | `string` | Damage class: `Light`, `Heavy`, `Signature` |\n| `DamageCalculator.BaseDamage` | `object` | Damage by type: `Physical`, `Fire`, `Ice`, etc. |\n| `DamageEffects.Knockback` | `object` | Knockback force and direction |\n| `DamageEffects.WorldParticles` | `array` | Particles spawned on hit |\n| `EntityStatsOnHit` | `array` | Stats modified on successful hit |\n\n### Simple Interaction with Animation\n\n```json title=\"MyPlugin_Swing_Left.json\"\n{\n  \"Type\": \"Simple\",\n  \"RunTime\": 0.117,\n  \"Effects\": {\n    \"ItemAnimationId\": \"SwingLeft\",\n    \"WorldSoundEventId\": \"SFX_Light_Melee_T2_Swing\",\n    \"LocalSoundEventId\": \"SFX_Sword_T2_Swing_RL_Local\"\n  },\n  \"Next\": {\n    \"Type\": \"Replace\",\n    \"Var\": \"Swing_Left_Selector\",\n    \"DefaultOk\": true,\n    \"DefaultValue\": {\n      \"Interactions\": [\"MyPlugin_Swing_Left_Selector\"]\n    }\n  }\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `RunTime` | `float` | Duration in seconds |\n| `Effects.ItemAnimationId` | `string` | Animation ID from the item's animation set |\n| `Effects.WorldSoundEventId` | `string` | Sound played for all players |\n| `Effects.LocalSoundEventId` | `string` | Sound played only for the player |\n| `Effects.Trails` | `array` | Trail effects during swing |\n| `Effects.CameraEffect` | `string` | Camera shake/effect ID |\n\n### Selector Interaction (Hit Detection)\n\n```json title=\"MyPlugin_Swing_Selector.json\"\n{\n  \"Type\": \"Selector\",\n  \"RunTime\": 0.05,\n  \"Effects\": {\n    \"ItemAnimationId\": \"SwingLeftCharged\",\n    \"Trails\": [\n      {\n        \"TrailId\": \"Sword_Trail\",\n        \"StartDistance\": 0.1,\n        \"EndDistance\": 1.3\n      }\n    ],\n    \"CameraEffect\": \"Sword_Swing_Diagonal_Right\"\n  },\n  \"Selector\": {\n    \"Id\": \"Horizontal\",\n    \"Direction\": \"ToLeft\",\n    \"TestLineOfSight\": false,\n    \"StartDistance\": 0.1,\n    \"EndDistance\": 2.75,\n    \"Length\": 90,\n    \"ExtendTop\": 0.5,\n    \"ExtendBottom\": 1.0,\n    \"YawStartOffset\": -45\n  },\n  \"HitBlock\": {\n    \"Interactions\": [\"Block_Damage\"]\n  },\n  \"HitEntity\": {\n    \"Interactions\": [\n      {\n        \"Type\": \"Replace\",\n        \"Var\": \"Swing_Left_Damage\",\n        \"DefaultOk\": true,\n        \"DefaultValue\": {\n          \"Interactions\": [\"MyPlugin_Swing_Left_Damage\"]\n        }\n      }\n    ]\n  }\n}\n```\n\n| Selector Field | Type | Description |\n|----------------|------|-------------|\n| `Id` | `string` | Selector shape: `Horizontal`, `Vertical`, `Thrust` |\n| `Direction` | `string` | Sweep direction: `ToLeft`, `ToRight` |\n| `StartDistance` | `float` | Inner sweep radius |\n| `EndDistance` | `float` | Outer sweep radius |\n| `Length` | `float` | Arc angle in degrees (360 = full circle) |\n| `ExtendTop/Bottom` | `float` | Vertical extension of hitbox |\n| `YawStartOffset` | `float` | Starting angle offset |\n| `TestLineOfSight` | `bool` | Require line of sight to target |\n\n### Chaining Interaction (Combos)\n\n```json title=\"MyPlugin_Primary_Chain.json\"\n{\n  \"Type\": \"Chaining\",\n  \"ChainingAllowance\": 2,\n  \"ChainId\": \"Sword_Swings\",\n  \"Next\": [\n    {\n      \"Type\": \"Replace\",\n      \"Var\": \"Swing_Left\",\n      \"DefaultOk\": true,\n      \"DefaultValue\": {\n        \"Interactions\": [\"MyPlugin_Swing_Left\"]\n      }\n    },\n    {\n      \"Type\": \"Replace\",\n      \"Var\": \"Swing_Right\",\n      \"DefaultOk\": true,\n      \"DefaultValue\": {\n        \"Interactions\": [\"MyPlugin_Swing_Right\"]\n      }\n    },\n    {\n      \"Type\": \"Replace\",\n      \"Var\": \"Swing_Down\",\n      \"DefaultOk\": true,\n      \"DefaultValue\": {\n        \"Interactions\": [\"MyPlugin_Swing_Down\"]\n      }\n    }\n  ]\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `ChainId` | `string` | Unique identifier for this combo chain |\n| `ChainingAllowance` | `float` | Time window to continue combo (seconds) |\n| `Next` | `array` | Sequence of interactions in the combo |\n\n### Var/Replace System\n\nThe `Replace` type enables extensibility by defining variable points that items can override:\n\n```json title=\"Interaction with Replace point\"\n{\n  \"Type\": \"Simple\",\n  \"RunTime\": 0.1,\n  \"Next\": {\n    \"Type\": \"Replace\",\n    \"Var\": \"Custom_Damage\",\n    \"DefaultOk\": true,\n    \"DefaultValue\": {\n      \"Interactions\": [\"Default_Damage_Interaction\"]\n    }\n  }\n}\n```\n\nItems override these via `InteractionVars`:\n\n```json title=\"Item overriding the Replace var\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"InteractionVars\": {\n    \"Custom_Damage\": {\n      \"Interactions\": [\n        {\n          \"Parent\": \"DamageEntityParent\",\n          \"DamageCalculator\": {\n            \"BaseDamage\": { \"Physical\": 30, \"Fire\": 10 }\n          }\n        }\n      ]\n    }\n  }\n}\n```\n\n### Creating a Root Interaction\n\nRoot interactions are entry points that items reference:\n\n```json title=\"Root_MyPlugin_Custom_Primary.json\"\n{\n  \"RequireNewClick\": true,\n  \"ClickQueuingTimeout\": 0.2,\n  \"Cooldown\": {\n    \"Cooldown\": 0.25\n  },\n  \"Interactions\": [\n    \"MyPlugin_Custom_Primary\"\n  ]\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `RequireNewClick` | `bool` | Require new mouse click (not hold) |\n| `ClickQueuingTimeout` | `float` | Time to queue next click |\n| `Cooldown.Cooldown` | `float` | Cooldown duration in seconds |\n| `Interactions` | `array` | Interaction IDs to execute |\n\n### Signature Ability Example\n\nComplete signature ability with stat cost:\n\n```json title=\"MyPlugin_Signature_Ability.json\"\n{\n  \"Type\": \"StatsCondition\",\n  \"Costs\": {\n    \"SignatureEnergy\": 100\n  },\n  \"ValueType\": \"Percent\",\n  \"Next\": {\n    \"Type\": \"Serial\",\n    \"Interactions\": [\n      {\n        \"Type\": \"Replace\",\n        \"Var\": \"Signature_Effect\",\n        \"DefaultOk\": true,\n        \"DefaultValue\": {\n          \"Interactions\": [\"MyPlugin_Signature_Spin\"]\n        }\n      },\n      {\n        \"Type\": \"Simple\",\n        \"RunTime\": 0.15\n      },\n      {\n        \"Type\": \"Replace\",\n        \"Var\": \"Signature_Finisher\",\n        \"DefaultOk\": true,\n        \"DefaultValue\": {\n          \"Interactions\": [\"MyPlugin_Signature_Stab\"]\n        }\n      },\n      {\n        \"Type\": \"ChangeStat\",\n        \"StatModifiers\": {\n          \"SignatureEnergy\": -100\n        },\n        \"ValueType\": \"Percent\"\n      }\n    ]\n  }\n}\n```\n\n### Parallel Interactions\n\nRun multiple interactions simultaneously:\n\n```json title=\"Parallel execution example\"\n{\n  \"Type\": \"Parallel\",\n  \"Interactions\": [\n    {\n      \"Interactions\": [\n        \"MyPlugin_Force_Effect\"\n      ]\n    },\n    {\n      \"Interactions\": [\n        \"MyPlugin_Selector\"\n      ]\n    },\n    {\n      \"Interactions\": [\n        \"MyPlugin_Particle_Effect\"\n      ]\n    }\n  ],\n  \"Next\": {\n    \"Type\": \"Simple\",\n    \"RunTime\": 0.25\n  }\n}\n```\n\n### Complete Custom Weapon Example\n\nHere's a complete example of a custom weapon with its own interaction chain:\n\n**1. Create the damage interaction (inherits from DamageEntityParent):**\n\n```json title=\"Assets/Server/Item/Interactions/MyPlugin/MyPlugin_Heavy_Damage.json\"\n{\n  \"Parent\": \"DamageEntityParent\",\n  \"DamageCalculator\": {\n    \"Class\": \"Heavy\"\n  },\n  \"Effects\": {\n    \"CameraEffect\": \"Impact\"\n  },\n  \"DamageEffects\": {\n    \"Knockback\": {\n      \"Type\": \"Force\",\n      \"Direction\": { \"X\": 0, \"Y\": 2, \"Z\": -3 },\n      \"Force\": 10.0,\n      \"VelocityType\": \"Set\"\n    },\n    \"WorldParticles\": [\n      { \"SystemId\": \"Impact_Blade_Heavy\" }\n    ],\n    \"CameraEffect\": \"Impact_Heavy\"\n  },\n  \"EntityStatsOnHit\": [\n    { \"EntityStatId\": \"SignatureEnergy\", \"Amount\": 2 }\n  ]\n}\n```\n\n**2. Create the swing animation + selector:**\n\n```json title=\"Assets/Server/Item/Interactions/MyPlugin/MyPlugin_Swing.json\"\n{\n  \"Type\": \"Simple\",\n  \"RunTime\": 0.2,\n  \"Effects\": {\n    \"ItemAnimationId\": \"SwingDown\",\n    \"WorldSoundEventId\": \"SFX_Heavy_Melee_Swing\"\n  },\n  \"Next\": {\n    \"Type\": \"Selector\",\n    \"RunTime\": 0.1,\n    \"Effects\": {\n      \"Trails\": [{ \"TrailId\": \"Heavy_Blade_Trail\" }],\n      \"CameraEffect\": \"Heavy_Swing\"\n    },\n    \"Selector\": {\n      \"Id\": \"Vertical\",\n      \"Direction\": \"ToDown\",\n      \"StartDistance\": 0.2,\n      \"EndDistance\": 3.0,\n      \"Length\": 120\n    },\n    \"HitEntity\": {\n      \"Interactions\": [\n        {\n          \"Type\": \"Replace\",\n          \"Var\": \"Heavy_Damage\",\n          \"DefaultOk\": true,\n          \"DefaultValue\": {\n            \"Interactions\": [\"MyPlugin_Heavy_Damage\"]\n          }\n        }\n      ]\n    }\n  }\n}\n```\n\n**3. Create the root interaction:**\n\n```json title=\"Assets/Server/Item/RootInteractions/MyPlugin/Root_MyPlugin_Primary.json\"\n{\n  \"RequireNewClick\": true,\n  \"Cooldown\": {\n    \"Cooldown\": 0.5\n  },\n  \"Interactions\": [\"MyPlugin_Swing\"]\n}\n```\n\n**4. Create the weapon item:**\n\n```json title=\"Assets/Server/Item/Items/Weapon/MyPlugin/Weapon_Greatsword_Custom.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"TranslationProperties\": {\n    \"Name\": \"myplugin.items.greatsword_custom.name\"\n  },\n  \"Model\": \"MyPlugin/Weapons/Greatsword_Custom.blockymodel\",\n  \"Texture\": \"MyPlugin/Weapons/Greatsword_Custom_Texture.png\",\n  \"Quality\": \"Epic\",\n  \"ItemLevel\": 40,\n  \"MaxDurability\": 200,\n  \"DurabilityLossOnHit\": 0.25,\n  \"Interactions\": {\n    \"Primary\": \"Root_MyPlugin_Primary\",\n    \"Secondary\": \"Root_Weapon_Sword_Secondary_Guard\"\n  },\n  \"InteractionVars\": {\n    \"Heavy_Damage\": {\n      \"Interactions\": [\n        {\n          \"Parent\": \"MyPlugin_Heavy_Damage\",\n          \"DamageCalculator\": {\n            \"BaseDamage\": { \"Physical\": 35 }\n          }\n        }\n      ]\n    }\n  }\n}\n```\n\n### Animation IDs\n\nAvailable animation IDs depend on the item's `PlayerAnimationsId`. For swords:\n\n| Animation ID | Description |\n|--------------|-------------|\n| `SwingLeft` | Horizontal left swing |\n| `SwingRight` | Horizontal right swing |\n| `SwingDown` | Vertical downward swing |\n| `Thrust` | Forward thrust |\n| `SpinRightCharging` | Spin charge-up |\n| `SpinRightCharged` | Spin attack |\n| `Guard` | Blocking stance |\n| `GuardHit` | Block impact reaction |\n\n### Best Practices\n\n1. **Use Parent inheritance** - Create base damage interactions and override specific values\n2. **Use Replace vars** - Make interactions extensible so items can customize behavior\n3. **Prefix custom files** - Use your plugin name prefix for all custom interactions\n4. **Chain interactions logically** - Animation  Selector  Damage is the standard pattern\n5. **Test with different targets** - Verify hit detection with blocks and entities\n6. **Balance cooldowns** - Match cooldown to animation length\n\n## Related\n\n- [Java Interaction Operations](/api-reference/interaction/java-operations/) - Create custom Operation types in Java\n- [Interaction System](/api-reference/interaction/overview/) - System overview\n- [Block Tracking](/api-reference/interaction/block-tracking/) - Track block placements\n- [Serialization](/api-reference/serialization/overview/) - Codec system","src/content/docs/api-reference/interaction/custom-interactions.mdx","ceda5c2a5653b8b9","api-reference/interaction/java-operations",{"id":248,"data":250,"body":255,"filePath":256,"digest":257,"deferredRender":16},{"title":251,"editUrl":16,"head":252,"template":52,"sidebar":253,"pagefind":16,"draft":42},"Java Interaction Operations",[],{"hidden":42,"attrs":254},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-20] */}\n\n# Java Interaction Operations\n\nFor creating entirely new interaction types (new `Type` values), you need to implement the Java Operation interface. This is an advanced topic for plugin developers who need custom behavior beyond what the asset-based system provides.\n\n\u003CAside type=\"note\" title=\"When to Use Java Operations\">\nMost custom interactions can be created using [asset-based JSON definitions](/api-reference/interaction/custom-interactions/). Only use Java Operations when you need:\n- A completely new interaction type\n- Custom logic not possible with existing types\n- Integration with external systems\n\u003C/Aside>\n\n## Package Location\n\n- Operations: `com.hypixel.hytale.server.core.modules.interaction.interaction.operation`\n- Configs: `com.hypixel.hytale.server.core.modules.interaction.interaction.config`\n- Suppliers: `com.hypixel.hytale.server.core.modules.interaction.suppliers`\n\n## Overview\n\nCustom interactions can be created by:\n\n1. Implementing the `Operation` interface\n2. Registering with the interaction codec\n3. Defining in RootInteraction assets\n\n## Operation Interface\n\nCore interface for executable interaction logic:\n\n```java\npackage com.hypixel.hytale.server.core.modules.interaction.interaction.operation;\n\npublic interface Operation {\n    // Server-side tick execution\n    void tick(\n        Ref\u003CEntityStore> ref,\n        LivingEntity entity,\n        boolean firstRun,\n        float time,\n        InteractionType type,\n        InteractionContext context,\n        CooldownHandler cooldownHandler\n    );\n\n    // Client-side predictive simulation\n    void simulateTick(\n        Ref\u003CEntityStore> ref,\n        LivingEntity entity,\n        boolean firstRun,\n        float time,\n        InteractionType type,\n        InteractionContext context,\n        CooldownHandler cooldownHandler\n    );\n\n    // Post-tick handling\n    default void handle(\n        Ref\u003CEntityStore> ref,\n        boolean firstRun,\n        float time,\n        InteractionType type,\n        InteractionContext context\n    ) {}\n\n    // Sync point (Server, Client, or None)\n    WaitForDataFrom getWaitForDataFrom();\n\n    // Optional interrupt/blocking rules\n    @Nullable\n    default InteractionRules getRules() { return null; }\n\n    // Optional tags for categorization\n    default Int2ObjectMap\u003CIntSet> getTags() {\n        return Int2ObjectMaps.emptyMap();\n    }\n}\n```\n\n### Parameters\n\n| Parameter | Description |\n|-----------|-------------|\n| `ref` | Entity reference |\n| `entity` | Living entity instance |\n| `firstRun` | True on first tick of operation |\n| `time` | Elapsed time in seconds |\n| `type` | Interaction type (Held, HeldOffhand, etc.) |\n| `context` | Execution context with metadata |\n| `cooldownHandler` | Cooldown management |\n\n### WaitForDataFrom\n\nSync point for server-client coordination:\n\n| Value | Description |\n|-------|-------------|\n| `None` | No synchronization needed |\n| `Server` | Wait for server data |\n| `Client` | Wait for client data |\n\n## Creating a Custom Interaction\n\n### 1. Implement the Operation\n\n```java\npackage com.example.myplugin.interaction;\n\nimport com.hypixel.hytale.server.core.modules.interaction.interaction.operation.Operation;\nimport com.hypixel.hytale.server.core.modules.interaction.interaction.config.Interaction;\nimport com.hypixel.hytale.codec.BuilderCodec;\nimport com.hypixel.hytale.protocol.WaitForDataFrom;\n\npublic class CustomInteraction extends Interaction implements Operation {\n    // Configuration fields\n    private float damage;\n    private String effectId;\n\n    // Codec for serialization\n    public static final BuilderCodec\u003CCustomInteraction> CODEC = BuilderCodec.builder(\n        CustomInteraction.class,\n        CustomInteraction::new\n    )\n        .extend(Interaction.CODEC)\n        .withFloat(\"Damage\", c -> c.damage, (c, v) -> c.damage = v)\n        .withString(\"Effect\", c -> c.effectId, (c, v) -> c.effectId = v)\n        .build();\n\n    @Override\n    public void tick(\n        Ref\u003CEntityStore> ref,\n        LivingEntity entity,\n        boolean firstRun,\n        float time,\n        InteractionType type,\n        InteractionContext context,\n        CooldownHandler cooldownHandler\n    ) {\n        if (firstRun) {\n            // One-time initialization\n            applyDamage(context, damage);\n            applyEffect(context, effectId);\n        }\n\n        // Check if complete\n        if (time >= runTime) {\n            context.getChain().updateServerState(InteractionState.Finished);\n        }\n    }\n\n    @Override\n    public void simulateTick(\n        Ref\u003CEntityStore> ref,\n        LivingEntity entity,\n        boolean firstRun,\n        float time,\n        InteractionType type,\n        InteractionContext context,\n        CooldownHandler cooldownHandler\n    ) {\n        // Client-side prediction (optional)\n    }\n\n    @Override\n    public WaitForDataFrom getWaitForDataFrom() {\n        return WaitForDataFrom.None;\n    }\n\n    private void applyDamage(InteractionContext context, float damage) {\n        // Implementation\n    }\n\n    private void applyEffect(InteractionContext context, String effectId) {\n        // Implementation\n    }\n}\n```\n\n### 2. Register the Interaction\n\n```java\n@Override\nprotected void setup() {\n    // Register with interaction codec\n    Interaction.CODEC.register(\n        \"CustomInteraction\",\n        CustomInteraction.class,\n        CustomInteraction.CODEC\n    );\n}\n```\n\n### 3. Define in Assets\n\nCreate a RootInteraction asset that uses your custom interaction:\n\n```json\n{\n  \"Id\": \"custom_ability\",\n  \"InteractionIds\": [\"CustomInteraction\"],\n  \"Cooldown\": {\n    \"CooldownId\": \"custom_ability\",\n    \"Cooldown\": 1.0\n  }\n}\n```\n\n## Custom UI Page Suppliers\n\nCreate custom UI pages triggered by interactions.\n\n### CustomPageSupplier Interface\n\n```java\npackage com.hypixel.hytale.server.core.modules.interaction.interaction.config.server;\n\npublic interface CustomPageSupplier {\n    CustomUIPage tryCreate(\n        Ref\u003CEntityStore> ref,\n        ComponentAccessor\u003CEntityStore> componentAccessor,\n        PlayerRef playerRef,\n        InteractionContext context\n    );\n}\n```\n\n### Implementing a Custom Page\n\n```java\npackage com.example.myplugin.ui;\n\nimport com.hypixel.hytale.server.core.modules.interaction.interaction.config.server.OpenCustomUIInteraction;\nimport com.hypixel.hytale.server.ui.CustomUIPage;\nimport com.hypixel.hytale.codec.BuilderCodec;\n\npublic class MyCustomPageSupplier\n    implements OpenCustomUIInteraction.CustomPageSupplier {\n\n    // Configuration\n    private String title;\n    private int maxItems;\n\n    // Codec\n    public static final BuilderCodec\u003CMyCustomPageSupplier> CODEC =\n        BuilderCodec.builder(MyCustomPageSupplier.class, MyCustomPageSupplier::new)\n            .withString(\"Title\", s -> s.title, (s, v) -> s.title = v)\n            .withInt(\"MaxItems\", s -> s.maxItems, (s, v) -> s.maxItems = v)\n            .build();\n\n    @Override\n    public CustomUIPage tryCreate(\n        Ref\u003CEntityStore> ref,\n        ComponentAccessor\u003CEntityStore> componentAccessor,\n        PlayerRef playerRef,\n        InteractionContext context\n    ) {\n        // Get player\n        Player player = componentAccessor.getComponent(\n            ref,\n            Player.getComponentType()\n        );\n\n        if (player == null) {\n            return null;\n        }\n\n        // Create custom page\n        return new MyCustomPage(\n            playerRef,\n            player.getInventory(),\n            title,\n            maxItems\n        );\n    }\n}\n```\n\n### Register the Supplier\n\n```java\n@Override\nprotected void setup() {\n    OpenCustomUIInteraction.registerCustomPageSupplier(\n        this,\n        MyCustomPageSupplier.class,\n        \"MyCustomUI\",\n        new MyCustomPageSupplier()\n    );\n\n    // Or register codec for asset-defined suppliers\n    OpenCustomUIInteraction.PAGE_CODEC.register(\n        \"MyCustomUI\",\n        MyCustomPageSupplier.class,\n        MyCustomPageSupplier.CODEC\n    );\n}\n```\n\n## Block-Based Page Suppliers\n\nFor UIs triggered by block interaction:\n\n```java\npublic class BlockCustomPageSupplier\u003CT extends Component\u003CChunkStore>>\n    implements OpenCustomUIInteraction.CustomPageSupplier {\n\n    private final ComponentType\u003CChunkStore, T> componentType;\n\n    @Override\n    public CustomUIPage tryCreate(\n        Ref\u003CEntityStore> ref,\n        ComponentAccessor\u003CEntityStore> componentAccessor,\n        PlayerRef playerRef,\n        InteractionContext context\n    ) {\n        // Get target block from context\n        Vector3i targetBlock = context.getMetaStore().get(Interaction.TARGET_BLOCK);\n\n        if (targetBlock == null) {\n            return null;\n        }\n\n        // Get block component\n        T blockComponent = getBlockComponent(targetBlock, componentType);\n\n        if (blockComponent == null) {\n            return null;\n        }\n\n        // Create page using block data\n        return createPage(playerRef, blockComponent);\n    }\n}\n```\n\n## Built-in Suppliers\n\n| Supplier | Description |\n|----------|-------------|\n| `ItemRepairPageSupplier` | Item repair/anvil UI |\n| `BlockEntityCustomPageSupplier` | Generic block entity UI |\n| `BlockCustomPageSupplier` | Generic block component UI |\n\n### ItemRepairPageSupplier Example\n\n```java\npublic class ItemRepairPageSupplier\n    implements OpenCustomUIInteraction.CustomPageSupplier {\n\n    protected double repairPenalty;\n\n    @Override\n    public CustomUIPage tryCreate(\n        Ref\u003CEntityStore> ref,\n        ComponentAccessor\u003CEntityStore> componentAccessor,\n        PlayerRef playerRef,\n        InteractionContext context\n    ) {\n        Player player = componentAccessor.getComponent(\n            ref,\n            Player.getComponentType()\n        );\n\n        ItemContext itemContext = context.createHeldItemContext();\n\n        if (itemContext == null) {\n            return null;\n        }\n\n        return new ItemRepairPage(\n            playerRef,\n            player.getInventory().getCombinedArmorHotbarUtilityStorage(),\n            repairPenalty,\n            itemContext\n        );\n    }\n}\n```\n\n## Interaction Rules\n\nControl how interactions interact with each other:\n\n```java\npublic class InteractionRules {\n    // What this interaction can interrupt\n    Set\u003CString> canInterrupt;\n\n    // What can interrupt this interaction\n    Set\u003CString> interruptedBy;\n\n    // What this interaction blocks\n    Set\u003CString> blocks;\n\n    // What blocks this interaction\n    Set\u003CString> blockedBy;\n}\n```\n\n### Example Rules\n\n```java\n// Ability can interrupt basic attacks\nInteractionRules rules = new InteractionRules();\nrules.canInterrupt = Set.of(\"basic_attack\");\nrules.interruptedBy = Set.of(\"stun\", \"knockback\");\nrules.blocks = Set.of();\nrules.blockedBy = Set.of(\"silence\");\n```\n\n## Related\n\n- [Custom Interactions (Asset-Based)](/api-reference/interaction/custom-interactions/) - JSON-based interactions\n- [Interaction System](/api-reference/interaction/overview/) - System overview\n- [Block Tracking](/api-reference/interaction/block-tracking/) - Track block placements\n- [Serialization](/api-reference/serialization/overview/) - Codec system","src/content/docs/api-reference/interaction/java-operations.mdx","08ba246561970d8d","api-reference/interaction/overview",{"id":258,"data":260,"body":265,"filePath":266,"digest":267,"deferredRender":16},{"title":261,"editUrl":16,"head":262,"template":52,"sidebar":263,"pagefind":16,"draft":42},"Interaction System",[],{"hidden":42,"attrs":264},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Interaction System\n\nThe interaction system handles all player interactions with blocks, entities, and items through a chain-based execution model with server-client synchronization.\n\n## Package Location\n\n- Module: `com.hypixel.hytale.server.core.modules.interaction`\n- Manager: `com.hypixel.hytale.server.core.entity`\n- Configs: `com.hypixel.hytale.server.core.modules.interaction.interaction.config`\n\n## Overview\n\nInteractions are defined as chains of operations that execute in sequence. When a player clicks, the system resolves which interaction to run based on held item, target, and interaction type.\n\n```\nPlayer Input  InteractionManager  InteractionChain  Operations\n                                           \n  MouseClick                         PlaceBlock, BreakBlock,\n                                     UseEntity, Damage, etc.\n```\n\n## Core Components\n\n### InteractionModule\n\nCentral plugin managing the interaction system:\n\n```java\npackage com.hypixel.hytale.server.core.modules.interaction;\n\npublic class InteractionModule extends JavaPlugin {\n    // Singleton access\n    public static InteractionModule get();\n\n    // Component types\n    public ComponentType\u003CEntityStore, InteractionManager> getInteractionManagerComponent();\n    public ComponentType\u003CChunkStore, PlacedByInteractionComponent> getPlacedByComponentType();\n    public ComponentType\u003CChunkStore, TrackedPlacement> getTrackedPlacementComponentType();\n\n    // Resources\n    public ResourceType\u003CChunkStore, BlockCounter> getBlockCounterResourceType();\n}\n```\n\n### InteractionManager\n\nPer-entity component managing interaction chains:\n\n```java\npackage com.hypixel.hytale.server.core.entity;\n\npublic class InteractionManager implements Component\u003CEntityStore> {\n    // Max interaction reach\n    public static final double MAX_REACH = 8.0;\n\n    // Start interaction chain\n    public boolean tryStartChain(\n        Ref\u003CEntityStore> ref,\n        CommandBuffer\u003CEntityStore> commandBuffer,\n        InteractionType type,\n        InteractionContext context,\n        RootInteraction rootInteraction\n    );\n\n    // Start chain unconditionally\n    public void startChain(\n        Ref\u003CEntityStore> ref,\n        CommandBuffer\u003CEntityStore> commandBuffer,\n        InteractionType type,\n        InteractionContext context,\n        RootInteraction rootInteraction\n    );\n\n    // Process mouse input\n    public void doMouseInteraction(\n        Ref\u003CEntityStore> ref,\n        MouseInteraction mouseInteraction,\n        ComponentAccessor\u003CEntityStore> componentAccessor,\n        CommandBuffer\u003CEntityStore> commandBuffer\n    );\n\n    // Tick active chains\n    public void tick();\n\n    // Check if interaction can run\n    public boolean canRun(\n        InteractionType type,\n        RootInteraction rootInteraction,\n        InteractionContext context\n    );\n\n    // Walk chain to collect data\n    public \u003CT> void walkChain(\n        Ref\u003CEntityStore> ref,\n        Collector\u003CT> collector,\n        InteractionType type,\n        RootInteraction rootInteraction,\n        ComponentAccessor\u003CEntityStore> componentAccessor\n    );\n}\n```\n\n### InteractionChain\n\nRepresents execution state of an interaction:\n\n```java\npackage com.hypixel.hytale.server.core.entity;\n\npublic class InteractionChain {\n    // State\n    public InteractionState getServerState();\n    public InteractionState getClientState();\n    public void updateServerState(InteractionState state);\n\n    // Context\n    public InteractionType getType();\n    public RootInteraction getRootInteraction();\n    public InteractionContext getContext();\n\n    // Progress\n    public int getOperationCounter();\n    public long getTimestamp();\n\n    // Forking\n    public InteractionChain fork(\n        InteractionContext forkedContext,\n        RootInteraction forkedRootInteraction\n    );\n\n    public InteractionChain getForkedChain(int index);\n}\n```\n\n### InteractionContext\n\nExecution context passed to operations:\n\n```java\npackage com.hypixel.hytale.server.core.entity;\n\npublic class InteractionContext {\n    // Entity access\n    public Ref\u003CEntityStore> getEntity();\n    public CommandBuffer\u003CEntityStore> getCommandBuffer();\n\n    // Item context\n    public ItemStack getHeldItem();\n    public byte getHeldItemSlot();\n    public ItemContext createHeldItemContext();\n\n    // Metadata\n    public DynamicMetaStore\u003CInteractionContext> getMetaStore();\n\n    // Fork chains\n    public InteractionChain fork(\n        RootInteraction forkedRootInteraction\n    );\n\n    // Factory\n    public static InteractionContext forInteraction(\n        InteractionManager manager,\n        Ref\u003CEntityStore> entity,\n        InteractionType type,\n        CommandBuffer\u003CEntityStore> commandBuffer\n    );\n}\n```\n\n## Interaction Types\n\n| Type | Description |\n|------|-------------|\n| `Held` | Primary held item interaction (left click) |\n| `HeldOffhand` | Secondary/utility interaction (right click) |\n| `Equipped` | Equipment/armor interactions |\n\n## Interaction States\n\n| State | Description |\n|-------|-------------|\n| `NotFinished` | Operation still executing |\n| `Finished` | Operation completed successfully |\n| `Failed` | Operation failed |\n| `Cancelled` | Operation cancelled |\n\n## Context Metadata Keys\n\nStandard metadata stored in context:\n\n| Key | Type | Description |\n|-----|------|-------------|\n| `TARGET_BLOCK` | Vector3i | Block position being interacted with |\n| `TARGET_ENTITY` | Ref | Entity being targeted |\n| `TARGET_SLOT` | int | Inventory slot for containers |\n| `HIT_LOCATION` | Vector4d | Hit point on block/entity |\n| `HIT_DETAIL` | varies | Additional hit details |\n\n## Usage Examples\n\n### Accessing InteractionManager\n\n```java\nimport com.hypixel.hytale.server.core.entity.InteractionManager;\nimport com.hypixel.hytale.server.core.modules.interaction.InteractionModule;\n\n// Get interaction manager from entity\nRef\u003CEntityStore> entityRef = /* entity reference */;\nInteractionManager manager = componentAccessor.getComponent(\n    entityRef,\n    InteractionModule.get().getInteractionManagerComponent()\n);\n```\n\n### Starting an Interaction Chain\n\n```java\nimport com.hypixel.hytale.server.core.entity.InteractionContext;\nimport com.hypixel.hytale.server.core.modules.interaction.interaction.config.RootInteraction;\nimport com.hypixel.hytale.protocol.InteractionType;\n\n// Get root interaction\nRootInteraction root = RootInteraction.getAssetMap().getAsset(\"PlaceBlock\");\n\n// Create context\nInteractionContext context = InteractionContext.forInteraction(\n    manager,\n    entityRef,\n    InteractionType.Held,\n    commandBuffer\n);\n\n// Set target block in metadata\ncontext.getMetaStore().put(Interaction.TARGET_BLOCK, targetBlockPos);\n\n// Try to start chain (respects cooldowns and rules)\nboolean started = manager.tryStartChain(\n    entityRef,\n    commandBuffer,\n    InteractionType.Held,\n    context,\n    root\n);\n\nif (started) {\n    // Chain started successfully\n}\n```\n\n### Walking Chain for Data\n\n```java\nimport com.hypixel.hytale.server.core.modules.interaction.interaction.BallisticData;\n\n// Collect weapon data from interaction\nSingleCollector\u003CBallisticData> collector = new SingleCollector\u003C>();\n\nmanager.walkChain(\n    entityRef,\n    collector,\n    InteractionType.Held,\n    rootInteraction,\n    componentAccessor\n);\n\nBallisticData data = collector.getResult();\nif (data != null) {\n    // Use ballistic data (trajectory, damage, etc.)\n}\n```\n\n### Checking if Interaction Can Run\n\n```java\n// Check cooldowns, blocking rules, etc.\nif (manager.canRun(InteractionType.Held, rootInteraction, context)) {\n    // Interaction is available\n} else {\n    // On cooldown or blocked\n}\n```\n\n## RootInteraction Configuration\n\nEntry point defining an interaction chain:\n\n```java\npackage com.hypixel.hytale.server.core.modules.interaction.interaction.config;\n\npublic class RootInteraction {\n    // Identity\n    String id;\n    String[] interactionIds;  // Operations to execute\n\n    // Cooldown\n    InteractionCooldown cooldown;\n\n    // Per-gamemode settings\n    Map\u003CGameMode, RootInteractionSettings> settings;\n\n    // Rules for blocking/interrupting\n    InteractionRules rules;\n\n    // Asset access\n    public static AssetMap\u003CRootInteraction> getAssetMap();\n}\n```\n\n### InteractionCooldown\n\n```java\npublic class InteractionCooldown {\n    String cooldownId;        // Shared cooldown identifier\n    float cooldown;           // Duration in seconds\n    float[] chargeTimes;      // Charge levels\n    boolean skipCooldownReset;\n    boolean interruptRecharge;\n    boolean clickBypass;\n}\n```\n\n## Built-in Interaction Types\n\nOver 60 interaction types are registered:\n\n| Category | Examples |\n|----------|----------|\n| Block | PlaceBlock, BreakBlock, DamageBlock |\n| Entity | UseEntity, Damage, Mount |\n| Camera | Camera, CameraTarget, CameraShake |\n| Effects | SpawnParticle, PlaySound, CreateLight |\n| Combat | Knockback, AOECircle, AOECylinder |\n| UI | OpenCustomUI, OpenInventory |\n| Physics | LaunchProjectile, LaunchEntity |\n\n## Overlap Behavior\n\nWhen starting an interaction while another is running:\n\n| Behavior | Description |\n|----------|-------------|\n| `Allow` | Both can run simultaneously |\n| `Block` | New interaction blocked |\n| `Interrupt` | Old interaction cancelled |\n\n## Related\n\n- [Block Tracking](/api-reference/interaction/block-tracking/) - Track block placements\n- [Custom Interactions](/api-reference/interaction/custom-interactions/) - Create custom interactions\n- [Entity System](/api-reference/entities/overview/) - Entity management","src/content/docs/api-reference/interaction/overview.mdx","705fbf7687858346","api-reference/npc/overview",{"id":268,"data":270,"body":275,"filePath":276,"digest":277,"deferredRender":16},{"title":271,"editUrl":16,"head":272,"template":52,"sidebar":273,"pagefind":16,"draft":42},"NPC System Overview",[],{"hidden":42,"attrs":274},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# NPC System Overview\n\nThe NPC (Non-Player Character) System manages AI-controlled entities in Hytale. It uses a sophisticated role-based behavior system with support for flocking, spawning, and complex decision making.\n\n## Package Location\n\n- NPC entities: `com.hypixel.hytale.server.npc`\n- Flock system: `com.hypixel.hytale.server.flock`\n- Role system: `com.hypixel.hytale.server.npc.role`\n- Blackboard: `com.hypixel.hytale.server.npc.blackboard`\n\n## Architecture\n\n```\n\n                       NPC System                             \n  \n                       NPCEntity                            \n        \n      Role    Blackboard  PathManager  DamageData  \n        \n  \n  \n                      Flock System                          \n         \n      Flock   FlockMembership FlockPlugin             \n         \n  \n  \n                     Spawning System                        \n        \n    SpawnBeacon  SpawnMarker  SpawnController       \n        \n  \n\n```\n\n## Core Components\n\n### NPCEntity\n\n`NPCEntity` extends `LivingEntity` and is the base class for AI-controlled characters.\n\n```java\npublic class NPCEntity extends LivingEntity implements INonPlayerCharacter {\n    // Role management\n    public Role getRole();\n\n    // Position tracking\n    public Vector3d getLeashPoint();  // Spawn anchor point\n    public float getLeashHeading();\n    public float getLeashPitch();\n\n    // Spawning\n    public Instant getSpawnInstant();\n    public String getSpawnConfigurationName();\n\n    // Pathing\n    public PathManager getPathManager();\n\n    // Events\n    public AlarmStore getAlarmStore();\n    public DamageData getDamageData();\n}\n```\n\n### Getting NPCEntity Component Type\n\n```java\nComponentType\u003CEntityStore, NPCEntity> npcType = NPCEntity.getComponentType();\n\n// Query for NPCs\nQuery\u003CEntityStore> query = npcType;\n```\n\n## Role System\n\nRoles define NPC behavior, stats, and AI decision making.\n\n### Role Class\n\n```java\npublic class Role implements IAnnotatedComponentCollection {\n    // Support objects\n    CombatSupport combatSupport;     // Combat behavior\n    StateSupport stateSupport;        // State machine\n    MarkedEntitySupport markedEntitySupport;  // Target tracking\n    WorldSupport worldSupport;        // World interaction\n    EntitySupport entitySupport;      // Entity queries\n    PositionCache positionCache;      // Position caching\n    DebugSupport debugSupport;        // Debug features\n\n    // Stats\n    int initialMaxHealth;\n    double knockbackScale;\n    double inertia;\n    boolean invulnerable;\n\n    // Movement\n    Map\u003CString, MotionController> motionControllers;\n    MotionController activeMotionController;\n    Steering bodySteering;\n    Steering headSteering;\n\n    // Behavior\n    Instruction rootInstruction;\n    Instruction interactionInstruction;\n    Instruction deathInstruction;\n\n    // Spawning\n    String[] flockSpawnTypes;\n    String[] flockAllowedRoles;\n    boolean canLeadFlock;\n\n    // Lifecycle\n    void loaded();\n    void unloaded();\n    void removed();\n}\n```\n\n### Role Configuration Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `maxHealth` | `int` | Maximum health points |\n| `knockbackScale` | `double` | Knockback force multiplier |\n| `inertia` | `double` | Movement inertia |\n| `invulnerable` | `bool` | Cannot take damage |\n| `deathAnimationTime` | `double` | Death animation duration |\n| `despawnAnimationTime` | `float` | Despawn animation duration |\n| `dropListId` | `string` | Loot drop list |\n| `balanceAsset` | `string` | Balance configuration |\n| `hotbarItems` | `string[]` | Starting hotbar items |\n| `offHandItems` | `string[]` | Starting offhand items |\n| `armor` | `string[]` | Starting armor |\n\n### Motion Controllers\n\nMotion controllers handle NPC movement patterns:\n\n```java\n// Built-in motion controllers\nBodyMotionWander         // Random wandering\nBodyMotionMaintainDistance  // Keep distance from target\nBodyMotionFindWithTarget    // Pathfind to target\nBodyMotionMatchLook      // Match look direction\nBodyMotionFlock          // Flock movement\nBodyMotionTeleport       // Teleportation\n```\n\n## Blackboard System\n\nThe Blackboard is shared memory for NPC decision making.\n\n### Blackboard Views\n\n| View | Description |\n|------|-------------|\n| `BlockTypeView` | Track block type changes |\n| `BlockEventView` | Track block events |\n| `EntityEventView` | Track entity events |\n\n### Block Event Types\n\n```java\npublic enum BlockEventType {\n    PLACED,\n    REMOVED,\n    INTERACTED\n}\n```\n\n### Entity Event Types\n\n```java\npublic enum EntityEventType {\n    SPAWNED,\n    DESPAWNED,\n    DAMAGED,\n    KILLED\n}\n```\n\n## Flock System\n\nFlocks group NPCs for coordinated behavior.\n\n### Flock Component\n\n```java\npublic class Flock implements Component\u003CEntityStore> {\n    // Flock data\n    PersistentFlockData getFlockData();\n\n    // Damage tracking\n    DamageData getDamageData();\n    DamageData getLeaderDamageData();\n\n    // Status\n    FlockRemovedStatus getRemovedStatus();\n}\n```\n\n### FlockMembership Component\n\n```java\npublic class FlockMembership implements Component\u003CEntityStore> {\n    UUID getFlockId();\n    void setFlockId(UUID flockId);\n    Ref\u003CEntityStore> getFlockRef();\n    void setFlockRef(Ref\u003CEntityStore> flockRef);\n    Type getMembershipType();\n    void setMembershipType(Type membershipType);\n}\n```\n\n### FlockMembership.Type Enum\n\n| Value | Acts as Leader | Description |\n|-------|----------------|-------------|\n| `JOINING` | No | Joining a flock |\n| `MEMBER` | No | Regular flock member |\n| `LEADER` | Yes | Flock leader |\n| `INTERIM_LEADER` | Yes | Temporary leader |\n\n### Flock Status\n\n```java\npublic enum FlockRemovedStatus {\n    NOT_REMOVED,\n    DISSOLVED,\n    UNLOADED\n}\n```\n\n### Flock Configuration\n\n```json\n{\n  \"Id\": \"MyPlugin_WolfPack\",\n  \"MinSize\": 2,\n  \"MaxSize\": 6,\n  \"AllowedRoles\": [\"Wolf\", \"AlphaWolf\"],\n  \"WeightAlignment\": 1.0,\n  \"WeightSeparation\": 1.5,\n  \"WeightCohesion\": 1.0,\n  \"InfluenceRange\": 20.0\n}\n```\n\n### Flock Behaviors\n\n| Behavior | Description |\n|----------|-------------|\n| `Alignment` | Match velocity with nearby flock members |\n| `Separation` | Maintain distance from other members |\n| `Cohesion` | Stay close to flock center |\n\n## Spawning System\n\nThe spawning system controls when and where NPCs appear.\n\n### SpawnBeacon\n\nSpawn beacons define spawn locations:\n\n```java\npublic class SpawnBeacon implements Component\u003CEntityStore> {\n    // Configured in assets\n}\n```\n\n### SpawnMarker\n\nSpawn markers define specific spawn points:\n\n```java\npublic class SpawnMarkerEntity extends Entity {\n    // Spawn marker data\n}\n```\n\n### Spawn Configuration\n\n```json\n{\n  \"Id\": \"MyPlugin_ZombieSpawn\",\n  \"Role\": \"Zombie\",\n  \"MinCount\": 1,\n  \"MaxCount\": 3,\n  \"SpawnChance\": 0.5,\n  \"Conditions\": {\n    \"TimeOfDay\": \"Night\",\n    \"LightLevel\": { \"Max\": 7 }\n  }\n}\n```\n\n### WorldNPCSpawn\n\nWorld spawn configuration for natural spawning:\n\n```java\n// Spawn parameters\nLightType lightType;  // BLOCK, SKY, COMBINED\nint minLightLevel;\nint maxLightLevel;\n```\n\n### Spawn Suppression\n\nControl spawn rates in areas:\n\n```java\npublic class SpawnSuppressionComponent implements Component\u003CEntityStore> {\n    // Suppress spawns in area\n}\n```\n\n## NPC Systems\n\nThe NPC plugin registers many systems for NPC behavior:\n\n| System | Description |\n|--------|-------------|\n| `NPCPreTickSystem` | Pre-tick setup |\n| `StateEvaluatorSystem` | Evaluate state transitions |\n| `SteeringSystem` | Calculate steering forces |\n| `ComputeVelocitySystem` | Compute final velocity |\n| `AvoidanceSystem` | Collision avoidance |\n| `MovementStatesSystem` | Movement state updates |\n| `RoleChangeSystem` | Handle role changes |\n| `NPCDamageSystems` | Damage handling |\n| `NPCDeathSystems` | Death handling |\n| `NPCInteractionSystems` | Player interactions |\n\n## Instructions and Actions\n\nNPCs use instructions for behavior trees:\n\n### Instruction Types\n\n| Type | Description |\n|------|-------------|\n| `BodyMotion` | Movement instructions |\n| `Action` | Discrete actions |\n| `Sensor` | Environmental sensing |\n\n### Common Actions\n\n```java\nActionRecomputePath      // Recalculate path\nActionOverrideAltitude   // Set altitude\nActionFlockJoin          // Join a flock\nActionFlockLeave         // Leave flock\nActionFlockBeacon        // Respond to beacon\nActionFlockSetTarget     // Set flock target\nActionTriggerSpawnBeacon // Trigger spawn\n```\n\n### Sensors\n\n```java\nSensorOnGround           // Ground detection\nSensorFlockLeader        // Leader detection\nSensorFlockCombatDamage  // Combat damage sensing\nSensorInflictedDamage    // Damage dealt sensing\n```\n\n## State Transitions\n\nNPCs use state machines for behavior:\n\n```java\npublic class StateTransitionController {\n    // Manage state transitions\n}\n\n// State transition edges\npublic class BuilderStateTransitionEdges {\n    // Define transition conditions\n}\n```\n\n## Expressions\n\nNPCs support expression evaluation for conditions:\n\n```java\n// Expression syntax\n\"health \u003C 50\"\n\"distance(target) > 10\"\n\"hasTag(\\\"hostile\\\")\"\n```\n\n## NPC Events\n\n### NPC Lifecycle\n\n```java\n// NPC added to world\ngetEventRegistry().register(AddPlayerToWorldEvent.class, event -> {\n    // Not for NPCs - use RefSystem for NPC lifecycle\n});\n\n// Use RefSystem for NPC tracking\npublic class MyNPCSystem extends RefSystem\u003CEntityStore> {\n    @Override\n    public void onEntityAdded(Ref\u003CEntityStore> ref, AddReason reason,\n            Store\u003CEntityStore> store, CommandBuffer\u003CEntityStore> buffer) {\n        NPCEntity npc = store.getComponent(ref, NPCEntity.getComponentType());\n        // Handle NPC spawn\n    }\n\n    @Override\n    public Query\u003CEntityStore> getQuery() {\n        return NPCEntity.getComponentType();\n    }\n}\n```\n\n### Combat Events\n\n```java\n// NPC kill event\ngetEventRegistry().register(KillFeedEvent.class, event -> {\n    // Handle kill\n});\n```\n\n## Creating NPCs\n\n### Spawn NPC Programmatically\n\n```java\n// Create NPC holder\nHolder\u003CEntityStore> holder = EntityStore.REGISTRY.newHolder();\n\n// Add NPCEntity component\nNPCEntity npc = new NPCEntity();\nholder.addComponent(NPCEntity.getComponentType(), npc);\n\n// Add transform\nTransformComponent transform = new TransformComponent(x, y, z, 0, 0, 0);\nholder.addComponent(TransformComponent.getComponentType(), transform);\n\n// Add UUID\nholder.addComponent(UUIDComponent.getComponentType(),\n    new UUIDComponent(UUID.randomUUID()));\n\n// Spawn\nStore\u003CEntityStore> store = world.getEntityStore().getStore();\nRef\u003CEntityStore> ref = store.spawn(holder);\n```\n\n## NPC Configuration Assets\n\nNPCs are configured through role assets:\n\n```json\n{\n  \"Id\": \"MyPlugin_CustomNPC\",\n  \"MaxHealth\": 20,\n  \"Appearance\": \"Models/NPCs/custom_npc\",\n  \"DropList\": \"MyPlugin_CustomDrops\",\n  \"Behavior\": {\n    \"Root\": {\n      \"Type\": \"Selector\",\n      \"Children\": [\n        {\n          \"Type\": \"Sequence\",\n          \"Conditions\": [\"health \u003C 50\"],\n          \"Actions\": [\"Flee\"]\n        },\n        {\n          \"Type\": \"Wander\"\n        }\n      ]\n    }\n  }\n}\n```\n\n## Best Practices\n\n1. **Use roles**: Define behavior through role configurations\n2. **Leverage flocks**: Group related NPCs for coordinated behavior\n3. **Optimize queries**: Use efficient ECS queries for NPC systems\n4. **Handle lifecycle**: Properly handle NPC add/remove events\n5. **Use blackboards**: Share state through blackboard system\n6. **Configure spawning**: Use spawn beacons and markers for controlled spawning\n\n## Related\n\n- [Entity System](/api-reference/entities/overview/) - Base entity documentation\n- [ECS Overview](/core-concepts/ecs-overview/) - Component system\n- [Events](/core-concepts/event-system/) - Event handling","src/content/docs/api-reference/npc/overview.mdx","d91b7f38a680fba1","api-reference/permissions/overview",{"id":278,"data":280,"body":285,"filePath":286,"digest":287,"deferredRender":16},{"title":281,"editUrl":16,"head":282,"template":52,"sidebar":283,"pagefind":16,"draft":42},"Permission System Overview",[],{"hidden":42,"attrs":284},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Permission System Overview\n\nThe Permission System controls access to commands and features. It uses a hierarchical node-based structure with support for groups, wildcards, and custom providers.\n\n## Package Location\n\n- Core: `com.hypixel.hytale.server.core.permissions`\n- Providers: `com.hypixel.hytale.server.core.permissions.provider`\n- Commands: `com.hypixel.hytale.server.core.permissions.commands`\n- Events: `com.hypixel.hytale.server.core.event.events.permissions`\n\n## Architecture\n\n```\n\n                    Permission System                             \n                                                                  \n            \n   PermissionHolder              PermissionsModule           \n    (Player, etc.)         (Singleton)               \n            \n                                                                 \n                           \n                                                               \n                       \n                      Default          Custom         ...  \n                      Provider         Provider            \n                       \n\n```\n\n## Core Interfaces\n\n### PermissionHolder\n\nInterface implemented by entities that can have permissions:\n\n```java\npackage com.hypixel.hytale.server.core.permissions;\n\npublic interface PermissionHolder {\n    // Check permission (default: false)\n    boolean hasPermission(String permission);\n\n    // Check permission with custom default\n    boolean hasPermission(String permission, boolean defaultValue);\n}\n```\n\nImplemented by:\n- `Player`\n- `CommandSender`\n- `ConsoleSender` (always returns true)\n\n### PermissionProvider\n\nInterface for custom permission backends:\n\n```java\npackage com.hypixel.hytale.server.core.permissions.provider;\n\npublic interface PermissionProvider {\n    // Provider name\n    String getName();\n\n    // User permissions\n    void addUserPermissions(UUID uuid, Set\u003CString> permissions);\n    void removeUserPermissions(UUID uuid, Set\u003CString> permissions);\n    Set\u003CString> getUserPermissions(UUID uuid);\n\n    // Group permissions\n    void addGroupPermissions(String group, Set\u003CString> permissions);\n    void removeGroupPermissions(String group, Set\u003CString> permissions);\n    Set\u003CString> getGroupPermissions(String group);\n\n    // Group membership\n    void addUserToGroup(UUID uuid, String group);\n    void removeUserFromGroup(UUID uuid, String group);\n    Set\u003CString> getGroupsForUser(UUID uuid);\n}\n```\n\n## PermissionsModule\n\nThe central permission management singleton:\n\n```java\npackage com.hypixel.hytale.server.core.permissions;\n\npublic class PermissionsModule extends JavaPlugin {\n    // Singleton access\n    public static PermissionsModule get();\n\n    // Check permissions\n    public boolean hasPermission(UUID uuid, String permission);\n    public boolean hasPermission(UUID uuid, String permission, boolean defaultValue);\n\n    // User permissions\n    public void addUserPermission(UUID uuid, Set\u003CString> permissions);\n    public void removeUserPermission(UUID uuid, Set\u003CString> permissions);\n\n    // Group management\n    public void addUserToGroup(UUID uuid, String group);\n    public void removeUserFromGroup(UUID uuid, String group);\n    public Set\u003CString> getGroupsForUser(UUID uuid);\n\n    // Group permissions\n    public void addGroupPermission(String group, Set\u003CString> permissions);\n    public void removeGroupPermission(String group, Set\u003CString> permissions);\n\n    // Provider management\n    public void addProvider(PermissionProvider provider);\n    public void removeProvider(PermissionProvider provider);\n    public List\u003CPermissionProvider> getProviders();\n}\n```\n\n## Permission Node Syntax\n\nPermission nodes use a dot-separated hierarchical structure:\n\n### Basic Syntax\n\n| Pattern | Meaning |\n|---------|---------|\n| `permission.node` | Grant specific permission |\n| `-permission.node` | Deny specific permission |\n| `permission.*` | Grant all under namespace |\n| `-permission.*` | Deny all under namespace |\n| `*` | Grant all permissions |\n| `-*` | Deny all permissions |\n\n### Matching Algorithm\n\nFor permission check `hytale.command.teleport`:\n\n1. Check exact match: `hytale.command.teleport`\n2. Check parent wildcard: `hytale.command.*`\n3. Check grandparent wildcard: `hytale.*`\n4. Check root wildcard: `*`\n\nAt each level, negation (`-` prefix) is also checked.\n\n### Examples\n\n```\n# Grant specific command\nhytale.command.teleport\n\n# Deny specific command\n-hytale.command.kick\n\n# Grant all commands\nhytale.command.*\n\n# Grant all permissions\n*\n\n# Grant all but deny specific\n*\n-hytale.command.ban\n```\n\n## Built-in Permission Nodes\n\nCommon permission nodes (from `HytalePermissions`):\n\n| Node | Description |\n|------|-------------|\n| `hytale.command.*` | All commands |\n| `hytale.editor.asset` | Asset editor access |\n| `hytale.editor.packs.create` | Create asset packs |\n| `hytale.editor.packs.edit` | Edit asset packs |\n| `hytale.editor.packs.delete` | Delete asset packs |\n| `hytale.editor.builderTools` | Builder tools |\n| `hytale.editor.brush.*` | Brush editor |\n| `hytale.camera.flycam` | Fly camera |\n\n## Default Groups\n\nThe default provider includes two groups:\n\n| Group | Permissions |\n|-------|-------------|\n| `OP` | `*` (all permissions) |\n| `Default` | (none) |\n\n## Permission Checking\n\n### For Players/CommandSenders\n\n```java\n// Check permission (false if not set)\nif (sender.hasPermission(\"myplugin.feature\")) {\n    // Allowed\n}\n\n// Check with default value\nif (sender.hasPermission(\"myplugin.feature\", true)) {\n    // Allowed if not explicitly denied\n}\n```\n\n### Using CommandUtil\n\n```java\nimport com.hypixel.hytale.server.core.command.system.CommandUtil;\n\npublic void execute(CommandContext context) {\n    // Throws NoPermissionException if denied\n    CommandUtil.requirePermission(context.getSender(), \"myplugin.admin\");\n\n    // Permission granted, continue...\n}\n```\n\n### In Commands\n\n```java\nimport com.hypixel.hytale.server.core.command.system.AbstractCommand;\n\npublic class MyCommand extends AbstractCommand {\n    public MyCommand() {\n        super(\"mycommand\", \"Description\");\n        // Set required permission\n        this.requirePermission(\"myplugin.command.mycommand\");\n    }\n\n    @Override\n    public boolean hasPermission(CommandSender sender) {\n        return sender.hasPermission(getPermission());\n    }\n}\n```\n\n## Command Permissions\n\n### Auto-Generated Format\n\nCommands automatically generate permission nodes:\n\n- Plugin commands: `{plugin.base}.command.{command.name}`\n- System commands: `hytale.system.command.{command.name}`\n- Sub-commands: `{parent}.{subcommand.name}`\n\n### Argument Permissions\n\n```java\n// Require permission for specific argument\narg.setPermission(\"myplugin.command.special.option\");\n```\n\n## Permission Events\n\nEvents fired when permissions change:\n\n| Event | Description |\n|-------|-------------|\n| `PlayerPermissionChangeEvent.PermissionsAdded` | Permissions added to player |\n| `PlayerPermissionChangeEvent.PermissionsRemoved` | Permissions removed from player |\n| `PlayerGroupEvent.Added` | Player added to group |\n| `PlayerGroupEvent.Removed` | Player removed from group |\n| `GroupPermissionChangeEvent.Added` | Permissions added to group |\n| `GroupPermissionChangeEvent.Removed` | Permissions removed from group |\n\n### Listening to Permission Changes\n\n```java\nimport com.hypixel.hytale.server.core.event.events.permissions.*;\n\n@Override\nprotected void setup() {\n    getEventRegistry().register(PlayerPermissionChangeEvent.PermissionsAdded.class,\n        event -> {\n            UUID player = event.getPlayerUUID();\n            Set\u003CString> added = event.getPermissions();\n            getLogger().info(\"Permissions added to \" + player + \": \" + added);\n        }\n    );\n}\n```\n\n## Built-in Commands\n\n| Command | Description |\n|---------|-------------|\n| `/perm user add \u003Cuuid> \u003Cpermissions...>` | Add permissions to user |\n| `/perm user remove \u003Cuuid> \u003Cpermissions...>` | Remove permissions from user |\n| `/perm user group add \u003Cuuid> \u003Cgroup>` | Add user to group |\n| `/perm user group remove \u003Cuuid> \u003Cgroup>` | Remove user from group |\n| `/perm group add \u003Cgroup> \u003Cpermissions...>` | Add permissions to group |\n| `/perm group remove \u003Cgroup> \u003Cpermissions...>` | Remove permissions from group |\n| `/perm test \u003Cpermissions...>` | Test if sender has permissions |\n\n## Creating a Custom Provider\n\n```java\nimport com.hypixel.hytale.server.core.permissions.provider.PermissionProvider;\nimport java.util.*;\n\npublic class MyPermissionProvider implements PermissionProvider {\n    private final Map\u003CUUID, Set\u003CString>> userPermissions = new HashMap\u003C>();\n    private final Map\u003CString, Set\u003CString>> groupPermissions = new HashMap\u003C>();\n    private final Map\u003CUUID, Set\u003CString>> userGroups = new HashMap\u003C>();\n\n    @Override\n    public String getName() {\n        return \"MyProvider\";\n    }\n\n    @Override\n    public void addUserPermissions(UUID uuid, Set\u003CString> permissions) {\n        userPermissions.computeIfAbsent(uuid, k -> new HashSet\u003C>())\n            .addAll(permissions);\n    }\n\n    @Override\n    public void removeUserPermissions(UUID uuid, Set\u003CString> permissions) {\n        Set\u003CString> perms = userPermissions.get(uuid);\n        if (perms != null) {\n            perms.removeAll(permissions);\n        }\n    }\n\n    @Override\n    public Set\u003CString> getUserPermissions(UUID uuid) {\n        return userPermissions.getOrDefault(uuid, Collections.emptySet());\n    }\n\n    @Override\n    public void addGroupPermissions(String group, Set\u003CString> permissions) {\n        groupPermissions.computeIfAbsent(group, k -> new HashSet\u003C>())\n            .addAll(permissions);\n    }\n\n    @Override\n    public void removeGroupPermissions(String group, Set\u003CString> permissions) {\n        Set\u003CString> perms = groupPermissions.get(group);\n        if (perms != null) {\n            perms.removeAll(permissions);\n        }\n    }\n\n    @Override\n    public Set\u003CString> getGroupPermissions(String group) {\n        return groupPermissions.getOrDefault(group, Collections.emptySet());\n    }\n\n    @Override\n    public void addUserToGroup(UUID uuid, String group) {\n        userGroups.computeIfAbsent(uuid, k -> new HashSet\u003C>()).add(group);\n    }\n\n    @Override\n    public void removeUserFromGroup(UUID uuid, String group) {\n        Set\u003CString> groups = userGroups.get(uuid);\n        if (groups != null) {\n            groups.remove(group);\n        }\n    }\n\n    @Override\n    public Set\u003CString> getGroupsForUser(UUID uuid) {\n        return userGroups.getOrDefault(uuid, Collections.emptySet());\n    }\n}\n```\n\n### Registering the Provider\n\n```java\nimport com.hypixel.hytale.server.core.permissions.PermissionsModule;\n\n@Override\nprotected void setup() {\n    PermissionsModule.get().addProvider(new MyPermissionProvider());\n}\n\n@Override\nprotected void shutdown() {\n    // Optional: remove provider on shutdown\n    PermissionsModule.get().removeProvider(myProvider);\n}\n```\n\n## Storage\n\nThe default provider stores permissions in `permissions.json` in the universe folder.\n\n## Best Practices\n\n1. **Use hierarchical nodes**: `myplugin.feature.subfeature`\n2. **Document permissions**: List all permissions your plugin uses\n3. **Provide defaults**: Use `hasPermission(perm, true)` for non-critical features\n4. **Use groups**: Assign permissions via groups, not individual users\n5. **Test permissions**: Use `/perm test` to verify\n\n## Related\n\n- [Command System](/core-concepts/commands/) - Command permissions\n- [Event System](/core-concepts/event-system/) - Permission events\n- [Plugin Lifecycle](/getting-started/plugin-lifecycle/) - Provider registration","src/content/docs/api-reference/permissions/overview.mdx","c6d87cdb1a3fffa9","api-reference/physics/collision",{"id":288,"data":290,"body":295,"filePath":296,"digest":297,"deferredRender":16},{"title":291,"editUrl":16,"head":292,"template":52,"sidebar":293,"pagefind":16,"draft":42},"Collision System",[],{"hidden":42,"attrs":294},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Collision System\n\nThe Collision System detects and responds to collisions between entities and blocks. It uses swept collision detection for continuous movement and supports multiple collision types.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.modules.collision`\n\n## Core Classes\n\n| Class | Description |\n|-------|-------------|\n| `CollisionModule` | Main collision detection plugin |\n| `CollisionResult` | Stores collision query results |\n| `CollisionConfig` | Block collision configuration |\n| `BlockCollisionProvider` | Block collision detection |\n| `EntityCollisionProvider` | Entity collision detection |\n\n## CollisionModule\n\nThe central collision detection system:\n\n```java\npackage com.hypixel.hytale.server.core.modules.collision;\n\npublic class CollisionModule extends JavaPlugin {\n    // Singleton access\n    public static CollisionModule get();\n\n    // Main collision detection\n    public static CollisionResult findCollisions(\n        Box collider,\n        Vector3d position,\n        Vector3d velocity,\n        CollisionResult result,\n        IComponentAccessor accessor\n    );\n\n    // Block collision (iterative, far distance)\n    public static void findBlockCollisionsIterative(\n        Box collider,\n        Vector3d start,\n        Vector3d end,\n        CollisionResult result,\n        IComponentAccessor accessor\n    );\n\n    // Block collision (direct, short distance)\n    public static void findBlockCollisionsShortDistance(\n        Box collider,\n        Vector3d position,\n        Vector3d velocity,\n        CollisionResult result,\n        IComponentAccessor accessor\n    );\n\n    // Entity collision\n    public static void findCharacterCollisions(\n        Box collider,\n        Vector3d position,\n        Vector3d velocity,\n        CollisionResult result,\n        IComponentAccessor accessor\n    );\n\n    // Position validation\n    public static boolean validatePosition(\n        World world,\n        Box collider,\n        Vector3d position,\n        CollisionResult result\n    );\n\n    // Intersection detection\n    public static void findIntersections(\n        Box collider,\n        Vector3d position,\n        CollisionResult result,\n        IComponentAccessor accessor\n    );\n}\n```\n\n## CollisionResult\n\nStores all collision data from a query:\n\n```java\npackage com.hypixel.hytale.server.core.modules.collision;\n\npublic class CollisionResult {\n    // Block collisions (solid blocks)\n    public BlockCollisionData[] blockCollisions;\n\n    // Block slides (walkable surfaces)\n    public BlockCollisionData[] blockSlides;\n\n    // Block triggers (sensor blocks)\n    public BlockCollisionData[] blockTriggers;\n\n    // Entity collisions\n    public CharacterCollisionData[] characterCollisions;\n\n    // Reset for reuse\n    public void reset();\n\n    // Process results\n    public void process();\n\n    // Query helpers\n    public boolean hasBlockCollisions();\n    public boolean hasCharacterCollisions();\n    public BlockCollisionData getFirstBlockCollision();\n}\n```\n\n## Collision Data Types\n\n### BlockCollisionData\n\nInformation about a block collision:\n\n```java\npublic class BlockCollisionData extends BoxCollisionData {\n    int blockId;           // Block type ID\n    BlockType blockType;   // Block type reference\n    BlockMaterial material; // Block material\n    Vector3i blockPos;     // Block position\n    boolean isDamage;      // Is damage block\n\n    // Inherited from BoxCollisionData\n    Vector3d collisionPoint;  // Point of collision\n    Vector3d collisionNormal; // Surface normal\n    double startParam;        // Start parameter (0-1)\n    double endParam;          // End parameter (0-1)\n}\n```\n\n### CharacterCollisionData\n\nInformation about an entity collision:\n\n```java\npublic class CharacterCollisionData extends BoxCollisionData {\n    Ref\u003CEntityStore> entityRef;  // Collided entity\n    Box entityBox;               // Entity bounding box\n\n    // Inherited from BoxCollisionData\n    Vector3d collisionPoint;\n    Vector3d collisionNormal;\n    double startParam;\n    double endParam;\n}\n```\n\n## Collision Detection Flow\n\n### Block Collision\n\n```\n1. Determine distance mode (far vs short)\n    velocity >= threshold  iterative (far)\n    velocity \u003C threshold  direct (short)\n\n2. Iterate blocks along movement path\n    Box.forEachBlock(start, end, callback)\n\n3. For each block:\n    Check material allows collision\n    Get block hitbox (with rotation)\n    Perform swept box collision test\n    Classify result:\n        Collision (solid)\n        Slide (walkable)\n        Trigger (sensor)\n        Damage (harmful)\n\n4. Sort collisions by start parameter\n5. Return collision results\n```\n\n### Entity Collision\n\n```\n1. Query spatial index (KD-Tree) for nearby entities\n2. For each nearby entity:\n    Get entity bounding box\n    Perform vector-AABB intersection\n    Record if collision occurs\n3. Sort by distance\n4. Return nearest collision\n```\n\n## Collision Evaluators\n\n### BoxBlockIntersectionEvaluator\n\nStatic box-to-block intersection tests:\n\n```java\npackage com.hypixel.hytale.server.core.modules.collision;\n\npublic class BoxBlockIntersectionEvaluator {\n    // Basic intersection\n    public static boolean intersectBox(Box box, Box blockBox);\n\n    // Intersection with touch detection\n    public static boolean intersectBoxComputeTouch(\n        Box box,\n        Box blockBox,\n        TouchResult result\n    );\n\n    // Intersection with ground detection\n    public static boolean intersectBoxComputeOnGround(\n        Box box,\n        Box blockBox,\n        GroundResult result\n    );\n\n    // Result flags\n    public boolean onGround;   // Standing on surface\n    public boolean touchCeil;  // Touching ceiling\n}\n```\n\n### MovingBoxBoxCollisionEvaluator\n\nSwept (continuous) collision detection:\n\n```java\npackage com.hypixel.hytale.server.core.modules.collision;\n\npublic class MovingBoxBoxCollisionEvaluator {\n    // Set the moving box\n    public void setCollider(Box collider);\n\n    // Set the movement vector\n    public void setMove(Vector3d move);\n\n    // Check for collision with stationary box\n    public boolean isBoundingBoxColliding(Box target);\n\n    // Get collision parameters\n    public double getCollisionStart();\n    public double getCollisionEnd();\n    public Vector3d getCollisionNormal();\n    public Vector3d getCollisionPoint();\n}\n```\n\n## Material Masks\n\nBlock materials affect collision behavior:\n\n| Mask | Value | Description |\n|------|-------|-------------|\n| `EMPTY` | 1 | No collision (air) |\n| `FLUID` | 2 | Fluid block (water, lava) |\n| `SOLID` | 4 | Solid collision |\n| `SUBMERGED` | 8 | Fully in fluid |\n| `DAMAGE` | 16 | Damage on contact |\n\n## Collision Types\n\n### Solid Collision\n\nStandard blocking collision:\n- Stops movement at collision point\n- Returns collision normal for response\n- Used for walls, floors, ceilings\n\n### Slide Collision\n\nWalkable surface collision:\n- Allows movement along surface\n- Used for slopes and stairs\n- Entity can slide along the surface\n\n### Trigger Collision\n\nNon-blocking sensor collision:\n- Does not stop movement\n- Fires trigger events\n- Used for pressure plates, zones\n\n### Damage Collision\n\nHarmful surface collision:\n- May or may not block movement\n- Applies damage to entity\n- Used for spikes, lava, etc.\n\n## IBlockCollisionConsumer\n\nCallback interface for collision events:\n\n```java\npackage com.hypixel.hytale.server.core.modules.collision;\n\npublic interface IBlockCollisionConsumer {\n    enum Result { CONTINUE, STOP }\n\n    // Called on collision\n    Result onCollision(BlockCollisionData data);\n\n    // Check if block causes damage\n    boolean probeCollisionDamage(BlockCollisionData data);\n\n    // Called on damage collision\n    Result onCollisionDamage(BlockCollisionData data);\n\n    // Called when slice completes\n    void onCollisionSliceFinished();\n\n    // Called when all collisions processed\n    void onCollisionFinished();\n}\n```\n\n## CollisionMath\n\nAABB intersection utilities:\n\n```java\npackage com.hypixel.hytale.server.core.modules.collision;\n\npublic class CollisionMath {\n    // AABB-AABB intersection\n    public static boolean intersectAABBs(Box a, Box b);\n\n    // Vector-AABB intersection\n    public static boolean intersectVectorAABB(\n        Vector3d start,\n        Vector3d direction,\n        Box box,\n        CollisionResult result\n    );\n\n    // Spatial relationship tests\n    public static boolean isDisjoint(Box a, Box b);\n    public static boolean isOverlapping(Box a, Box b);\n    public static boolean isTouching(Box a, Box b);\n}\n```\n\n## Usage Examples\n\n### Basic Collision Check\n\n```java\nimport com.hypixel.hytale.server.core.modules.collision.CollisionModule;\nimport com.hypixel.hytale.server.core.modules.collision.CollisionResult;\nimport com.hypixel.hytale.math.Box;\nimport com.hypixel.hytale.math.Vector3d;\n\npublic boolean wouldCollide(Box entityBox, Vector3d position, Vector3d movement,\n                            IComponentAccessor accessor) {\n    CollisionResult result = new CollisionResult();\n\n    CollisionModule.findCollisions(\n        entityBox,\n        position,\n        movement,\n        result,\n        accessor\n    );\n\n    return result.hasBlockCollisions();\n}\n```\n\n### Collision Response\n\n```java\npublic Vector3d clampMovement(Box entityBox, Vector3d position,\n                              Vector3d movement, IComponentAccessor accessor) {\n    CollisionResult result = new CollisionResult();\n\n    CollisionModule.findCollisions(entityBox, position, movement, result, accessor);\n\n    if (result.hasBlockCollisions()) {\n        BlockCollisionData first = result.getFirstBlockCollision();\n\n        // Clamp movement to collision point\n        double clampedT = first.startParam;\n        return movement.multiply(clampedT);\n    }\n\n    return movement;\n}\n```\n\n### Ground Detection\n\n```java\nimport com.hypixel.hytale.server.core.modules.collision.BoxBlockIntersectionEvaluator;\n\npublic boolean isOnGround(Box entityBox, Vector3d position,\n                          IComponentAccessor accessor) {\n    // Slightly expand downward to detect ground\n    Box groundCheck = entityBox.expand(0, -0.01, 0);\n\n    BoxBlockIntersectionEvaluator evaluator = new BoxBlockIntersectionEvaluator();\n\n    // Check blocks below\n    CollisionResult result = new CollisionResult();\n    CollisionModule.findIntersections(groundCheck, position, result, accessor);\n\n    return evaluator.onGround;\n}\n```\n\n## Best Practices\n\n1. **Reuse CollisionResult**: Call `reset()` instead of creating new instances\n2. **Choose appropriate method**: Use short-distance for slow entities\n3. **Check material masks**: Not all blocks collide the same way\n4. **Handle slides separately**: Slides allow movement, collisions don't\n5. **Process triggers**: Trigger blocks fire events but don't block\n\n## Related\n\n- [Physics Overview](/api-reference/entities/overview/) - Physics system architecture\n- [Hitbox System](/api-reference/physics/hitboxes/) - Entity hitboxes\n- [Block System](/api-reference/blocks/overview/) - Block types and materials","src/content/docs/api-reference/physics/collision.mdx","aeffb7b60008e2b7","api-reference/physics/hitboxes",{"id":298,"data":300,"body":305,"filePath":306,"digest":307,"deferredRender":16},{"title":301,"editUrl":16,"head":302,"template":52,"sidebar":303,"pagefind":16,"draft":42},"Hitbox System",[],{"hidden":42,"attrs":304},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Hitbox System\n\nThe Hitbox System manages collision bounds for entities and blocks. It supports simple bounding boxes and complex multi-box configurations for detailed collision shapes.\n\n## Package Location\n\n- Entity Hitboxes: `com.hypixel.hytale.server.core.modules.entity.hitboxcollision`\n- Bounding Box: `com.hypixel.hytale.server.core.modules.entity.component`\n- Math: `com.hypixel.hytale.math`\n\n## Core Classes\n\n| Class | Description |\n|-------|-------------|\n| `BoundingBox` | Entity bounding box component |\n| `HitboxCollision` | References hitbox collision config |\n| `HitboxCollisionConfig` | Asset-based hitbox configuration |\n| `Box` | Axis-aligned bounding box (AABB) |\n| `DetailBox` | Named sub-hitbox for complex shapes |\n\n## BoundingBox Component\n\nThe main collision bounds for an entity:\n\n```java\npackage com.hypixel.hytale.server.core.modules.entity.component;\n\npublic class BoundingBox {\n    // Main bounding box\n    public Box getBoundingBox();\n    public void setBoundingBox(Box box);\n\n    // Detail boxes for complex shapes\n    public Map\u003CString, DetailBox[]> getDetailBoxes();\n    public void setDetailBoxes(Map\u003CString, DetailBox[]> boxes);\n}\n```\n\n## Box Class\n\nAxis-aligned bounding box (AABB):\n\n```java\npackage com.hypixel.hytale.math;\n\npublic class Box {\n    // Bounds\n    public double minX, minY, minZ;\n    public double maxX, maxY, maxZ;\n\n    // Constructors\n    public Box(double minX, double minY, double minZ,\n               double maxX, double maxY, double maxZ);\n    public Box(Vector3d min, Vector3d max);\n\n    // Dimensions\n    public double getWidth();   // maxX - minX\n    public double getHeight();  // maxY - minY\n    public double getDepth();   // maxZ - minZ\n    public Vector3d getSize();\n    public Vector3d getCenter();\n\n    // Transformations\n    public Box expand(double x, double y, double z);\n    public Box shrink(double x, double y, double z);\n    public Box offset(double x, double y, double z);\n    public Box offset(Vector3d offset);\n\n    // Intersection\n    public boolean intersects(Box other);\n    public boolean contains(Vector3d point);\n    public boolean contains(Box other);\n\n    // Block iteration\n    public void forEachBlock(Consumer\u003CVector3i> consumer);\n    public static void forEachBlock(Vector3d start, Vector3d end,\n                                    Consumer\u003CVector3i> consumer);\n}\n```\n\n## HitboxCollision Component\n\nReferences a hitbox configuration asset:\n\n```java\npackage com.hypixel.hytale.server.core.modules.entity.hitboxcollision;\n\npublic class HitboxCollision {\n    // Get config index in asset map\n    public int getHitboxCollisionConfigIndex();\n\n    // Network sync tracking\n    public boolean consumeNetworkOutdated();\n}\n```\n\n## HitboxCollisionConfig Asset\n\nHitbox configuration loaded from assets:\n\n```json\n{\n  \"Id\": \"Player_Hitbox\",\n  \"BoundingBox\": {\n    \"MinX\": -0.3,\n    \"MinY\": 0.0,\n    \"MinZ\": -0.3,\n    \"MaxX\": 0.3,\n    \"MaxY\": 1.8,\n    \"MaxZ\": 0.3\n  },\n  \"DetailBoxes\": {\n    \"head\": [\n      {\n        \"MinX\": -0.25,\n        \"MinY\": 1.5,\n        \"MinZ\": -0.25,\n        \"MaxX\": 0.25,\n        \"MaxY\": 1.8,\n        \"MaxZ\": 0.25\n      }\n    ],\n    \"body\": [\n      {\n        \"MinX\": -0.3,\n        \"MinY\": 0.5,\n        \"MinZ\": -0.15,\n        \"MaxX\": 0.3,\n        \"MaxY\": 1.5,\n        \"MaxZ\": 0.15\n      }\n    ]\n  }\n}\n```\n\n## DetailBox\n\nNamed sub-hitbox for complex shapes:\n\n```java\npublic class DetailBox {\n    String name;  // Identifier (e.g., \"head\", \"body\", \"arm_left\")\n    Box box;      // The bounding box\n}\n```\n\n### Common Detail Box Names\n\n| Name | Purpose |\n|------|---------|\n| `head` | Head/critical hit area |\n| `body` | Main body |\n| `arm_left` | Left arm |\n| `arm_right` | Right arm |\n| `leg_left` | Left leg |\n| `leg_right` | Right leg |\n\n## HitboxCollisionSystems\n\nSystems for hitbox management:\n\n```java\npackage com.hypixel.hytale.server.core.modules.entity.hitboxcollision;\n\npublic class HitboxCollisionSystems {\n    // Setup system - adds hitbox to players\n    public static class Setup implements EntityTickingSystem { }\n\n    // Sync hitbox changes to visible players\n    public static class EntityTrackerUpdate implements EntityTickingSystem { }\n\n    // Clean up hitbox visibility\n    public static class EntityTrackerRemove implements EntityTickingSystem { }\n}\n```\n\n## Block Hitboxes\n\nBlocks have hitboxes defined in their block type:\n\n### Simple Block Hitbox\n\nFull cube (1x1x1):\n\n```json\n{\n  \"Id\": \"Stone\",\n  \"Hitbox\": \"Full\"\n}\n```\n\n### Custom Block Hitbox\n\nNon-standard shapes:\n\n```json\n{\n  \"Id\": \"Slab_Stone\",\n  \"Hitbox\": {\n    \"MinX\": 0.0,\n    \"MinY\": 0.0,\n    \"MinZ\": 0.0,\n    \"MaxX\": 1.0,\n    \"MaxY\": 0.5,\n    \"MaxZ\": 1.0\n  }\n}\n```\n\n### Multi-Box Block Hitbox\n\nComplex shapes (stairs, fences):\n\n```json\n{\n  \"Id\": \"Stairs_Stone\",\n  \"Hitboxes\": [\n    {\n      \"MinX\": 0.0, \"MinY\": 0.0, \"MinZ\": 0.0,\n      \"MaxX\": 1.0, \"MaxY\": 0.5, \"MaxZ\": 1.0\n    },\n    {\n      \"MinX\": 0.0, \"MinY\": 0.5, \"MinZ\": 0.5,\n      \"MaxX\": 1.0, \"MaxY\": 1.0, \"MaxZ\": 1.0\n    }\n  ]\n}\n```\n\n## Hitbox Rotation\n\nBlock hitboxes can be rotated:\n\n```java\n// Get block hitbox with rotation\nBox hitbox = blockType.getHitbox(rotation);\n```\n\nRotation values: 0, 90, 180, 270 degrees\n\n## Usage Examples\n\n### Setting Entity Hitbox\n\n```java\nimport com.hypixel.hytale.server.core.modules.entity.component.BoundingBox;\nimport com.hypixel.hytale.math.Box;\n\npublic void setEntityHitbox(Ref\u003CEntityStore> entityRef,\n                            IComponentAccessor accessor) {\n    BoundingBox bbox = accessor.getComponent(entityRef,\n        BoundingBox.getComponentType());\n\n    // Create custom hitbox\n    Box hitbox = new Box(\n        -0.4, 0.0, -0.4,  // min\n        0.4, 2.0, 0.4     // max\n    );\n\n    bbox.setBoundingBox(hitbox);\n}\n```\n\n### Adding Detail Boxes\n\n```java\nimport com.hypixel.hytale.server.core.modules.entity.component.BoundingBox;\nimport com.hypixel.hytale.math.Box;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic void setDetailHitboxes(Ref\u003CEntityStore> entityRef,\n                              IComponentAccessor accessor) {\n    BoundingBox bbox = accessor.getComponent(entityRef,\n        BoundingBox.getComponentType());\n\n    Map\u003CString, DetailBox[]> details = new HashMap\u003C>();\n\n    // Add head hitbox\n    details.put(\"head\", new DetailBox[] {\n        new DetailBox(\"head\", new Box(-0.25, 1.5, -0.25, 0.25, 1.8, 0.25))\n    });\n\n    // Add body hitbox\n    details.put(\"body\", new DetailBox[] {\n        new DetailBox(\"body\", new Box(-0.3, 0.5, -0.15, 0.3, 1.5, 0.15))\n    });\n\n    bbox.setDetailBoxes(details);\n}\n```\n\n### Checking Hitbox Intersection\n\n```java\nimport com.hypixel.hytale.math.Box;\n\npublic boolean hitboxesIntersect(Box hitboxA, Vector3d posA,\n                                 Box hitboxB, Vector3d posB) {\n    // Offset hitboxes to world positions\n    Box worldA = hitboxA.offset(posA);\n    Box worldB = hitboxB.offset(posB);\n\n    return worldA.intersects(worldB);\n}\n```\n\n### Getting Hitbox from Config\n\n```java\nimport com.hypixel.hytale.server.core.modules.entity.hitboxcollision.HitboxCollision;\nimport com.hypixel.hytale.server.core.modules.entity.hitboxcollision.HitboxCollisionConfig;\n\npublic Box getEntityHitbox(Ref\u003CEntityStore> entityRef,\n                           IComponentAccessor accessor) {\n    HitboxCollision hitbox = accessor.getComponent(entityRef,\n        HitboxCollision.getComponentType());\n\n    int configIndex = hitbox.getHitboxCollisionConfigIndex();\n\n    // Get config from asset map\n    HitboxCollisionConfig config = HitboxCollisionConfig.getAssetMap()\n        .get(configIndex);\n\n    return config.getBoundingBox();\n}\n```\n\n## Hitbox Synchronization\n\nHitbox changes are synchronized to clients:\n\n1. **HitboxCollision** component marks `networkOutdated`\n2. **EntityTrackerUpdate** system detects change\n3. **ComponentUpdate** with hitbox config index sent\n4. Client updates local hitbox\n\n## Best Practices\n\n1. **Use appropriate size**: Match visual model dimensions\n2. **Consider performance**: Fewer detail boxes = faster collision\n3. **Use detail boxes for precision**: Critical hits, limb damage\n4. **Rotation support**: Block hitboxes should rotate correctly\n5. **Network efficiency**: Only update hitbox when it changes\n\n## Related\n\n- [Physics Overview](/api-reference/entities/overview/) - Physics system\n- [Collision System](/api-reference/physics/collision/) - Collision detection\n- [Entity System](/api-reference/entities/overview/) - Entity components\n- [Block System](/api-reference/blocks/overview/) - Block hitboxes","src/content/docs/api-reference/physics/hitboxes.mdx","460253ce0a5887d5","api-reference/physics/movement",{"id":308,"data":310,"body":315,"filePath":316,"digest":317,"deferredRender":16},{"title":311,"editUrl":16,"head":312,"template":52,"sidebar":313,"pagefind":16,"draft":42},"Entity Movement",[],{"hidden":42,"attrs":314},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Entity Movement\n\nThe movement system manages entity velocity, forces, and physics simulation. It uses components for velocity storage and configuration.\n\n## Package Location\n\n- Velocity: `com.hypixel.hytale.server.core.modules.physics.component`\n- Split Velocity: `com.hypixel.hytale.server.core.modules.splitvelocity`\n- Physics: `com.hypixel.hytale.server.core.modules.physics`\n\n## Velocity Component\n\nStores and manages entity velocity:\n\n```java\npackage com.hypixel.hytale.server.core.modules.physics.component;\n\npublic class Velocity {\n    // Set velocity directly\n    public void set(double x, double y, double z);\n    public void set(Vector3d velocity);\n\n    // Get velocity\n    public Vector3d getVelocity();\n    public Vector3d getClientVelocity();\n    public double getSpeed();\n\n    // Add force (accumulated)\n    public void addForce(Vector3d force);\n\n    // Set client-side velocity (for prediction)\n    public void setClient(Vector3d velocity);\n\n    // Velocity instructions\n    public void addInstruction(Vector3d velocity, VelocityConfig config,\n                               ChangeVelocityType type);\n    public List\u003CInstruction> getInstructions();\n    public void clearInstructions();\n\n    // Component type\n    public static ComponentType\u003CEntityStore, Velocity> getComponentType();\n}\n```\n\n## ChangeVelocityType\n\nTypes of velocity modifications:\n\n| Type | Description |\n|------|-------------|\n| `SET` | Replace velocity entirely |\n| `ADD` | Add to current velocity |\n| `IMPULSE` | Apply instant impulse |\n\n## VelocityConfig\n\nConfigures velocity resistance:\n\n```java\npackage com.hypixel.hytale.server.core.modules.splitvelocity;\n\npublic class VelocityConfig {\n    // Ground resistance (friction)\n    float groundResistance = 0.82f;\n    float groundResistanceMax;\n\n    // Air resistance (drag)\n    float airResistance = 0.96f;\n    float airResistanceMax;\n\n    // Threshold for resistance application\n    float threshold = 1.0f;\n\n    // Transition style\n    ThresholdStyle style;  // Linear or non-linear\n}\n```\n\n### ThresholdStyle\n\n| Style | Description |\n|-------|-------------|\n| `LINEAR` | Linear resistance transition |\n| `SMOOTH` | Smooth non-linear transition |\n\n## PhysicsValues Component\n\nPhysical properties of an entity:\n\n```java\npackage com.hypixel.hytale.server.core.modules.physics.component;\n\npublic class PhysicsValues {\n    // Defaults\n    public static final double DEFAULT_MASS = 1.0;\n    public static final double DEFAULT_DRAG_COEFFICIENT = 0.5;\n    public static final boolean DEFAULT_INVERTED_GRAVITY = false;\n\n    // Mass (affects force application)\n    public double getMass();\n    public void setMass(double mass);\n\n    // Drag coefficient (air resistance)\n    public double getDragCoefficient();\n    public void setDragCoefficient(double coefficient);\n\n    // Inverted gravity (for special entities)\n    public boolean isInvertedGravity();\n    public void setInvertedGravity(boolean inverted);\n\n    // Component type\n    public static ComponentType\u003CEntityStore, PhysicsValues> getComponentType();\n}\n```\n\n## Force Accumulation\n\nForces are accumulated during a tick and applied at integration:\n\n```java\npackage com.hypixel.hytale.server.core.modules.physics.util;\n\npublic class ForceProviderStandardState {\n    Vector3d externalForce;        // Accumulated forces\n    Vector3d externalImpulse;      // Instant impulses\n    Vector3d externalAcceleration; // Accelerations\n    Vector3d externalVelocity;     // Direct velocity changes\n    Vector3d nextTickVelocity;     // Velocity for next tick\n\n    // Add force to accumulator\n    public void addForce(Vector3d force);\n\n    // Add impulse (instant velocity change)\n    public void addImpulse(Vector3d impulse);\n\n    // Add acceleration\n    public void addAcceleration(Vector3d acceleration);\n\n    // Convert to net force\n    public Vector3d computeNetForce(double mass);\n}\n```\n\n## Velocity Instructions\n\nInstructions queue velocity changes:\n\n```java\npublic class Velocity.Instruction {\n    Vector3d velocity;           // Velocity value\n    VelocityConfig config;       // Resistance config\n    ChangeVelocityType type;     // SET, ADD, or IMPULSE\n}\n```\n\n### Using Instructions\n\n```java\nimport com.hypixel.hytale.server.core.modules.physics.component.Velocity;\nimport com.hypixel.hytale.server.core.modules.splitvelocity.VelocityConfig;\nimport com.hypixel.hytale.server.core.modules.splitvelocity.ChangeVelocityType;\nimport com.hypixel.hytale.math.Vector3d;\n\npublic void applyKnockback(Ref\u003CEntityStore> entityRef,\n                           IComponentAccessor accessor,\n                           Vector3d knockback) {\n    Velocity velocity = accessor.getComponent(entityRef, Velocity.getComponentType());\n\n    // Create knockback config with high air resistance\n    VelocityConfig config = new VelocityConfig();\n    config.airResistance = 0.9f;\n\n    // Queue knockback instruction\n    velocity.addInstruction(knockback, config, ChangeVelocityType.ADD);\n}\n```\n\n## Movement Flow\n\n1. **Force Application**\n   - External forces accumulated (gravity, knockback, etc.)\n   - Impulses added for instant effects\n   - Accelerations converted to forces\n\n2. **Velocity Update**\n   - Instructions processed (SET, ADD, IMPULSE)\n   - Resistance applied (ground/air)\n   - Velocity clamped to limits\n\n3. **Position Update**\n   - Delta position = velocity  dt\n   - Collision detection performed\n   - Position adjusted for collisions\n\n4. **State Update**\n   - Final position set\n   - Velocity adjusted for collision response\n   - Physics state updated (Active/Resting)\n\n## Gravity and Buoyancy\n\n### Gravity\n\nApplied based on PhysicsValues:\n\n```java\n// Standard gravity\nVector3d gravity = new Vector3d(0, -9.81, 0);\n\n// With inverted gravity\nif (physicsValues.isInvertedGravity()) {\n    gravity = gravity.negate();\n}\n```\n\n### Buoyancy\n\nWater applies upward force:\n\n```java\n// Buoyancy = displaced water volume  water density  gravity\ndouble displacedVolume = calculateSubmersedVolume(entity, waterLevel);\ndouble buoyancyForce = displacedVolume * DENSITY_WATER * 9.81;\n```\n\n### Fluid Constants\n\n```java\npublic static final double DENSITY_AIR = 1.2;\npublic static final double DENSITY_WATER = 998.0;\n```\n\n## Terminal Velocity\n\nMaximum falling speed:\n\n```java\n// Terminal velocity = sqrt(2mg / (AC_d))\n// m = mass, g = gravity,  = air density, A = cross-section, C_d = drag\npublic static double computeTerminalVelocity(double mass, double dragCoefficient,\n                                              double crossSectionArea) {\n    double gravity = 9.81;\n    return Math.sqrt((2 * mass * gravity) /\n                     (DENSITY_AIR * crossSectionArea * dragCoefficient));\n}\n```\n\n## Usage Examples\n\n### Setting Entity Velocity\n\n```java\nimport com.hypixel.hytale.server.core.modules.physics.component.Velocity;\nimport com.hypixel.hytale.math.Vector3d;\n\npublic void setVelocity(Ref\u003CEntityStore> entityRef,\n                        IComponentAccessor accessor,\n                        Vector3d newVelocity) {\n    Velocity velocity = accessor.getComponent(entityRef, Velocity.getComponentType());\n    velocity.set(newVelocity);\n}\n```\n\n### Applying Force\n\n```java\npublic void applyForce(Ref\u003CEntityStore> entityRef,\n                       IComponentAccessor accessor,\n                       Vector3d force) {\n    Velocity velocity = accessor.getComponent(entityRef, Velocity.getComponentType());\n    velocity.addForce(force);\n}\n```\n\n### Custom Physics Properties\n\n```java\nimport com.hypixel.hytale.server.core.modules.physics.component.PhysicsValues;\n\npublic void setHeavyEntity(Ref\u003CEntityStore> entityRef,\n                           IComponentAccessor accessor) {\n    PhysicsValues physics = accessor.getComponent(entityRef,\n        PhysicsValues.getComponentType());\n\n    physics.setMass(10.0);           // Heavy\n    physics.setDragCoefficient(0.3); // Low drag (faster falling)\n}\n\npublic void setFloatyEntity(Ref\u003CEntityStore> entityRef,\n                            IComponentAccessor accessor) {\n    PhysicsValues physics = accessor.getComponent(entityRef,\n        PhysicsValues.getComponentType());\n\n    physics.setMass(0.1);            // Light\n    physics.setDragCoefficient(2.0); // High drag (slow falling)\n}\n```\n\n### Jump Implementation\n\n```java\npublic void jump(Ref\u003CEntityStore> entityRef,\n                 IComponentAccessor accessor,\n                 double jumpStrength) {\n    Velocity velocity = accessor.getComponent(entityRef, Velocity.getComponentType());\n\n    // Get current velocity\n    Vector3d current = velocity.getVelocity();\n\n    // Set vertical velocity (preserving horizontal)\n    velocity.set(current.x, jumpStrength, current.z);\n}\n```\n\n### Dash Implementation\n\n```java\npublic void dash(Ref\u003CEntityStore> entityRef,\n                 IComponentAccessor accessor,\n                 Vector3d direction,\n                 double dashSpeed) {\n    Velocity velocity = accessor.getComponent(entityRef, Velocity.getComponentType());\n\n    // Create dash velocity config\n    VelocityConfig config = new VelocityConfig();\n    config.groundResistance = 0.7f;  // Quick slowdown\n    config.airResistance = 0.85f;\n\n    // Normalize direction and scale\n    Vector3d dashVelocity = direction.normalize().multiply(dashSpeed);\n\n    // Queue dash instruction\n    velocity.addInstruction(dashVelocity, config, ChangeVelocityType.SET);\n}\n```\n\n## Client Prediction\n\nThe system supports client-side prediction:\n\n```java\n// Server sets authoritative velocity\nvelocity.set(serverVelocity);\n\n// Client velocity used for smooth rendering\nvelocity.setClient(predictedVelocity);\n\n// Get client velocity for rendering\nVector3d renderVelocity = velocity.getClientVelocity();\n```\n\n## Best Practices\n\n1. **Use instructions for controlled changes**: Better resistance control\n2. **Apply forces consistently**: Add forces each tick for continuous effects\n3. **Consider mass**: Heavier entities need more force\n4. **Set appropriate resistance**: Match gameplay feel\n5. **Handle water separately**: Buoyancy and drag change in water\n\n## Related\n\n- [Physics Overview](/api-reference/entities/overview/) - Physics system architecture\n- [Collision System](/api-reference/physics/collision/) - Collision detection\n- [Entity System](/api-reference/entities/overview/) - Entity components","src/content/docs/api-reference/physics/movement.mdx","5b246239681722a0","api-reference/physics/overview",{"id":318,"data":320,"body":325,"filePath":326,"digest":327,"deferredRender":16},{"title":321,"editUrl":16,"head":322,"template":52,"sidebar":323,"pagefind":16,"draft":42},"Physics System Overview",[],{"hidden":42,"attrs":324},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Physics System Overview\n\nThe Physics System handles entity movement, collision detection, and physical simulation. It uses an ECS-based approach with velocity components, collision detection modules, and configurable hitboxes.\n\n## Package Location\n\n- Physics: `com.hypixel.hytale.server.core.modules.physics`\n- Collision: `com.hypixel.hytale.server.core.modules.collision`\n- Hitbox: `com.hypixel.hytale.server.core.modules.entity.hitboxcollision`\n- Velocity: `com.hypixel.hytale.server.core.modules.splitvelocity`\n\n## Architecture\n\n```\n\n                      Physics System                              \n                                                                  \n       \n    Velocity        Collision       Hitbox                 \n    Component       Module          Component              \n       \n                                                              \n                                                              \n     \n                Physics Provider / Systems                      \n               \n     Force     Collision  Movement     Response        \n     Accum.    Detection   Update      Handling        \n               \n     \n\n```\n\n## Core Components\n\n### Velocity Component\n\nStores entity velocity with server and client versions:\n\n```java\npackage com.hypixel.hytale.server.core.modules.physics.component;\n\npublic class Velocity {\n    // Set velocity\n    public void set(double x, double y, double z);\n    public void set(Vector3d velocity);\n\n    // Add force\n    public void addForce(Vector3d force);\n\n    // Get velocity\n    public Vector3d getVelocity();\n    public Vector3d getClientVelocity();\n    public double getSpeed();\n\n    // Instructions for velocity changes\n    public void addInstruction(Vector3d velocity, VelocityConfig config,\n                               ChangeVelocityType type);\n    public List\u003CInstruction> getInstructions();\n}\n```\n\n### PhysicsValues Component\n\nPhysical properties of an entity:\n\n```java\npackage com.hypixel.hytale.server.core.modules.physics.component;\n\npublic class PhysicsValues {\n    // Default values\n    public static final double DEFAULT_MASS = 1.0;\n    public static final double DEFAULT_DRAG_COEFFICIENT = 0.5;\n    public static final boolean DEFAULT_INVERTED_GRAVITY = false;\n\n    // Properties\n    public double getMass();\n    public void setMass(double mass);\n\n    public double getDragCoefficient();\n    public void setDragCoefficient(double coefficient);\n\n    public boolean isInvertedGravity();\n    public void setInvertedGravity(boolean inverted);\n}\n```\n\n### BoundingBox Component\n\nEntity collision bounds:\n\n```java\npackage com.hypixel.hytale.server.core.modules.entity.component;\n\npublic class BoundingBox {\n    // Main bounding box\n    public Box getBoundingBox();\n    public void setBoundingBox(Box box);\n\n    // Detail boxes for complex shapes\n    public Map\u003CString, DetailBox[]> getDetailBoxes();\n    public void setDetailBoxes(Map\u003CString, DetailBox[]> boxes);\n}\n```\n\n## CollisionModule\n\nCentral collision detection system:\n\n```java\npackage com.hypixel.hytale.server.core.modules.collision;\n\npublic class CollisionModule extends JavaPlugin {\n    // Get singleton\n    public static CollisionModule get();\n\n    // Find collisions along movement path\n    public static CollisionResult findCollisions(\n        Box collider,\n        Vector3d position,\n        Vector3d velocity,\n        CollisionResult result,\n        IComponentAccessor accessor\n    );\n\n    // Validate position against collisions\n    public static boolean validatePosition(\n        World world,\n        Box collider,\n        Vector3d position,\n        CollisionResult result\n    );\n\n    // Block collisions (far distance)\n    public static void findBlockCollisionsIterative(...);\n\n    // Block collisions (short distance)\n    public static void findBlockCollisionsShortDistance(...);\n\n    // Entity collisions\n    public static void findCharacterCollisions(...);\n\n    // Intersection detection\n    public static void findIntersections(...);\n}\n```\n\n## Physics Simulation Flow\n\n1. **Force Accumulation**\n   - External forces, accelerations, impulses collected\n   - Gravity applied based on entity properties\n   - Fluid forces (buoyancy, drag) calculated\n\n2. **Velocity Update**\n   - Forces integrated to velocity\n   - Resistance applied (ground/air)\n   - Velocity clamped to limits\n\n3. **Movement Computation**\n   - Delta position calculated from velocity\n   - Swept collision detection performed\n   - Movement path adjusted for collisions\n\n4. **Collision Response**\n   - Block collisions: bounce, slide, or stop\n   - Entity collisions: impact callbacks\n   - Trigger blocks: events fired\n   - Damage blocks: damage applied\n\n5. **State Update**\n   - Position updated\n   - Velocity updated (post-collision)\n   - Physics state set (Active/Resting/Inactive)\n\n## Physics Constants\n\n```java\n// Fluid densities\npublic static final double DENSITY_AIR = 1.2;\npublic static final double DENSITY_WATER = 998.0;\n\n// Material masks\npublic static final int MASK_EMPTY = 1;\npublic static final int MASK_FLUID = 2;\npublic static final int MASK_SOLID = 4;\npublic static final int MASK_SUBMERGED = 8;\npublic static final int MASK_DAMAGE = 16;\n```\n\n## Integration Methods\n\nThe physics system supports multiple numerical integration methods:\n\n| Method | Class | Accuracy | Performance |\n|--------|-------|----------|-------------|\n| Symplectic Euler | `PhysicsBodyStateUpdaterSymplecticEuler` | Low | Fast |\n| Midpoint | `PhysicsBodyStateUpdaterMidpoint` | Medium | Medium |\n| Runge-Kutta 4 | `PhysicsBodyStateUpdaterRK4` | High | Slow |\n\n## Physics States\n\n| State | Description |\n|-------|-------------|\n| `Active` | Actively simulating physics |\n| `Resting` | Stationary on support surface |\n| `Inactive` | Physics simulation disabled |\n\nEntities transition to `Resting` when velocity is near zero and supported by a block. They wake up when support blocks change.\n\n## VelocityConfig\n\nConfigures velocity resistance:\n\n```java\npackage com.hypixel.hytale.server.core.modules.splitvelocity;\n\npublic class VelocityConfig {\n    float groundResistance = 0.82f;\n    float groundResistanceMax;\n    float airResistance = 0.96f;\n    float airResistanceMax;\n    float threshold = 1.0f;\n    ThresholdStyle style;  // Linear or non-linear\n}\n```\n\n## Usage Example\n\n```java\nimport com.hypixel.hytale.server.core.modules.collision.CollisionModule;\nimport com.hypixel.hytale.server.core.modules.collision.CollisionResult;\nimport com.hypixel.hytale.server.core.modules.physics.component.Velocity;\nimport com.hypixel.hytale.server.core.modules.physics.component.PhysicsValues;\nimport com.hypixel.hytale.server.core.modules.entity.component.BoundingBox;\nimport com.hypixel.hytale.math.Box;\nimport com.hypixel.hytale.math.Vector3d;\n\npublic class PhysicsExample {\n    public void applyKnockback(Ref\u003CEntityStore> entityRef,\n                               IComponentAccessor accessor,\n                               Vector3d knockback) {\n        // Get velocity component\n        Velocity velocity = accessor.getComponent(entityRef, Velocity.getComponentType());\n\n        // Apply knockback force\n        velocity.addForce(knockback);\n    }\n\n    public boolean checkCollision(World world,\n                                  Ref\u003CEntityStore> entityRef,\n                                  IComponentAccessor accessor,\n                                  Vector3d movement) {\n        // Get bounding box\n        BoundingBox bbox = accessor.getComponent(entityRef, BoundingBox.getComponentType());\n        Box collider = bbox.getBoundingBox();\n\n        // Get current position\n        TransformComponent transform = accessor.getComponent(entityRef,\n            TransformComponent.getComponentType());\n        Vector3d position = transform.getPosition();\n\n        // Check for collisions\n        CollisionResult result = new CollisionResult();\n        CollisionModule.findCollisions(collider, position, movement, result, accessor);\n\n        return result.hasBlockCollisions();\n    }\n}\n```\n\n## Related Documentation\n\n- [Collision System](/api-reference/physics/collision/) - Collision detection details\n- [Hitbox System](/api-reference/physics/hitboxes/) - Hitbox configuration\n- [Entity Movement](/api-reference/physics/movement/) - Velocity and movement\n- [Entity System](/api-reference/entities/overview/) - Entity components","src/content/docs/api-reference/physics/overview.mdx","10f00894b122c4d5","api-reference/serialization/overview",{"id":328,"data":330,"body":335,"filePath":336,"digest":337,"deferredRender":16},{"title":331,"editUrl":16,"head":332,"template":52,"sidebar":333,"pagefind":16,"draft":42},"Serialization (Codec) System Overview",[],{"hidden":42,"attrs":334},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Serialization (Codec) System Overview\n\nThe Codec System provides serialization and deserialization for BSON and JSON formats. It uses a type-safe, builder-based approach with support for versioning, validation, and polymorphism.\n\n## Package Location\n\n`com.hypixel.hytale.codec`\n\n- Core: `codec/`\n- Builders: `codec/builder/`\n- Built-in Codecs: `codec/codecs/`\n- Validation: `codec/validation/`\n\n## Architecture\n\n```\n\n                       Codec System                               \n                                                                  \n            \n       Codec\u003CT>                    BuilderCodec\u003CT>           \n     (Interface)            (Complex Objects)         \n            \n                                                                 \n                                                                 \n   \n                      Built-in Codecs                           \n           \n     String    Integer    Array         Map            \n     Codec     Codec      Codec         Codec          \n           \n   \n                                                                  \n   \n                     KeyedCodec\u003CT>                              \n                (Field with name + codec)                       \n   \n\n```\n\n## Core Interfaces\n\n### Codec\\\u003CT\\>\n\nThe main serialization interface:\n\n```java\npackage com.hypixel.hytale.codec;\n\npublic interface Codec\u003CT> extends RawJsonCodec\u003CT>, SchemaConvertable\u003CT> {\n    // Decode from BSON\n    T decode(BsonValue bsonValue, ExtraInfo extraInfo);\n\n    // Encode to BSON\n    BsonValue encode(T value, ExtraInfo extraInfo);\n\n    // Decode from JSON\n    T decodeJson(RawJsonReader reader, ExtraInfo extraInfo) throws IOException;\n\n    // Generate JSON schema\n    Schema toSchema(SchemaContext context);\n}\n```\n\n### KeyedCodec\\\u003CT\\>\n\nWraps a codec with a field name:\n\n```java\npackage com.hypixel.hytale.codec;\n\npublic class KeyedCodec\u003CT> {\n    public KeyedCodec(String key, Codec\u003CT> codec);\n\n    // Get value from document (throws if missing)\n    public T get(BsonDocument doc, ExtraInfo info);\n\n    // Get value or null if missing\n    public T getOrNull(BsonDocument doc, ExtraInfo info);\n\n    // Get with default value\n    public T getOrDefault(BsonDocument doc, ExtraInfo info, T defaultValue);\n\n    // Put value into document\n    public void put(BsonDocument doc, T value, ExtraInfo info);\n}\n```\n\nKey names must start with an uppercase letter.\n\n## Built-in Codecs\n\n### Primitive Codecs\n\n| Codec | Java Type | Usage |\n|-------|-----------|-------|\n| `Codec.STRING` | `String` | Text values |\n| `Codec.BOOLEAN` | `Boolean` | True/false |\n| `Codec.INTEGER` | `Integer` | 32-bit integers |\n| `Codec.LONG` | `Long` | 64-bit integers |\n| `Codec.FLOAT` | `Float` | 32-bit floats |\n| `Codec.DOUBLE` | `Double` | 64-bit doubles |\n| `Codec.BYTE` | `Byte` | 8-bit integers |\n| `Codec.SHORT` | `Short` | 16-bit integers |\n\n### Array Codecs\n\n| Codec | Java Type |\n|-------|-----------|\n| `Codec.STRING_ARRAY` | `String[]` |\n| `Codec.INT_ARRAY` | `int[]` |\n| `Codec.LONG_ARRAY` | `long[]` |\n| `Codec.FLOAT_ARRAY` | `float[]` |\n| `Codec.DOUBLE_ARRAY` | `double[]` |\n\n### Utility Codecs\n\n| Codec | Java Type | Description |\n|-------|-----------|-------------|\n| `Codec.UUID_BINARY` | `UUID` | Binary UUID format |\n| `Codec.UUID_STRING` | `UUID` | String UUID format |\n| `Codec.PATH` | `Path` | File path |\n| `Codec.INSTANT` | `Instant` | Timestamp |\n| `Codec.DURATION` | `Duration` | Time duration (string) |\n| `Codec.DURATION_SECONDS` | `Duration` | Time duration (seconds) |\n\n### Collection Codecs\n\n```java\n// Map with string keys\nnew MapCodec\u003C>(valueCodec, HashMap::new);\n\n// Array of objects\nnew ArrayCodec\u003C>(elementCodec, defaultArray);\n\n// Set of values\nnew SetCodec\u003C>(valueCodec, HashSet::new);\n\n// Enum values\nnew EnumCodec\u003C>(MyEnum.class);\n```\n\n## BuilderCodec\n\nFor complex object serialization:\n\n```java\npackage com.hypixel.hytale.codec.builder;\n\npublic class BuilderCodec\u003CT> implements Codec\u003CT> {\n    // Create builder for concrete class\n    public static \u003CT> BuilderCodecBuilder\u003CT> builder(\n        Class\u003CT> clazz,\n        Supplier\u003CT> constructor\n    );\n\n    // Create builder with parent codec (inheritance)\n    public static \u003CT> BuilderCodecBuilder\u003CT> builder(\n        Class\u003CT> clazz,\n        Supplier\u003CT> constructor,\n        BuilderCodec\u003C? super T> parent\n    );\n\n    // Create builder for abstract class\n    public static \u003CT> BuilderCodecBuilder\u003CT> abstractBuilder(Class\u003CT> clazz);\n}\n```\n\n### BuilderCodecBuilder\n\nFluent API for defining codecs:\n\n```java\nBuilderCodec.builder(MyClass.class, MyClass::new)\n    // Add field\n    .append(\n        new KeyedCodec\u003C>(\"FieldName\", Codec.STRING),\n        (obj, value) -> obj.field = value,  // Setter\n        obj -> obj.field                     // Getter\n    )\n    .documentation(\"Field description\")\n    .addValidator(Validators.nonNull())\n    .add()\n\n    // Add more fields...\n\n    // Enable versioning\n    .versioned()\n    .codecVersion(1)\n\n    // Build final codec\n    .build();\n```\n\n## Creating Custom Codecs\n\n### Simple Object\n\n```java\nimport com.hypixel.hytale.codec.Codec;\nimport com.hypixel.hytale.codec.KeyedCodec;\nimport com.hypixel.hytale.codec.builder.BuilderCodec;\nimport com.hypixel.hytale.codec.validation.Validators;\n\npublic class MyConfig {\n    public String name;\n    public float value;\n    public boolean enabled;\n\n    public static final BuilderCodec\u003CMyConfig> CODEC =\n        BuilderCodec.builder(MyConfig.class, MyConfig::new)\n            .append(\n                new KeyedCodec\u003C>(\"Name\", Codec.STRING),\n                (config, name) -> config.name = name,\n                config -> config.name\n            )\n            .addValidator(Validators.nonNull())\n            .documentation(\"Configuration name\")\n            .add()\n\n            .append(\n                new KeyedCodec\u003C>(\"Value\", Codec.FLOAT),\n                (config, value) -> config.value = value,\n                config -> config.value\n            )\n            .documentation(\"Numeric value\")\n            .add()\n\n            .append(\n                new KeyedCodec\u003C>(\"Enabled\", Codec.BOOLEAN),\n                (config, enabled) -> config.enabled = enabled,\n                config -> config.enabled\n            )\n            .add()\n\n            .build();\n}\n```\n\n### With Inheritance\n\n```java\npublic abstract class BaseConfig {\n    public String id;\n\n    public static final BuilderCodec\u003CBaseConfig> BASE_CODEC =\n        BuilderCodec.abstractBuilder(BaseConfig.class)\n            .appendInherited(\n                new KeyedCodec\u003C>(\"Id\", Codec.STRING),\n                (obj, id) -> obj.id = id,\n                obj -> obj.id,\n                (obj, parent) -> obj.id = parent.id\n            )\n            .addValidator(Validators.nonNull())\n            .add()\n            .build();\n}\n\npublic class DerivedConfig extends BaseConfig {\n    public int level;\n\n    public static final BuilderCodec\u003CDerivedConfig> CODEC =\n        BuilderCodec.builder(DerivedConfig.class, DerivedConfig::new,\n            BaseConfig.BASE_CODEC)\n            .append(\n                new KeyedCodec\u003C>(\"Level\", Codec.INTEGER),\n                (obj, level) -> obj.level = level,\n                obj -> obj.level\n            )\n            .add()\n            .build();\n}\n```\n\n### Polymorphic Types\n\n```java\nimport com.hypixel.hytale.codec.polymorphic.CodecMapCodec;\n\npublic abstract class ActionConfig {\n    // Polymorphic dispatch by \"Type\" field\n    public static final CodecMapCodec\u003CActionConfig> CODEC =\n        new CodecMapCodec\u003C>(\"Type\");\n\n    public static final BuilderCodec\u003CActionConfig> BASE_CODEC =\n        BuilderCodec.abstractBuilder(ActionConfig.class)\n            .build();\n}\n\npublic class DamageActionConfig extends ActionConfig {\n    public float damage;\n\n    public static final BuilderCodec\u003CDamageActionConfig> CODEC =\n        BuilderCodec.builder(DamageActionConfig.class, DamageActionConfig::new,\n            ActionConfig.BASE_CODEC)\n            .append(\n                new KeyedCodec\u003C>(\"Damage\", Codec.FLOAT),\n                (obj, damage) -> obj.damage = damage,\n                obj -> obj.damage\n            )\n            .add()\n            .build();\n\n    // Register this type\n    static {\n        ActionConfig.CODEC.register(\"Damage\", DamageActionConfig.class,\n            DamageActionConfig.CODEC);\n    }\n}\n```\n\nJSON usage:\n```json\n{\n  \"Type\": \"Damage\",\n  \"Damage\": 10.0\n}\n```\n\n## Validation\n\nBuilt-in validators:\n\n```java\nimport com.hypixel.hytale.codec.validation.Validators;\n\n// Non-null validation\n.addValidator(Validators.nonNull())\n\n// Range validation\n.addValidator(Validators.range(0.0, 100.0))\n\n// Greater than\n.addValidator(Validators.greaterThan(0))\n\n// Less than\n.addValidator(Validators.lessThan(1000))\n\n// Custom validation\n.addValidator((value, info) -> {\n    if (!isValid(value)) {\n        throw new ValidationException(\"Invalid value\");\n    }\n})\n```\n\n## Versioning\n\nSupport for schema evolution:\n\n```java\nBuilderCodec.builder(MyClass.class, MyClass::new)\n    // Field added in version 1\n    .append(new KeyedCodec\u003C>(\"OldField\", Codec.STRING), ...)\n    .codecVersion(1, 2)  // Versions 1-2\n    .add()\n\n    // Field added in version 2\n    .append(new KeyedCodec\u003C>(\"NewField\", Codec.INTEGER), ...)\n    .codecVersion(2)  // Version 2+\n    .add()\n\n    .versioned()\n    .build();\n```\n\n## ExtraInfo Context\n\nContext passed during serialization:\n\n```java\npackage com.hypixel.hytale.codec;\n\npublic class ExtraInfo {\n    // Get thread-local instance\n    public static ExtraInfo get();\n\n    // Current decode path\n    public List\u003CString> getPath();\n\n    // Add validation error\n    public void addError(String message);\n\n    // Check for errors\n    public boolean hasErrors();\n}\n```\n\n## Using Codecs\n\n### Encoding (Object to BSON)\n\n```java\nimport org.bson.BsonValue;\nimport com.hypixel.hytale.codec.ExtraInfo;\n\nMyConfig config = new MyConfig();\nconfig.name = \"Test\";\nconfig.value = 42.0f;\nconfig.enabled = true;\n\nBsonValue bson = MyConfig.CODEC.encode(config, ExtraInfo.get());\n```\n\n### Decoding (BSON to Object)\n\n```java\nimport org.bson.BsonDocument;\nimport com.hypixel.hytale.codec.ExtraInfo;\n\nBsonDocument doc = BsonDocument.parse(\"{\\\"Name\\\": \\\"Test\\\", \\\"Value\\\": 42.0}\");\n\nMyConfig config = MyConfig.CODEC.decode(doc, ExtraInfo.get());\n```\n\n### JSON Decoding\n\n```java\nimport com.hypixel.hytale.codec.json.RawJsonReader;\nimport java.io.StringReader;\n\nString json = \"{\\\"Name\\\": \\\"Test\\\", \\\"Value\\\": 42.0}\";\nRawJsonReader reader = new RawJsonReader(new StringReader(json));\n\nMyConfig config = MyConfig.CODEC.decodeJson(reader, ExtraInfo.get());\n```\n\n## Best Practices\n\n1. **Use KeyedCodec**: Always use uppercase field names\n2. **Add validators**: Validate required fields with `Validators.nonNull()`\n3. **Document fields**: Use `.documentation()` for clarity\n4. **Version your codecs**: Enable versioning for evolution\n5. **Register polymorphic types**: Use `CodecMapCodec` for type dispatch\n6. **Reuse codecs**: Store codecs as `static final` fields\n\n## Related\n\n- [Asset System](/api-reference/assets/overview/) - Asset serialization\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Manifest format\n- [Registries](/core-concepts/registries/) - Codec registration","src/content/docs/api-reference/serialization/overview.mdx","b58fffc59e6b3c4a","api-reference/server/configuration",{"id":338,"data":340,"body":345,"filePath":346,"digest":347,"deferredRender":16},{"title":341,"editUrl":16,"head":342,"template":52,"sidebar":343,"pagefind":16,"draft":42},"Server Configuration",[],{"hidden":42,"attrs":344},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Server Configuration\n\nThe server configuration system manages server settings, world configuration, and runtime options.\n\n## Package Location\n\n`com.hypixel.hytale.server.core`\n\n## Configuration Files\n\n| File | Location | Description |\n|------|----------|-------------|\n| `config.json` | Universe root | Main server config |\n| `config.json` | `worlds/{name}/` | Per-world config |\n| `{uuid}.json` | `players/` | Player data |\n\n## HytaleServerConfig\n\nMain server configuration (loaded from `config.json`):\n\n```java\npackage com.hypixel.hytale.server.core;\n\npublic class HytaleServerConfig {\n    // Basic settings\n    String serverName = \"Hytale Server\";\n    String motd = \"\";\n    String password = \"\";\n    int maxPlayers = 100;\n    int maxViewRadius = 32;\n\n    // Nested configs\n    Defaults defaults;\n    ConnectionTimeouts connectionTimeouts;\n    RateLimitConfig rateLimit;\n\n    // Plugin/module configuration\n    Map\u003CString, Module> modules;\n    Map\u003CPluginIdentifier, ModConfig> mods;\n    Map\u003CString, Level> logLevels;\n\n    // Storage\n    PlayerStorageProvider playerStorage;\n    BsonDocument authCredentialStore;\n\n    // Loading\n    public static HytaleServerConfig load();\n    public void save();\n}\n```\n\n### Server Config Fields\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `ServerName` | String | \"Hytale Server\" | Server display name |\n| `MOTD` | String | \"\" | Message of the day |\n| `Password` | String | \"\" | Server password |\n| `MaxPlayers` | int | 100 | Maximum players |\n| `MaxViewRadius` | int | 32 | Max chunk view radius |\n\n### Defaults Config\n\n```java\npublic static class Defaults {\n    String world = \"default\";\n    GameMode gameMode = GameMode.ADVENTURE;\n}\n```\n\n### ConnectionTimeouts Config\n\n```java\npublic static class ConnectionTimeouts {\n    Duration initialTimeout = Duration.ofSeconds(10);\n    Duration authTimeout = Duration.ofSeconds(30);\n    Duration playTimeout = Duration.ofMinutes(1);\n    Map\u003CString, Duration> joinTimeouts = new HashMap\u003C>();\n}\n```\n\n### RateLimitConfig\n\n```java\npublic static class RateLimitConfig {\n    boolean enabled = true;\n    int packetsPerSecond = 2000;\n    int burstCapacity = 500;\n}\n```\n\n### Example config.json\n\n```json\n{\n  \"ServerName\": \"My Hytale Server\",\n  \"MOTD\": \"Welcome to Hytale!\",\n  \"Password\": \"\",\n  \"MaxPlayers\": 100,\n  \"MaxViewRadius\": 32,\n  \"Defaults\": {\n    \"World\": \"default\",\n    \"GameMode\": \"Adventure\"\n  },\n  \"ConnectionTimeouts\": {\n    \"InitialTimeout\": \"PT10S\",\n    \"AuthTimeout\": \"PT30S\",\n    \"PlayTimeout\": \"PT1M\"\n  },\n  \"RateLimit\": {\n    \"Enabled\": true,\n    \"PacketsPerSecond\": 2000,\n    \"BurstCapacity\": 500\n  },\n  \"LogLevels\": {},\n  \"Modules\": {},\n  \"Mods\": {},\n  \"PlayerStorage\": {\n    \"Type\": \"Hytale\"\n  }\n}\n```\n\n## WorldConfig\n\nPer-world configuration (in `worlds/{name}/config.json`):\n\n```java\npackage com.hypixel.hytale.server.core.universe.world;\n\npublic class WorldConfig {\n    // Identity\n    UUID uuid = UUID.randomUUID();\n    String displayName;\n    long seed = System.currentTimeMillis();\n\n    // Providers\n    ISpawnProvider spawnProvider;\n    IWorldGenProvider worldGen;\n    IWorldMapProvider worldMap;\n    IChunkStorageProvider chunkStorage;\n\n    // World rules\n    boolean isTicking = true;\n    boolean isBlockTicking = true;\n    boolean isPvpEnabled = false;\n    boolean isFallDamageEnabled = true;\n    GameMode gameMode;\n\n    // Time and weather\n    boolean isGameTimePaused = false;\n    Instant gameTime;  // Default: 5:30 AM\n    String forcedWeather;\n\n    // Spawning\n    boolean isSpawningNPC = true;\n    boolean isSpawnMarkersEnabled = true;\n    boolean isAllNPCFrozen = false;\n\n    // Saving\n    boolean isSavingPlayers = true;\n    boolean isSavingChunks = true;\n    boolean saveNewChunks = true;\n    boolean isUnloadingChunks = true;\n\n    // Cleanup\n    boolean deleteOnUniverseStart = false;\n    boolean deleteOnRemove = false;\n}\n```\n\n### World Config Fields\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `UUID` | UUID | Random | World identifier |\n| `DisplayName` | String | null | Display name |\n| `Seed` | long | currentTimeMillis | World seed |\n| `IsTicking` | boolean | true | Enable world ticking |\n| `IsBlockTicking` | boolean | true | Enable block updates |\n| `IsPvpEnabled` | boolean | false | Enable PvP |\n| `IsFallDamageEnabled` | boolean | true | Enable fall damage |\n| `GameMode` | GameMode | Adventure | Default game mode |\n| `IsSpawningNPC` | boolean | true | Enable NPC spawning |\n\n### ChunkConfig\n\n```java\npublic static class ChunkConfig {\n    Box2D pregenerateRegion;  // Default: -512 to +512\n    Box2D keepLoadedRegion;   // Chunks to keep loaded\n}\n```\n\n### Example world config.json\n\n```json\n{\n  \"UUID\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"DisplayName\": \"default\",\n  \"Seed\": 1234567890,\n  \"IsTicking\": true,\n  \"IsBlockTicking\": true,\n  \"IsPvpEnabled\": false,\n  \"IsFallDamageEnabled\": true,\n  \"GameMode\": \"Adventure\",\n  \"GameplayConfig\": \"Default\",\n  \"IsSpawningNPC\": true,\n  \"IsGameTimePaused\": false,\n  \"IsSavingPlayers\": true,\n  \"IsSavingChunks\": true,\n  \"ChunkConfig\": {\n    \"PregenerateRegion\": [[-512, -512], [512, 512]]\n  },\n  \"WorldGen\": {\n    \"Type\": \"Hytale\",\n    \"Name\": \"Default\"\n  }\n}\n```\n\n## Command-Line Options\n\n| Option | Parameter | Default | Description |\n|--------|-----------|---------|-------------|\n| `--universe` | Path | \"universe\" | Universe directory |\n| `--assets` | Path | \"../HytaleAssets\" | Asset directory |\n| `--mods` | Paths | - | Additional mod dirs |\n| `--bind` / `-b` | Address | 0.0.0.0:5520 | Bind address |\n| `--transport` / `-t` | Type | QUIC | Transport type |\n| `--singleplayer` | - | - | Singleplayer mode |\n| `--bare` | - | - | Bare mode |\n| `--auth-mode` | Mode | AUTHENTICATED | Auth mode |\n| `--backup` | - | - | Enable backups |\n| `--backup-frequency` | minutes | 30 | Backup interval |\n| `--backup-dir` | Path | - | Backup directory |\n| `--backup-max-count` | count | 5 | Max backups |\n\n### Auth Modes\n\n| Mode | Description |\n|------|-------------|\n| `AUTHENTICATED` | Full authentication required |\n| `OFFLINE` | Offline mode |\n| `INSECURE` | Insecure (dev) mode |\n\n### Transport Types\n\n| Type | Description |\n|------|-------------|\n| `TCP` | Standard TCP |\n| `QUIC` | QUIC protocol |\n\n## Constants\n\nStatic server constants:\n\n```java\npackage com.hypixel.hytale.server.core;\n\npublic class Constants {\n    public static final boolean DEBUG = true;\n    public static final boolean SINGLEPLAYER;  // From --singleplayer\n    public static final boolean ALLOWS_SELF_OP_COMMAND;  // From --allow-op\n    public static final boolean FRESH_UNIVERSE;  // True if new universe\n    public static final Path UNIVERSE_PATH;  // From --universe\n    public static final PluginManifest[] CORE_PLUGINS;  // 32 built-in plugins\n}\n```\n\n## PlayerStorage\n\nPlayer data storage configuration:\n\n```java\npublic interface PlayerStorageProvider {\n    String getId();\n}\n\n// Default implementation\npublic class DiskPlayerStorageProvider implements PlayerStorageProvider {\n    public static final String ID = \"Disk\";\n    Path path;  // Default: {universe}/players/\n}\n```\n\n### Player File Format\n\n`{uuid}.json`:\n```json\n{\n  \"UUID\": \"...\",\n  \"Username\": \"PlayerName\",\n  \"LastWorld\": \"default\",\n  \"Position\": [0, 64, 0],\n  \"Rotation\": [0, 0, 0],\n  \"Inventory\": { ... },\n  \"Effects\": [ ... ]\n}\n```\n\n## Accessing Configuration\n\n### Server Config\n\n```java\nimport com.hypixel.hytale.server.HytaleServer;\nimport com.hypixel.hytale.server.core.HytaleServerConfig;\n\n// Get server config\nHytaleServerConfig config = HytaleServer.get().getConfig();\n\n// Access fields\nString serverName = config.getServerName();\nint maxPlayers = config.getMaxPlayers();\n\n// Modify and save\nconfig.setMotd(\"New MOTD\");\nconfig.markChanged();\nconfig.save();\n```\n\n### World Config\n\n```java\nimport com.hypixel.hytale.server.core.universe.world.World;\nimport com.hypixel.hytale.server.core.universe.world.WorldConfig;\n\n// Get world config\nWorld world = Universe.get().getWorld(\"default\");\nWorldConfig worldConfig = world.getConfig();\n\n// Access fields\nboolean pvpEnabled = worldConfig.isPvpEnabled();\nGameMode gameMode = worldConfig.getGameMode();\n```\n\n## Module Configuration\n\nExtensible module configuration:\n\n```java\npublic static class Module {\n    Boolean enabled;\n    Map\u003CString, Module> modules;\n    BsonDocument document;  // Raw BSON for custom config\n}\n```\n\n### Example Module Config\n\n```json\n{\n  \"Modules\": {\n    \"MyPlugin\": {\n      \"Enabled\": true,\n      \"CustomSetting\": \"value\",\n      \"Modules\": {\n        \"SubModule\": {\n          \"Enabled\": false\n        }\n      }\n    }\n  }\n}\n```\n\n## Best Practices\n\n1. **Use Duration strings**: Use ISO-8601 format for durations (e.g., \"PT10S\")\n2. **Don't modify core constants**: Constants class values are read-only\n3. **Mark changes**: Call `markChanged()` before save\n4. **Use providers**: Use storage providers for custom backends\n5. **Validate config**: Check values after loading\n\n## Related\n\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Plugin config\n- [World System](/api-reference/world/overview/) - World management\n- [Permission System](/api-reference/permissions/overview/) - Permission config","src/content/docs/api-reference/server/configuration.mdx","0fa426bcdeae3d5f","api-reference/worldgen/overview",{"id":348,"data":350,"body":355,"filePath":356,"digest":357,"deferredRender":16},{"title":351,"editUrl":16,"head":352,"template":52,"sidebar":353,"pagefind":16,"draft":42},"World Generation Overview",[],{"hidden":42,"attrs":354},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# World Generation Overview\n\nThe World Generation system creates terrain, structures, and biomes for Hytale worlds. It uses a procedural generation pipeline with zones, biomes, caves, and prefabs.\n\n## Package Location\n\n- Providers: `com.hypixel.hytale.server.core.universe.world.worldgen.provider`\n- Hytale generator: `com.hypixel.hytale.server.worldgen`\n- Generated chunks: `com.hypixel.hytale.server.core.universe.world.worldgen`\n\n## Architecture\n\n```\n\n                    World Generation                          \n  \n                HytaleWorldGenProvider                      \n    \n                    ChunkGenerator                        \n         \n      ZonePattern    BiomePattern   CaveGenerator \n      Generator      Generator                    \n         \n         \n      Heightmap      Prefab         Populator     \n      Generator      Generator                    \n         \n    \n  \n\n```\n\n## World Gen Providers\n\n### IWorldGenProvider Interface\n\n```java\npublic interface IWorldGenProvider {\n    IWorldGen getGenerator() throws WorldGenLoadException;\n}\n```\n\n### HytaleWorldGenProvider\n\nThe default world generation provider for Hytale:\n\n```java\npublic class HytaleWorldGenProvider implements IWorldGenProvider {\n    public static final String ID = \"Hytale\";\n\n    // Configuration\n    String name = \"Default\";  // Generator name\n    String path;              // Custom path (optional)\n}\n```\n\n### World Config Usage\n\n```json\n{\n  \"WorldGenProvider\": {\n    \"Type\": \"Hytale\",\n    \"Name\": \"MyWorldGen\",\n    \"Path\": \"path/to/worldgen/config\"\n  }\n}\n```\n\n### Built-in Providers\n\n| Provider | Description |\n|----------|-------------|\n| `HytaleWorldGenProvider` | Full procedural terrain (in `server.worldgen` package) |\n| `FlatWorldGenProvider` | Flat terrain |\n| `VoidWorldGenProvider` | Empty void world |\n| `DummyWorldGenProvider` | No generation |\n| `HandleProvider` | Custom handle-based generator (in `builtin.hytalegenerator`) |\n\n## ChunkGenerator\n\nThe core class that generates chunks:\n\n```java\npublic class ChunkGenerator implements IBenchmarkableWorldGen, IWorldMapProvider {\n    // Pool size based on CPU cores\n    public static final int POOL_SIZE = Math.max(2,\n        (int) Math.ceil(Runtime.getRuntime().availableProcessors() * 0.75));\n\n    // Get zone data at coordinates\n    public ZoneBiomeResult getZoneBiomeResultAt(int seed, int x, int z);\n\n    // Get height at coordinates\n    public int getHeight(int seed, int x, int z);\n\n    // Get cave data\n    public Cave getCave(CaveType caveType, int seed, int x, int z);\n\n    // Get spawn points\n    public Transform[] getSpawnPoints(int seed);\n}\n```\n\n### Generation Pipeline\n\n1. **Zone Generation**: Determine zone at position\n2. **Biome Generation**: Determine biome within zone\n3. **Heightmap**: Generate terrain height\n4. **Block Placement**: Place blocks based on layers\n5. **Cave Carving**: Carve caves and caverns\n6. **Prefab Placement**: Place structures\n7. **Population**: Add details (ores, plants, etc.)\n\n## Zones\n\nZones are large-scale regions of the world with distinct generation rules.\n\n### Zone Record\n\n```java\npublic record Zone(\n    int id,\n    String name,\n    ZoneDiscoveryConfig discoveryConfig,\n    CaveGenerator caveGenerator,\n    BiomePatternGenerator biomePatternGenerator,\n    UniquePrefabContainer uniquePrefabContainer\n) {}\n```\n\n### Zone Configuration\n\n```json\n{\n  \"Id\": 1,\n  \"Name\": \"Plains\",\n  \"DiscoveryConfig\": {\n    \"DiscoverKey\": \"zone_plains\",\n    \"DiscoverRadius\": 100\n  },\n  \"CaveGenerator\": \"DefaultCaves\",\n  \"BiomePattern\": \"plains_biomes.png\"\n}\n```\n\n### Zone Pattern Provider\n\nGenerates zone layout based on patterns:\n\n```java\npublic class ZonePatternProvider {\n    // Zone pattern generation\n}\n\npublic class ZonePatternGenerator {\n    // Generate zone at coordinates\n}\n```\n\n## Biomes\n\nBiomes define terrain characteristics within zones.\n\n### Biome Class\n\n```java\npublic abstract class Biome {\n    int id;\n    String name;\n    BiomeInterpolation interpolation;\n    IHeightThresholdInterpreter heightmapInterpreter;\n\n    // Containers\n    CoverContainer coverContainer;       // Surface cover (grass, etc.)\n    LayerContainer layerContainer;       // Block layers\n    PrefabContainer prefabContainer;     // Structures\n    TintContainer tintContainer;         // Color tinting\n    EnvironmentContainer environmentContainer;  // Environment settings\n    WaterContainer waterContainer;       // Water features\n    FadeContainer fadeContainer;         // Biome transitions\n\n    // Noise\n    NoiseProperty heightmapNoise;\n\n    // Visual\n    int mapColor;\n}\n```\n\n### Biome Containers\n\n| Container | Description |\n|-----------|-------------|\n| `CoverContainer` | Surface blocks (grass, snow) |\n| `LayerContainer` | Block layer definitions |\n| `PrefabContainer` | Structure placement |\n| `TintContainer` | Block tinting rules |\n| `EnvironmentContainer` | Environment settings |\n| `WaterContainer` | Water/fluid settings |\n| `FadeContainer` | Transition rules |\n\n### Layer Container\n\nDefines block layers from surface to bedrock:\n\n```json\n{\n  \"Layers\": [\n    {\n      \"Block\": \"Grass\",\n      \"Depth\": 1\n    },\n    {\n      \"Block\": \"Dirt\",\n      \"Depth\": 3\n    },\n    {\n      \"Block\": \"Stone\",\n      \"Depth\": -1\n    }\n  ]\n}\n```\n\n## Cave Generation\n\n### CaveGenerator\n\n```java\npublic class CaveGenerator {\n    // Generate caves for a region\n}\n\npublic enum CaveType {\n    // Cave type definitions\n}\n\npublic class Cave {\n    // Cave data\n}\n```\n\n### Cave Configuration\n\n```json\n{\n  \"CaveType\": \"Standard\",\n  \"Frequency\": 0.5,\n  \"MinHeight\": 10,\n  \"MaxHeight\": 64,\n  \"Radius\": {\n    \"Min\": 2,\n    \"Max\": 5\n  }\n}\n```\n\n## Prefabs\n\nPrefabs are pre-built structures placed during generation.\n\n### PrefabContainer\n\n```java\npublic class PrefabContainer {\n    // Prefab placement rules\n}\n\npublic class PrefabLoadingCache {\n    // Cache for loaded prefabs\n}\n```\n\n### Prefab Configuration\n\n```json\n{\n  \"Prefabs\": [\n    {\n      \"Id\": \"Village_House\",\n      \"Chance\": 0.1,\n      \"MinDistance\": 100,\n      \"GroundLevel\": \"Surface\"\n    }\n  ]\n}\n```\n\n### Unique Prefabs\n\nSpecial one-per-world prefabs:\n\n```java\npublic class UniquePrefabContainer {\n    // Unique prefab management\n\n    public static class UniquePrefabEntry {\n        boolean isSpawnLocation();\n        Vector3i getPosition();\n        Vector3d getSpawnOffset();\n        Rotation getRotation();\n    }\n}\n```\n\n## Populators\n\nPopulators add details after basic terrain is generated.\n\n### Built-in Populators\n\n| Populator | Description |\n|-----------|-------------|\n| `BlockPopulator` | Place additional blocks |\n| `CavePopulator` | Carve caves |\n| `WaterPopulator` | Add water features |\n| `PrefabPopulator` | Place structures |\n\n### Populator Interface\n\n```java\npublic interface IPopulator {\n    void populate(GeneratedChunk chunk, Random random);\n}\n```\n\n## Generated Chunk\n\nThe output of chunk generation:\n\n```java\npublic class GeneratedChunk {\n    // Block data\n    GeneratedBlockChunk blockChunk;\n\n    // Block states\n    GeneratedBlockStateChunk blockStateChunk;\n\n    // Entities\n    GeneratedEntityChunk entityChunk;\n}\n```\n\n## Noise Functions\n\nWorld generation uses noise for natural variation.\n\n### NoiseProperty\n\n```java\npublic class NoiseProperty {\n    // Noise configuration\n}\n```\n\n### Height Threshold Interpreter\n\n```java\npublic interface IHeightThresholdInterpreter {\n    // Interpret height thresholds for biome-specific terrain\n}\n```\n\n## Procedural Library\n\nThe procedural library provides tools for generation:\n\n### Conditions\n\n```java\n// Height-based conditions\nIHeightThresholdInterpreter\n\n// Block-based conditions\nHashSetBlockFluidCondition\nFilteredBlockFluidCondition\nBlockMaskCondition\n```\n\n### Property Suppliers\n\n```java\nICoordinateDoubleSupplier\nConstantCoordinateDoubleSupplier\nRandomCoordinateDoubleSupplier\n```\n\n## World Bounds\n\n```java\npublic interface IWorldBounds {\n    int getMinX();\n    int getMaxX();\n    int getMinZ();\n    int getMaxZ();\n}\n\npublic interface IChunkBounds {\n    int getMinChunkX();\n    int getMaxChunkX();\n    int getMinChunkZ();\n    int getMaxChunkZ();\n}\n```\n\n## Caching\n\nWorld generation uses extensive caching:\n\n```java\npublic class ChunkGeneratorCache {\n    // Cache zone/biome results\n    // Cache heights\n    // Cache interpolated values\n}\n\npublic class CaveGeneratorCache {\n    // Cache cave data\n}\n\npublic class PrefabLoadingCache {\n    // Cache loaded prefabs\n}\n```\n\n## Configuration Files\n\n### World.json\n\nMain world generation configuration:\n\n```json\n{\n  \"Zones\": \"zones/\",\n  \"DefaultZone\": \"Plains\",\n  \"SeaLevel\": 64,\n  \"WorldHeight\": 256,\n  \"Caves\": {\n    \"Enabled\": true,\n    \"Types\": [\"Standard\", \"Cavern\"]\n  }\n}\n```\n\n### Zone Configuration\n\nEach zone has its own configuration:\n\n```\nworldgen/\n World.json\n zones/\n    Plains/\n       zone.json\n       biomes/\n           Grassland.json\n           Forest.json\n    Mountains/\n        zone.json\n        biomes/\n            Alpine.json\n prefabs/\n     village/\n     dungeons/\n```\n\n## Custom World Generation\n\n### Implementing IWorldGenProvider\n\n```java\npublic class MyWorldGenProvider implements IWorldGenProvider {\n    public static final BuilderCodec\u003CMyWorldGenProvider> CODEC =\n        BuilderCodec.builder(MyWorldGenProvider.class, MyWorldGenProvider::new)\n            // Add configuration fields\n            .build();\n\n    @Override\n    public IWorldGen getGenerator() throws WorldGenLoadException {\n        return new MyChunkGenerator();\n    }\n}\n```\n\n### Registering Provider\n\n```java\n@Override\nprotected void setup() {\n    // Register world gen provider type\n    getCodecRegistry().register(\n        IWorldGenProvider.CODEC,\n        \"MyPlugin_WorldGen\",\n        MyWorldGenProvider.CODEC\n    );\n}\n```\n\n## Timings and Metrics\n\n```java\npublic class WorldGenTimingsCollector {\n    // Collect generation timings\n}\n\n// ChunkGenerator implements MetricProvider\npublic interface MetricProvider {\n    MetricResults getMetrics();\n}\n```\n\n## Best Practices\n\n1. **Use caching**: Leverage built-in caches for performance\n2. **Async generation**: Use thread pool for heavy operations\n3. **Seed consistency**: Ensure deterministic generation from seed\n4. **Validate output**: Use `ValidatableWorldGen` interface\n5. **Profile performance**: Use benchmarking tools\n6. **Modular design**: Separate zones, biomes, and populators\n\n## Related\n\n- [World System](/api-reference/world/overview/) - World management\n- [Block System](/api-reference/blocks/overview/) - Block types\n- [Asset System](/api-reference/assets/overview/) - Prefab assets","src/content/docs/api-reference/worldgen/overview.mdx","895fa296eb9aa61e","api-reference/networking/client-sync",{"id":358,"data":360,"body":365,"filePath":366,"digest":367,"deferredRender":16},{"title":361,"editUrl":16,"head":362,"template":52,"sidebar":363,"pagefind":16,"draft":42},"Client Synchronization",[],{"hidden":42,"attrs":364},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Client Synchronization\n\nThe client synchronization system replicates server state to connected clients. It uses delta encoding to send only changed data and visibility culling to reduce bandwidth.\n\n## Package Location\n\n- Entity Tracker: `com.hypixel.hytale.server.core.modules.entity.tracker`\n- Chunk Systems: `com.hypixel.hytale.server.core.universe.world.chunk.systems`\n- Protocol: `com.hypixel.hytale.protocol.packets`\n\n## Architecture Overview\n\n```\n\n                  Synchronization Pipeline                        \n                                                                  \n            \n   State Change  Visibility    Queue Updates      \n   (Component)       Detection         (Delta Encoding)   \n            \n                                                                \n                                            \n                                             SendPackets       \n                                             (Batch Send)      \n                                            \n                                                                \n                                            \n                                               Client          \n                                            \n\n```\n\n## Entity Synchronization\n\n### NetworkId Component\n\nEach networked entity has a unique identifier:\n\n```java\npackage com.hypixel.hytale.server.core.modules.entity.tracker;\n\npublic class NetworkId {\n    private int id;  // Unique network identifier\n}\n```\n\n### Visibility System\n\nThe system tracks which entities are visible to each player:\n\n| Component | Description |\n|-----------|-------------|\n| `EntityViewer` | Tracks visible entities for a player |\n| `Visible` | Tracks which players can see an entity |\n\n### System Groups\n\nEntity synchronization runs in ordered system groups:\n\n| Group | Purpose |\n|-------|---------|\n| `FIND_VISIBLE_ENTITIES_GROUP` | Spatial queries for visibility |\n| `QUEUE_UPDATE_GROUP` | Queue component changes |\n| `SEND_PACKET_GROUP` | Send packets to clients |\n\n### Synchronization Flow\n\n1. **State Change**: Entity component is modified\n2. **Mark Dirty**: `EffectControllerComponent` marks entity as \"network outdated\"\n3. **Visibility Check**: Systems determine which players can see the entity\n4. **Queue Update**: `QueueComponentUpdates` creates delta update objects\n5. **Build Packet**: Updates collected into `EntityUpdates` packet\n6. **Send**: Packet sent to player clients\n\n### EntityUpdates Packet\n\nThe main packet for entity state synchronization:\n\n```java\n// Packet ID: 161 (compressed)\npublic class EntityUpdates {\n    int[] removed;           // Entity IDs to remove\n    EntityUpdate[] updates;  // State updates\n}\n\npublic class EntityUpdate {\n    int networkId;                    // Entity network ID\n    ComponentUpdateType[] removed;    // Components to remove\n    ComponentUpdate[] updates;        // Component updates\n}\n```\n\n### Component Update Types\n\n25 component types can be synchronized:\n\n| Type | Description |\n|------|-------------|\n| `Nameplate` | Display names |\n| `UIComponents` | Health bars, indicators |\n| `CombatText` | Damage numbers |\n| `Model` | Entity model |\n| `PlayerSkin` | Player skin data |\n| `Item` | Held/displayed item |\n| `Block` | Block-form entity |\n| `Equipment` | Equipment loadout |\n| `EntityStats` | Stats and attributes |\n| `Transform` | Position, rotation, scale |\n| `MovementStates` | Movement flags |\n| `EntityEffects` | Active effects/buffs |\n| `Interactions` | Interaction options |\n| `DynamicLight` | Light emission |\n| `Interactable` | Can be interacted with |\n| `Intangible` | No collision |\n| `Invulnerable` | Cannot be damaged |\n| `RespondToHit` | Hit response behavior |\n| `HitboxCollision` | Collision settings |\n| `Repulsion` | Entity repulsion |\n| `Prediction` | Client prediction ID |\n| `Audio` | Attached audio |\n| `Mounted` | Mount state |\n| `NewSpawn` | Newly spawned flag |\n| `ActiveAnimations` | Playing animations |\n\n### ComponentUpdate Fields\n\nEach `ComponentUpdate` can contain:\n\n```java\npublic class ComponentUpdate {\n    // Display\n    Nameplate nameplate;\n    EntityUIComponent[] uiComponents;\n    CombatText combatText;\n\n    // Visuals\n    Model model;\n    PlayerSkin playerSkin;\n    Item item;\n    Block block;\n    Equipment equipment;\n\n    // State\n    EntityStats entityStats;\n    Transform transform;\n    MovementStates movementStates;\n    EntityEffect[] entityEffects;\n\n    // Interactions\n    Interaction[] interactions;\n    boolean interactable;\n    boolean intangible;\n    boolean invulnerable;\n\n    // Physics\n    HitboxCollision hitboxCollision;\n    Repulsion repulsion;\n    int predictionId;\n\n    // Effects\n    DynamicLight dynamicLight;\n    Audio audio;\n    boolean mounted;\n    boolean newSpawn;\n    Animation[] activeAnimations;\n}\n```\n\n## Chunk Synchronization\n\n### SetChunk Packet\n\nSends complete chunk data to clients:\n\n```java\n// Packet ID: 131 (compressed, max 12MB)\npublic class SetChunk {\n    int x, y, z;           // Chunk coordinates\n    byte[] localLight;     // Local light data\n    byte[] globalLight;    // Global light data\n    byte[] data;           // Block data\n}\n```\n\n### UnloadChunk Packet\n\nRemoves chunk from client:\n\n```java\n// Packet ID: 135 (8 bytes)\npublic class UnloadChunk {\n    int chunkX;\n    int chunkZ;\n}\n```\n\n### Block Updates\n\nSingle block changes:\n\n```java\n// Packet ID: 140\npublic class ServerSetBlock {\n    int x, y, z;      // Block coordinates\n    int blockId;      // Block type ID\n    byte filler;      // Filler data\n    byte rotation;    // Block rotation\n}\n```\n\nBatch block changes:\n\n```java\n// Packet ID: 141\npublic class ServerSetBlocks {\n    BlockChange[] changes;  // Up to 1024 per packet\n}\n```\n\n### Fluid Updates\n\n```java\n// Packet ID: 142\npublic class ServerSetFluid {\n    int x, y, z;\n    int fluidId;\n    byte level;\n}\n\n// Packet ID: 143\npublic class ServerSetFluids {\n    FluidChange[] changes;\n}\n```\n\n## View Radius\n\nThe view radius controls how far clients can see:\n\n```java\n// Packet ID: 32\npublic class ViewRadius {\n    int radius;  // Chunk distance\n}\n```\n\nEntities and chunks outside the view radius are not synchronized.\n\n## Optimization Techniques\n\n### Delta Encoding\n\nOnly changed components are sent:\n\n1. Full update on first visibility\n2. Incremental updates thereafter\n3. Remove updates when component is removed\n\n### Visibility Culling\n\nEntities outside view are not synchronized:\n\n1. Spatial queries determine visible entities\n2. Only visible entities queued for updates\n3. Removed entities send removal packet\n\n### Packet Batching\n\nUpdates are batched for efficiency:\n\n1. Changes queued during tick\n2. Batch built at end of tick\n3. Single packet per player per frame\n\n### Compression\n\nLarge packets use Zstd compression:\n\n- `SetChunk` - Compressed (up to 12MB uncompressed)\n- `EntityUpdates` - Compressed\n- Reduces bandwidth significantly\n\n## Synchronization Events\n\n### Player Setup\n\nWhen a player joins:\n\n1. `SetClientId` - Assign client identifier\n2. `ViewRadius` - Set chunk loading distance\n3. `SetChunk` - Send nearby chunks\n4. `EntityUpdates` - Send visible entities\n\n### During Gameplay\n\nContinuous synchronization:\n\n1. Entity state changes detected\n2. Chunk modifications tracked\n3. Updates batched per tick\n4. Packets sent to affected players\n\n### Entity Spawn/Despawn\n\nNew entities:\n\n1. Visibility system detects new entity\n2. Full component update queued\n3. `EntityUpdates` with `NewSpawn` flag sent\n\nRemoved entities:\n\n1. Entity destroyed or leaves visibility\n2. Network ID added to `removed` array\n3. `EntityUpdates` with removal sent\n\n## Plugin Considerations\n\n### Sending Custom Updates\n\nUse existing packet types through PacketHandler:\n\n```java\n// Send entity update\nEntityUpdates packet = new EntityUpdates();\npacket.updates = new EntityUpdate[] { update };\nplayer.getPacketHandler().write(packet);\n\n// Send block change\nServerSetBlock blockPacket = new ServerSetBlock();\nblockPacket.x = x;\nblockPacket.y = y;\nblockPacket.z = z;\nblockPacket.blockId = blockId;\nplayer.getPacketHandler().write(blockPacket);\n```\n\n### Triggering Sync\n\nModify components to trigger automatic sync:\n\n```java\n// Component changes automatically queue network updates\nTransformComponent transform = entity.getComponent(transformType);\ntransform.setPosition(newPosition);\n// Entity tracker will detect change and sync\n```\n\n## Best Practices\n\n1. **Minimize state changes**: Frequent changes increase bandwidth\n2. **Use appropriate update types**: Don't send full updates when delta suffices\n3. **Respect view radius**: Don't sync entities outside player view\n4. **Batch operations**: Group related changes when possible\n5. **Consider compression**: Large data benefits from compression\n\n## Related\n\n- [Networking Overview](/api-reference/entities/overview/) - Packet system architecture\n- [Packet Types](/api-reference/networking/packet-types/) - All packet IDs\n- [Entity System](/api-reference/entities/overview/) - Entity components\n- [World System](/api-reference/world/overview/) - Chunk management","src/content/docs/api-reference/networking/client-sync.mdx","ea776cb9cf005579","api-reference/networking/overview",{"id":368,"data":370,"body":375,"filePath":376,"digest":377,"deferredRender":16},{"title":371,"editUrl":16,"head":372,"template":52,"sidebar":373,"pagefind":16,"draft":42},"Networking System Overview",[],{"hidden":42,"attrs":374},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Networking System Overview\n\nThe Networking System handles all client-server communication through a packet-based protocol built on Netty. Plugins can send packets, watch packet flow, and filter packets for modification.\n\n## Package Location\n\n- Protocol: `com.hypixel.hytale.protocol`\n- Packets: `com.hypixel.hytale.protocol.packets`\n- Server I/O: `com.hypixel.hytale.server.core.io`\n- Packet Adapters: `com.hypixel.hytale.server.core.io.adapter`\n\n## Architecture\n\n```\n\n                    Networking Architecture                       \n           \n      Client        Transport     PacketHandler   \n                       (TCP/QUIC)                         \n           \n                                                                \n                          \n                               Adapter Pipeline               \n                                        \n                         Inbound    Outbound              \n                         Adapters   Adapters              \n                                        \n                                \n                                                                \n                          \n                                Game Logic / Plugins           \n                          \n\n```\n\n## Core Classes\n\n| Class | Description |\n|-------|-------------|\n| `Packet` | Interface for all network packets |\n| `PacketRegistry` | Central registry of packet types |\n| `PacketHandler` | Abstract handler for packet processing |\n| `PacketIO` | Packet serialization/deserialization |\n| `PacketAdapters` | Plugin packet interception system |\n\n## Packet Interface\n\nAll packets implement the `Packet` interface:\n\n```java\npackage com.hypixel.hytale.protocol;\n\npublic interface Packet {\n    int getId();\n    void serialize(@Nonnull ByteBuf buf);\n    int computeSize();\n}\n```\n\n### Packet Constants\n\nEach packet class defines:\n\n```java\npublic class ExamplePacket implements Packet {\n    public static final int PACKET_ID = 123;\n    public static final boolean IS_COMPRESSED = false;\n    public static final int MAX_SIZE = 256;\n\n    // Fields...\n\n    @Override\n    public int getId() {\n        return PACKET_ID;\n    }\n\n    @Override\n    public void serialize(@Nonnull ByteBuf buf) {\n        // Write fields to buffer\n    }\n\n    public static ExamplePacket deserialize(@Nonnull ByteBuf buf, int offset) {\n        // Read fields from buffer\n    }\n\n    @Override\n    public int computeSize() {\n        return MAX_SIZE;\n    }\n}\n```\n\n## Packet Categories\n\nThe protocol defines ~354 packet types across 18 categories:\n\n| Category | Package | Description |\n|----------|---------|-------------|\n| `connection` | `packets.connection` | Connect, Disconnect, Ping, Pong |\n| `auth` | `packets.auth` | Authentication tokens and passwords |\n| `player` | `packets.player` | Movement, teleport, inventory actions |\n| `entities` | `packets.entities` | Spawn, despawn, animation, knockback |\n| `world` | `packets.world` | Chunks, blocks, sounds, weather |\n| `interface_` | `packets.interface_` | Chat, notifications, UI state |\n| `inventory` | `packets.inventory` | Item drops, stack moves, container ops |\n| `assets` | `packets.assets` | Item/block/particle/effect updates |\n| `interaction` | `packets.interaction` | Mount, interaction triggers |\n| `setup` | `packets.setup` | Initial asset and feature setup |\n| `window` | `packets.window` | Dialog and window management |\n| `camera` | `packets.camera` | Camera shake, fly mode |\n| `buildertools` | `packets.buildertools` | World editing tools |\n| `machinima` | `packets.machinima` | Cinematic scene control |\n| `asseteditor` | `packets.asseteditor` | Asset editor operations |\n| `worldmap` | `packets.worldmap` | Map markers |\n| `serveraccess` | `packets.serveraccess` | Access control |\n\n## PacketHandler\n\n`PacketHandler` is the abstract base class for handling packets:\n\n```java\npackage com.hypixel.hytale.server.core.io;\n\npublic abstract class PacketHandler implements IPacketReceiver {\n    // Send single packet\n    public void write(@Nonnull Packet packet);\n\n    // Send packet bypassing cache\n    public void writeNoCache(@Nonnull Packet packet);\n\n    // Send multiple packets\n    public void write(@Nonnull Packet... packets);\n\n    // Send packets with final packet\n    public void write(@Nonnull Packet[] packets, @Nonnull Packet finalPacket);\n\n    // Internal write with cache control\n    public void writePacket(@Nonnull Packet packet, boolean cache);\n\n    // Ping management\n    public void sendPing();\n    public void handlePong(@Nonnull Pong packet);\n    public void tickPing(float dt);\n\n    // Lifecycle hooks\n    public void registered(@Nullable PacketHandler oldHandler);\n    public void unregistered(@Nullable PacketHandler newHandler);\n\n    // Abstract: handle incoming packet\n    public abstract void accept(@Nonnull Packet packet);\n}\n```\n\n### Handler Types\n\n| Handler | Description |\n|---------|-------------|\n| `GenericPacketHandler` | Generic connection handler |\n| `GenericConnectionPacketHandler` | Connection-specific handler |\n| `InitialPacketHandler` | Initial connection phase |\n| `GamePacketHandler` | In-game player packets |\n| `SubPacketHandler` | Custom sub-handlers |\n\n## Packet Adapters\n\nPlugins can intercept packets using the adapter system:\n\n```java\npackage com.hypixel.hytale.server.core.io.adapter;\n\npublic final class PacketAdapters {\n    // Watch/filter inbound packets (client  server)\n    public static PacketFilter registerInbound(@Nonnull PacketWatcher watcher);\n    public static PacketFilter registerInbound(@Nonnull PlayerPacketWatcher watcher);\n    public static PacketFilter registerInbound(@Nonnull PlayerPacketFilter filter);\n\n    // Watch/filter outbound packets (server  client)\n    public static PacketFilter registerOutbound(@Nonnull PacketWatcher watcher);\n    public static PacketFilter registerOutbound(@Nonnull PlayerPacketWatcher watcher);\n    public static PacketFilter registerOutbound(@Nonnull PlayerPacketFilter filter);\n\n    // Deregister adapters\n    public static void deregisterInbound(PacketFilter predicate);\n    public static void deregisterOutbound(PacketFilter predicate);\n}\n```\n\n### Adapter Interfaces\n\n```java\n// Watch any packet\npublic interface PacketWatcher {\n    void onPacket(Packet packet);\n}\n\n// Watch player-specific packets\npublic interface PlayerPacketWatcher {\n    void onPacket(PlayerRef player, Packet packet);\n}\n\n// Filter player packets (can modify/block)\npublic interface PlayerPacketFilter {\n    boolean filter(PlayerRef player, Packet packet);\n}\n```\n\n### Watching Packets\n\n```java\nimport com.hypixel.hytale.protocol.Packet;\nimport com.hypixel.hytale.protocol.packets.interface_.ChatMessage;\nimport com.hypixel.hytale.server.core.io.adapter.PacketAdapters;\nimport com.hypixel.hytale.server.core.io.adapter.PacketFilter;\nimport com.hypixel.hytale.server.core.io.adapter.PlayerPacketWatcher;\nimport com.hypixel.hytale.server.core.player.PlayerRef;\n\npublic class MyPlugin extends JavaPlugin {\n    private PacketFilter chatWatcher;\n\n    @Override\n    protected void setup() {\n        // Watch chat messages\n        chatWatcher = PacketAdapters.registerInbound(\n            (PlayerPacketWatcher) (player, packet) -> {\n                if (packet instanceof ChatMessage chat) {\n                    getLogger().info(player.getUsername() + \" sent: \" + chat.message);\n                }\n            }\n        );\n    }\n\n    @Override\n    protected void shutdown() {\n        // Clean up adapter\n        PacketAdapters.deregisterInbound(chatWatcher);\n    }\n}\n```\n\n### Filtering Packets\n\n```java\nimport com.hypixel.hytale.protocol.packets.interface_.ChatMessage;\nimport com.hypixel.hytale.server.core.io.adapter.PacketAdapters;\nimport com.hypixel.hytale.server.core.io.adapter.PlayerPacketFilter;\n\n// Block packets containing banned words\nPacketFilter filter = PacketAdapters.registerInbound(\n    (PlayerPacketFilter) (player, packet) -> {\n        if (packet instanceof ChatMessage chat) {\n            if (chat.message.contains(\"banned_word\")) {\n                return false; // Block packet\n            }\n        }\n        return true; // Allow packet\n    }\n);\n```\n\n## Sending Packets\n\nSend packets to players through their packet handler:\n\n```java\nimport com.hypixel.hytale.protocol.packets.interface_.ChatMessage;\nimport com.hypixel.hytale.server.core.player.PlayerRef;\n\npublic void sendMessage(PlayerRef player, String message) {\n    ChatMessage packet = new ChatMessage();\n    packet.message = message;\n\n    // Send to player\n    player.getPacketHandler().write(packet);\n}\n\n// Send multiple packets\npublic void sendMultiple(PlayerRef player, Packet... packets) {\n    player.getPacketHandler().write(packets);\n}\n```\n\n## Wire Protocol\n\n### Packet Frame Format\n\n```\n\n  4 bytes    4 bytes    N bytes            \n  Length     Packet     Payload            \n  (LE)       ID (LE)    (compressed/raw)   \n\n```\n\n### Compression\n\n- Uses Zstd (Zstandard) compression\n- Compression level configurable via `hytale.protocol.compressionLevel`\n- Individual packets opt-in/out via `IS_COMPRESSED` constant\n- Max uncompressed payload: 1,677,721,600 bytes\n\n## Transport Layer\n\nThe networking system supports multiple transports:\n\n```java\npackage com.hypixel.hytale.server.core.io.transport;\n\npublic interface Transport {\n    TransportType getType();\n    ChannelFuture bind(InetSocketAddress address) throws InterruptedException;\n    void shutdown();\n}\n```\n\n### Transport Types\n\n| Transport | Class | Description |\n|-----------|-------|-------------|\n| TCP | `TCPTransport` | Standard TCP connections |\n| QUIC | `QUICTransport` | QUIC protocol support |\n\n## Ping Monitoring\n\nThree ping metrics are tracked per connection:\n\n| Type | Description |\n|------|-------------|\n| `Raw` | Raw network latency |\n| `Direct` | Direct tick-based ping |\n| `Tick` | Game tick synchronized ping |\n\nMetrics include min, max, average, and 99th percentile over 1s, 1m, and 5m windows.\n\n## Common Packets\n\n### Connection\n\n| Packet | Direction | Description |\n|--------|-----------|-------------|\n| `Connect` | CS | Initial connection request |\n| `Disconnect` | Both | Connection termination |\n| `Ping` | SC | Latency measurement request |\n| `Pong` | CS | Latency measurement response |\n\n### Player\n\n| Packet | Direction | Description |\n|--------|-----------|-------------|\n| `PlayerMovement` | CS | Player position/rotation update |\n| `PlayerTeleport` | SC | Server-initiated teleport |\n| `PlayerInventory` | SC | Inventory state sync |\n\n### World\n\n| Packet | Direction | Description |\n|--------|-----------|-------------|\n| `SetChunk` | SC | Chunk data |\n| `ServerSetBlock` | SC | Block change |\n| `SoundEvent` | SC | Sound playback |\n\n### Interface\n\n| Packet | Direction | Description |\n|--------|-----------|-------------|\n| `ChatMessage` | Both | Chat message |\n| `Notification` | SC | UI notification |\n\n## Best Practices\n\n1. **Clean up adapters**: Always deregister packet adapters in `shutdown()`\n2. **Check packet types**: Use `instanceof` to identify packet types\n3. **Minimize filtering**: Filters run on every packet; keep them efficient\n4. **Use appropriate transport**: TCP for reliability, QUIC for performance\n5. **Respect packet limits**: Don't exceed `MAX_SIZE` for packets\n\n## Limitations\n\n- Cannot create new packet types at runtime\n- Packet serialization format is fixed per type\n- No direct access to Netty channels\n\n## Related\n\n- [Event System](/core-concepts/event-system/) - Server events\n- [Entity System](/api-reference/entities/overview/) - Entity packets\n- [World System](/api-reference/world/overview/) - World packets","src/content/docs/api-reference/networking/overview.mdx","a5e587d81649a919","api-reference/networking/packet-handlers",{"id":378,"data":380,"body":385,"filePath":386,"digest":387,"deferredRender":16},{"title":381,"editUrl":16,"head":382,"template":52,"sidebar":383,"pagefind":16,"draft":42},"Packet Handlers",[],{"hidden":42,"attrs":384},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Packet Handlers\n\nPacket handlers process incoming packets and manage the connection state machine. Plugins can extend the system through the SubPacketHandler interface.\n\n## Package Location\n\n- Handlers: `com.hypixel.hytale.server.core.io.handlers`\n- Base: `com.hypixel.hytale.server.core.io`\n\n## Handler Hierarchy\n\n```\nPacketHandler (abstract base)\n GenericConnectionPacketHandler (abstract)\n    HandshakeHandler (abstract)\n       AuthenticationPacketHandler\n    PasswordPacketHandler\n    SetupPacketHandler\n GenericPacketHandler (abstract)\n    GamePacketHandler\n InitialPacketHandler\n```\n\n## Connection State Machine\n\nHandlers transition through connection states:\n\n```\n                    \n                     InitialPacketHandler \n                       (awaits Connect)   \n                    \n                               \n              \n                                              \n           \nPasswordPacketHandler           AuthenticationHandler \n   (dev clients)                  (secure clients)    \n           \n           \n                               \n                    \n                      SetupPacketHandler \n                     (sends world data)  \n                    \n                               \n                    \n                      GamePacketHandler  \n                     (active gameplay)   \n                    \n```\n\n## Handler Types\n\n| Handler | Stage | Description |\n|---------|-------|-------------|\n| `InitialPacketHandler` | Connect | Validates Connect packet, routes to auth |\n| `AuthenticationPacketHandler` | Auth | Handles JWT token validation |\n| `PasswordPacketHandler` | Auth | Handles dev client password challenges |\n| `SetupPacketHandler` | Setup | Sends world data, assets, handles join |\n| `GamePacketHandler` | Game | Routes gameplay packets |\n\n## PacketHandler Base Class\n\n```java\npackage com.hypixel.hytale.server.core.io;\n\npublic abstract class PacketHandler implements IPacketReceiver {\n    public static final int MAX_PACKET_ID = 512;\n\n    // Send packets\n    public void write(@Nonnull Packet packet);\n    public void write(@Nonnull Packet... packets);\n    public void writeNoCache(@Nonnull Packet packet);\n\n    // Lifecycle (template methods)\n    protected void registered0(@Nullable PacketHandler oldHandler);\n    protected void unregistered0(@Nullable PacketHandler newHandler);\n\n    // Ping management\n    public void sendPing();\n    public void handlePong(@Nonnull Pong packet);\n\n    // Process incoming packet\n    public abstract void accept(@Nonnull Packet packet);\n\n    // Disconnect\n    public void disconnect(Disconnect.Type type, @Nullable String reason);\n}\n```\n\n## GenericPacketHandler\n\nRoutes packets to registered consumers using O(1) array lookup:\n\n```java\npackage com.hypixel.hytale.server.core.io.handlers;\n\npublic abstract class GenericPacketHandler extends PacketHandler\n        implements IPacketHandler {\n\n    // Register handler for packet ID\n    public void registerHandler(int packetId, @Nonnull Consumer\u003CPacket> handler);\n\n    // Register multiple no-op handlers\n    public void registerNoOpHandlers(@Nonnull int... packetIds);\n\n    // Register sub-handler for plugins\n    public void registerSubPacketHandler(SubPacketHandler subPacketHandler);\n\n    // Get connected player\n    @Nonnull\n    public PlayerRef getPlayerRef();\n}\n```\n\n## SubPacketHandler Interface\n\nPlugins implement this interface to handle packets:\n\n```java\npackage com.hypixel.hytale.server.core.io.handlers;\n\npublic interface SubPacketHandler {\n    void registerHandlers();\n}\n```\n\n## IPacketHandler Interface\n\nProvided to SubPacketHandlers for registration:\n\n```java\npackage com.hypixel.hytale.server.core.io.handlers;\n\npublic interface IPacketHandler {\n    void registerHandler(int packetId, @Nonnull Consumer\u003CPacket> handler);\n    void registerNoOpHandlers(int... packetIds);\n    @Nonnull PlayerRef getPlayerRef();\n    @Nonnull String getIdentifier();\n}\n```\n\n## Creating a SubPacketHandler\n\n### Step 1: Define the Handler\n\n```java\nimport com.hypixel.hytale.protocol.Packet;\nimport com.hypixel.hytale.protocol.packets.interaction.DismountNPC;\nimport com.hypixel.hytale.server.core.io.handlers.IPacketHandler;\nimport com.hypixel.hytale.server.core.io.handlers.SubPacketHandler;\nimport com.hypixel.hytale.server.core.player.PlayerRef;\n\npublic class MyPacketHandler implements SubPacketHandler {\n    private final IPacketHandler packetHandler;\n\n    public MyPacketHandler(IPacketHandler packetHandler) {\n        this.packetHandler = packetHandler;\n    }\n\n    @Override\n    public void registerHandlers() {\n        // Register for DismountNPC packet (ID 294)\n        packetHandler.registerHandler(294, packet -> handleDismount((DismountNPC) packet));\n    }\n\n    private void handleDismount(DismountNPC packet) {\n        PlayerRef player = packetHandler.getPlayerRef();\n        // Handle dismount logic\n    }\n}\n```\n\n### Step 2: Register in Plugin Setup\n\n```java\nimport com.hypixel.hytale.server.core.io.ServerManager;\nimport com.hypixel.hytale.server.core.plugin.JavaPlugin;\nimport com.hypixel.hytale.server.core.plugin.JavaPluginInit;\n\npublic class MyPlugin extends JavaPlugin {\n    public MyPlugin(JavaPluginInit init) {\n        super(init);\n    }\n\n    @Override\n    protected void setup() {\n        // Register SubPacketHandler supplier\n        ServerManager.get().registerSubPacketHandlers(MyPacketHandler::new);\n    }\n}\n```\n\n### Registration Flow\n\n1. Plugin calls `ServerManager.get().registerSubPacketHandlers(MyPacketHandler::new)`\n2. When a player enters gameplay, a new `GamePacketHandler` is created\n3. `ServerManager.populateSubPacketHandlers()` is invoked\n4. Your supplier is called with the `IPacketHandler` instance\n5. `registerHandlers()` is called, routing your packet IDs\n\n## Built-in SubPacketHandlers\n\n| Handler | Package | Packets Handled |\n|---------|---------|-----------------|\n| `InventoryPacketHandler` | `server.core.io.handlers` | 171-179 (inventory ops) |\n| `MountGamePacketHandler` | `builtin.mounts` | 293-294 (mount/dismount) |\n\n## Packet Dispatch Flow\n\n```\nPacket arrives on Channel\n        \nPacketHandler.accept(Packet)\n        \nGenericPacketHandler looks up handlers[packet.getId()]\n        \nConsumer\u003CPacket>.accept(packet)\n        \nYour handler method executes\n```\n\n## Handler Lifecycle\n\n### registered0() Callback\n\nCalled when handler becomes active:\n\n```java\n@Override\nprotected void registered0(@Nullable PacketHandler oldHandler) {\n    // Initialize resources\n    // Old handler may be null on first registration\n}\n```\n\n### unregistered0() Callback\n\nCalled when handler is deactivated:\n\n```java\n@Override\nprotected void unregistered0(@Nullable PacketHandler newHandler) {\n    // Clean up resources\n    // New handler may be null on disconnect\n}\n```\n\n## Packet Queuing\n\nBatch packet sends for performance:\n\n```java\n// Enable queuing\npacketHandler.setQueuePackets(true);\n\n// Send multiple packets (queued)\npacketHandler.write(packet1);\npacketHandler.write(packet2);\npacketHandler.write(packet3);\n\n// Flush all at once\npacketHandler.tryFlush();\n\n// Disable queuing (immediate send)\npacketHandler.setQueuePackets(false);\n```\n\n## Example: Chat Filter Handler\n\n```java\nimport com.hypixel.hytale.protocol.packets.interface_.ChatMessage;\nimport com.hypixel.hytale.server.core.io.handlers.IPacketHandler;\nimport com.hypixel.hytale.server.core.io.handlers.SubPacketHandler;\nimport com.hypixel.hytale.server.core.player.PlayerRef;\n\npublic class ChatFilterHandler implements SubPacketHandler {\n    private final IPacketHandler packetHandler;\n    private static final int CHAT_MESSAGE_ID = 211;\n\n    public ChatFilterHandler(IPacketHandler packetHandler) {\n        this.packetHandler = packetHandler;\n    }\n\n    @Override\n    public void registerHandlers() {\n        packetHandler.registerHandler(CHAT_MESSAGE_ID, packet -> {\n            handleChat((ChatMessage) packet);\n        });\n    }\n\n    private void handleChat(ChatMessage packet) {\n        PlayerRef player = packetHandler.getPlayerRef();\n        String message = packet.message;\n\n        // Filter logic\n        if (containsBannedWord(message)) {\n            // Log and ignore\n            return;\n        }\n\n        // Process valid message\n        broadcastChat(player, message);\n    }\n\n    private boolean containsBannedWord(String message) {\n        // Filter implementation\n        return false;\n    }\n\n    private void broadcastChat(PlayerRef sender, String message) {\n        // Broadcast implementation\n    }\n}\n```\n\n## Important Notes\n\n1. **One handler per packet ID**: Later registrations override earlier ones\n2. **O(1) dispatch**: Packet routing uses array index lookup\n3. **Thread safety**: Handlers run on Netty event loop threads\n4. **Max packet ID**: 512 (PacketHandler.MAX_PACKET_ID)\n\n## Best Practices\n\n1. **Store IPacketHandler reference**: You'll need it for `getPlayerRef()`\n2. **Type cast packets**: Use `(PacketType) packet` after registration\n3. **Clean handler registration**: Only register IDs you need\n4. **Handle exceptions**: Exceptions in handlers disconnect the player\n\n## Related\n\n- [Networking Overview](/api-reference/entities/overview/) - Packet system architecture\n- [Packet Types](/api-reference/networking/packet-types/) - All packet type IDs\n- [Event System](/core-concepts/event-system/) - Server events","src/content/docs/api-reference/networking/packet-handlers.mdx","cbc98793018861c2","api-reference/world/connected-blocks",{"id":388,"data":390,"body":395,"filePath":396,"digest":397,"deferredRender":16},{"title":391,"editUrl":16,"head":392,"template":52,"sidebar":393,"pagefind":16,"draft":42},"Connected Blocks System",[],{"hidden":42,"attrs":394},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# Connected Blocks System\n\nThe connected blocks system handles blocks that connect to neighboring blocks (like fences, walls, stairs) and automatically determine their visual state based on neighbors.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.universe.world.connectedblocks`\n\n## Overview\n\nConnected blocks automatically change their visual variant based on adjacent blocks. For example, a stair block placed next to another stair can become a corner piece. The system uses rule sets to define connection logic.\n\n```\nRegular Stair    +    Adjacent Stair    =    Corner Variant\n    ___                   ___                   ___\n   |   |                 |   |                 |   |___\n   |___|                 |___|                 |___|   |\n```\n\n## Core Classes\n\n### ConnectedBlocksModule\n\nMain plugin managing connected block systems:\n\n```java\npackage com.hypixel.hytale.server.core.universe.world.connectedblocks;\n\npublic class ConnectedBlocksModule extends JavaPlugin {\n    // Singleton access\n    public static ConnectedBlocksModule get();\n\n    // Registers codecs for rule sets (Stair, Roof types)\n}\n```\n\n### ConnectedBlocksUtil\n\nStatic utility class for connected block operations:\n\n```java\npackage com.hypixel.hytale.server.core.universe.world.connectedblocks;\n\npublic class ConnectedBlocksUtil {\n    // Maximum neighbor update depth\n    public static final int MAX_UPDATE_DEPTH = 3;\n\n    // Place connected block and notify neighbors\n    public static void setConnectedBlockAndNotifyNeighbors(\n        int blockTypeIndex,\n        int rotation,\n        Vector3i placementNormal,\n        Vector3i blockPosition,\n        WorldChunk worldChunk,\n        BlockChunk blockChunk\n    );\n\n    // Get the desired block variant based on neighbors\n    public static ConnectedBlockResult getDesiredConnectedBlockType(\n        World world,\n        Vector3i position,\n        BlockType blockType,\n        int rotation,\n        Vector3i placementNormal,\n        boolean isPlacement\n    );\n\n    // Check 26 neighbors (3x3x3 cube) for state changes\n    public static void notifyNeighborsAndCollectChanges(\n        World world,\n        Vector3i position,\n        int depth,\n        Map\u003CVector3i, ConnectedBlockResult> changes\n    );\n}\n```\n\n### ConnectedBlockResult\n\nResult of connected block calculation:\n\n```java\npublic class ConnectedBlockResult {\n    // The resulting block type ID\n    public String blockTypeKey();\n\n    // Rotation value (0-23)\n    public int rotationIndex();\n\n    // Additional blocks to place (multi-block structures)\n    public Map\u003CVector3i, BlockTypeRotation> additionalConnectedBlocks;\n}\n```\n\n### ConnectedBlockRuleSet\n\nAbstract base class for defining connection rules:\n\n```java\npackage com.hypixel.hytale.server.core.universe.world.connectedblocks;\n\npublic abstract class ConnectedBlockRuleSet {\n    // Get the desired block variant based on neighbors\n    public abstract ConnectedBlockResult getConnectedBlockType(\n        World world,\n        Vector3i position,\n        BlockType blockType,\n        int rotation,\n        Vector3i placementNormal,\n        boolean isPlacement\n    );\n\n    // Whether to only update on placement (not neighbor changes)\n    public boolean onlyUpdateOnPlacement();\n\n    // Cache block type mappings when assets load\n    public void updateCachedBlockTypes(\n        BlockType blockType,\n        BlockTypeAssetMap assetMap\n    );\n}\n```\n\n## Built-in Rule Sets\n\n### StairConnectedBlockRuleSet\n\nHandles stair block connections:\n\n```java\npackage com.hypixel.hytale.server.core.universe.world.connectedblocks.builtin;\n\npublic class StairConnectedBlockRuleSet extends ConnectedBlockRuleSet {\n    // Stair variants\n    // - Straight\n    // - CornerLeft\n    // - CornerRight\n    // - InvertedCornerLeft\n    // - InvertedCornerRight\n}\n```\n\n**Variants:**\n\n| Variant | Description |\n|---------|-------------|\n| `Straight` | Normal stair piece |\n| `CornerLeft` | Left corner turn |\n| `CornerRight` | Right corner turn |\n| `InvertedCornerLeft` | Inverted left corner |\n| `InvertedCornerRight` | Inverted right corner |\n\n### RoofConnectedBlockRuleSet\n\nHandles roof block connections (extends stair logic):\n\n```java\npackage com.hypixel.hytale.server.core.universe.world.connectedblocks.builtin;\n\npublic class RoofConnectedBlockRuleSet extends ConnectedBlockRuleSet {\n    // Roof variants\n    // - Regular (standard roof piece)\n    // - Hollow (open underneath)\n    // - Topper (ridge cap)\n    // - Valley connections\n}\n```\n\n**Additional Configuration:**\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `width` | int | Roof piece width |\n\n## Pattern Matching\n\n### ConnectedBlockPatternRule\n\nDefines matching rules for neighbor positions:\n\n```java\npublic class ConnectedBlockPatternRule {\n    // Position offset to check relative to placed block\n    Vector3i relativePosition;\n\n    // Include or exclude this pattern\n    boolean includeOrExclude;\n\n    // Face normals the block was placed against\n    List\u003CVector3i> placementNormals;\n\n    // Required face tags at this position\n    ConnectedBlockFaceTags faceTags;\n\n    // Block types that match (by shape)\n    List\u003CString> shapeBlockTypeKeys;\n\n    // Block types that match (by ID)\n    List\u003CString> blockTypes;\n}\n```\n\n### ConnectedBlockShape\n\nGroups patterns with matching requirements:\n\n```java\npublic class ConnectedBlockShape {\n    // Patterns where any match satisfies the shape\n    ConnectedBlockPatternRule[] patternsToMatchAnyOf;\n\n    // Face tag requirements\n    ConnectedBlockFaceTags faceTags;\n}\n```\n\n### ConnectedBlockFaceTags\n\nDirectional face tagging for connection restrictions:\n\n```java\npublic class ConnectedBlockFaceTags {\n    // Check if a face has a specific tag\n    public boolean contains(Vector3i direction, String tag);\n\n    // Directions: North, East, South, West, Up, Down\n}\n```\n\n## Usage Examples\n\n### Placing a Connected Block\n\n```java\nimport com.hypixel.hytale.server.core.universe.world.connectedblocks.ConnectedBlocksUtil;\nimport com.hypixel.hytale.server.core.blocktype.BlockType;\nimport com.hypixel.hytale.math.vector.Vector3i;\n\n// Place a stair block that auto-connects to neighbors\nVector3i position = new Vector3i(10, 64, 20);\nVector3i placementNormal = new Vector3i(0, 1, 0); // Placed on top face\nBlockType stairBlock = BlockType.get(\"wood_stairs\");\nint rotation = 0;\n\n// Get chunk references\nWorldChunk worldChunk = world.getChunk(position);\nBlockChunk blockChunk = worldChunk.getBlockChunk();\n\n// Place with auto-connection\nConnectedBlocksUtil.setConnectedBlockAndNotifyNeighbors(\n    stairBlock.getIndex(),\n    rotation,\n    placementNormal,\n    position,\n    worldChunk,\n    blockChunk\n);\n```\n\n### Querying Connected State\n\n```java\nimport com.hypixel.hytale.server.core.universe.world.connectedblocks.ConnectedBlocksUtil;\nimport com.hypixel.hytale.server.core.universe.world.connectedblocks.ConnectedBlockResult;\n\n// Get what variant a block should be\nConnectedBlockResult result = ConnectedBlocksUtil.getDesiredConnectedBlockType(\n    world,\n    position,\n    blockType,\n    rotation,\n    placementNormal,\n    true  // isPlacement\n);\n\nif (result != null) {\n    String variantKey = result.blockTypeKey();\n    int variantRotation = result.rotationIndex();\n\n    // Check for additional blocks (multi-block structures)\n    if (result.additionalConnectedBlocks != null) {\n        for (var entry : result.additionalConnectedBlocks.entrySet()) {\n            Vector3i offset = entry.getKey();\n            BlockTypeRotation extra = entry.getValue();\n            // Place additional block at position + offset\n        }\n    }\n}\n```\n\n## Connection Algorithm\n\n1. **Block Placement**: When a connected block is placed\n2. **Neighbor Check**: System checks 26 neighbors (3x3x3 cube minus center)\n3. **Rule Matching**: Each neighbor position is tested against rule patterns\n4. **Variant Selection**: Best matching variant is selected\n5. **Neighbor Notification**: Adjacent connected blocks are notified to update\n6. **Cascade Limit**: Updates cascade up to MAX_UPDATE_DEPTH (3) levels\n\n```\nUpdate Cascade (depth 3):\n\n    Placed Block (depth 0)\n         \n    \n            \nNeighbor Neighbor Neighbor (depth 1)\n             \n        \n        \nNeighbor Neighbor (depth 2)\n    \nNeighbor (depth 3 - final)\n```\n\n## Network Synchronization\n\nConnected block rule sets are synchronized to clients via protocol:\n\n```java\n// Protocol packet structure\npublic class ConnectedBlockRuleSet {\n    // Type identifier\n    Type type;  // STAIR, ROOF, CUSTOM_TEMPLATE\n\n    // Type-specific configuration\n    StairConfig stairConfig;\n    RoofConfig roofConfig;\n}\n```\n\n## Creating Custom Rule Sets\n\nCustom connected block rule sets require:\n\n1. Extend `ConnectedBlockRuleSet`\n2. Implement `getConnectedBlockType()` method\n3. Register codec with `ConnectedBlocksModule`\n4. Define block type variants in assets\n\n```java\npublic class MyConnectedBlockRuleSet extends ConnectedBlockRuleSet {\n    @Override\n    public ConnectedBlockResult getConnectedBlockType(\n        World world,\n        Vector3i position,\n        BlockType blockType,\n        int rotation,\n        Vector3i placementNormal,\n        boolean isPlacement\n    ) {\n        // Check neighbors and return appropriate variant\n        // Return null if no special variant needed\n        return null;\n    }\n\n    @Override\n    public boolean onlyUpdateOnPlacement() {\n        // Return true to only calculate on initial placement\n        // Return false to recalculate when neighbors change\n        return false;\n    }\n}\n```\n\n## Custom Connected Block Templates\n\nCustom connected block templates are defined as JSON assets that specify how blocks connect.\n\n### Asset Location\n\n```\nAssets/Server/Item/CustomConnectedBlockTemplates/\n BookshelfConnectedBlockTemplate.json\n BranchConnectedBlockTemplate.json\n ChestConnectedBlockTemplate.json\n CobbleCornerConnectedBlockTemplate.json\n DoorConnectedBlockTemplate.json\n DoorLargeConnectedBlockTemplate.json\n PillarConnectedBlockTemplate.json\n RailsConnectedBlockTemplate.json\n RoofConnectedBlockTemplate.json\n VillageConnectedBlockTemplate.json\n WallConnectedBlockTemplate.json\n```\n\n### Template Schema\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `ConnectsToOtherMaterials` | `bool` | Whether to connect to different block types |\n| `DefaultShape` | `string` | Default shape when no pattern matches |\n| `DontUpdateAfterInitialPlacement` | `bool` | Only calculate on placement |\n| `Shapes` | `object` | Map of shape names to shape definitions |\n\n### Shape Definition\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `FaceTags` | `object` | Face connection tags by direction |\n| `PatternsToMatchAnyOf` | `array` | Patterns where any match selects this shape |\n\n### Pattern Rule\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Type` | `string` | Rule type (usually `\"Custom\"`) |\n| `AllowedPatternTransformations` | `object` | Rotation settings |\n| `TransformRulesToOrientation` | `bool` | Apply block rotation to rules |\n| `YawToApplyAddReplacedBlockType` | `string` | Yaw adjustment |\n| `RulesToMatch` | `array` | Position rules to check |\n\n### Position Rule\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Position` | `object` | Relative position `{X, Y, Z}` |\n| `IncludeOrExclude` | `string` | `\"Include\"` or `\"Exclude\"` |\n| `Shapes` | `array` | Shape names that match |\n| `FaceTags` | `object` | Required face tags |\n\n### Wall Template Example\n\n```json title=\"WallConnectedBlockTemplate.json\"\n{\n  \"ConnectsToOtherMaterials\": true,\n  \"DefaultShape\": \"Straight\",\n  \"Shapes\": {\n    \"Gate\": {\n      \"FaceTags\": {\n        \"East\": [\"FenceConnection\"],\n        \"West\": [\"FenceConnection\"]\n      },\n      \"PatternsToMatchAnyOf\": []\n    },\n    \"Straight\": {\n      \"FaceTags\": {\n        \"East\": [\"FenceConnection\"],\n        \"West\": [\"FenceConnection\"]\n      },\n      \"PatternsToMatchAnyOf\": []\n    },\n    \"Corner\": {\n      \"FaceTags\": {\n        \"West\": [\"FenceConnection\"],\n        \"South\": [\"FenceConnection\"]\n      },\n      \"PatternsToMatchAnyOf\": [\n        {\n          \"Type\": \"Custom\",\n          \"AllowedPatternTransformations\": {\n            \"IsCardinallyRotatable\": true\n          },\n          \"RulesToMatch\": [\n            {\n              \"Position\": { \"X\": -1, \"Y\": 0, \"Z\": 0 },\n              \"IncludeOrExclude\": \"Include\",\n              \"FaceTags\": { \"East\": [\"FenceConnection\"] }\n            },\n            {\n              \"Position\": { \"X\": 0, \"Y\": 0, \"Z\": 1 },\n              \"IncludeOrExclude\": \"Include\",\n              \"FaceTags\": { \"North\": [\"FenceConnection\"] }\n            }\n          ]\n        }\n      ]\n    },\n    \"T_Junction\": {\n      \"FaceTags\": {\n        \"East\": [\"FenceConnection\"],\n        \"West\": [\"FenceConnection\"],\n        \"South\": [\"FenceConnection\"]\n      },\n      \"PatternsToMatchAnyOf\": [...]\n    },\n    \"Cross_Junction\": {\n      \"FaceTags\": {\n        \"East\": [\"FenceConnection\"],\n        \"West\": [\"FenceConnection\"],\n        \"South\": [\"FenceConnection\"],\n        \"North\": [\"FenceConnection\"]\n      },\n      \"PatternsToMatchAnyOf\": [...]\n    }\n  }\n}\n```\n\n### Pillar Template Example\n\n```json title=\"PillarConnectedBlockTemplate.json\"\n{\n  \"ConnectsToOtherMaterials\": true,\n  \"DefaultShape\": \"Base\",\n  \"Shapes\": {\n    \"Base\": {\n      \"FaceTags\": {\n        \"Up\": [\"PillarConnection\"],\n        \"Down\": [\"PillarConnection\"]\n      },\n      \"PatternsToMatchAnyOf\": [\n        {\n          \"Type\": \"Custom\",\n          \"RulesToMatch\": [\n            {\n              \"Position\": { \"X\": 0, \"Y\": 1, \"Z\": 0 },\n              \"IncludeOrExclude\": \"Include\",\n              \"FaceTags\": { \"Down\": [\"PillarConnection\"] }\n            },\n            {\n              \"Position\": { \"X\": 0, \"Y\": -1, \"Z\": 0 },\n              \"IncludeOrExclude\": \"Exclude\",\n              \"FaceTags\": { \"Up\": [\"PillarConnection\"] }\n            }\n          ]\n        }\n      ]\n    },\n    \"Base_Inverted\": {\n      \"FaceTags\": {\n        \"Up\": [\"PillarConnection\"],\n        \"Down\": [\"PillarConnection\"]\n      },\n      \"PatternsToMatchAnyOf\": [...]\n    },\n    \"Middle\": {\n      \"FaceTags\": {\n        \"Up\": [\"PillarConnection\"],\n        \"Down\": [\"PillarConnection\"]\n      },\n      \"PatternsToMatchAnyOf\": [...]\n    }\n  }\n}\n```\n\n### Door Template Example\n\n```json title=\"DoorConnectedBlockTemplate.json\"\n{\n  \"ConnectsToOtherMaterials\": true,\n  \"DontUpdateAfterInitialPlacement\": true,\n  \"DefaultShape\": \"Default\",\n  \"Shapes\": {\n    \"Default\": {\n      \"PatternsToMatchAnyOf\": [\n        {\n          \"Type\": \"Custom\",\n          \"TransformRulesToOrientation\": true,\n          \"YawToApplyAddReplacedBlockType\": \"OneEighty\",\n          \"RulesToMatch\": [\n            {\n              \"Position\": { \"X\": -1, \"Y\": 0, \"Z\": 0 },\n              \"IncludeOrExclude\": \"Include\",\n              \"Shapes\": [\"Default\"]\n            },\n            {\n              \"Position\": { \"X\": 1, \"Y\": 0, \"Z\": 0 },\n              \"IncludeOrExclude\": \"Exclude\",\n              \"Shapes\": [\"Default|Yaw=180\"]\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n```\n\n### Common Face Tags\n\n| Tag | Used For |\n|-----|----------|\n| `FenceConnection` | Walls, fences, gates |\n| `PillarConnection` | Vertical pillars, columns |\n\n### Template Types\n\n| Template | Shapes | Use Case |\n|----------|--------|----------|\n| Wall | Straight, Corner, T_Junction, Cross_Junction, Gate | Fences, walls |\n| Pillar | Base, Base_Inverted, Middle | Columns, pillars |\n| Door | Default | Single/double doors |\n| Roof | Various | Roof pieces |\n| Rails | Various | Minecart rails |\n| Chest | Various | Connected storage |\n| Bookshelf | Various | Library shelves |\n| Branch | Various | Tree connections |\n\n## Related\n\n- [Block System](/api-reference/blocks/overview/) - Block types and states\n- [Block Types](/api-reference/assets/blocks/block-types/) - Block type definitions\n- [World System](/api-reference/world/overview/) - World and chunk management\n- [Light Propagation](/api-reference/world/lighting/) - Lighting system","src/content/docs/api-reference/world/connected-blocks.mdx","a99cd8a198a9f5fe","api-reference/world/dynamic-lighting",{"id":398,"data":400,"body":405,"filePath":406,"digest":407,"deferredRender":16},{"title":401,"editUrl":16,"head":402,"template":52,"sidebar":403,"pagefind":16,"draft":42},"Dynamic Lighting",[],{"hidden":42,"attrs":404},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# Dynamic Lighting\n\nDynamic lighting allows entities to emit light that moves with them. The system supports both temporary runtime lights and persistent lights that survive entity respawn.\n\n## Package Location\n\n- Components: `com.hypixel.hytale.server.core.modules.entity.component`\n- Systems: `com.hypixel.hytale.server.core.modules.entity.dynamiclight`\n\n## Overview\n\nDynamic lights are ECS components attached to entities. Two component types exist:\n\n| Component | Persistence | Use Case |\n|-----------|-------------|----------|\n| `DynamicLight` | Runtime only | Temporary effects (spell glow, fire) |\n| `PersistentDynamicLight` | Saved with entity | Permanent lights (lantern entity) |\n\n## Components\n\n### DynamicLight\n\nRuntime light component for entities:\n\n```java\npackage com.hypixel.hytale.server.core.modules.entity.component;\n\npublic class DynamicLight implements Component\u003CEntityStore> {\n    // Get current light color and radius\n    public ColorLight getColorLight();\n\n    // Update light (marks network dirty)\n    public void setColorLight(ColorLight colorLight);\n\n    // Check and reset network dirty flag\n    public boolean consumeNetworkOutdated();\n\n    // Get component type for ECS queries\n    public static ComponentType\u003CEntityStore, DynamicLight> getComponentType();\n}\n```\n\n### PersistentDynamicLight\n\nSerializable light component that persists with entity data:\n\n```java\npackage com.hypixel.hytale.server.core.modules.entity.component;\n\npublic class PersistentDynamicLight implements Component\u003CEntityStore> {\n    // Codec key for serialization\n    public static final String CODEC_KEY = \"Light\";\n\n    // Constructor\n    public PersistentDynamicLight(ColorLight colorLight);\n\n    // Get light configuration\n    public ColorLight getColorLight();\n\n    // Get component type\n    public static ComponentType\u003CEntityStore, PersistentDynamicLight> getComponentType();\n}\n```\n\n### ColorLight\n\nLight color and radius definition:\n\n```java\npackage com.hypixel.hytale.protocol;\n\npublic class ColorLight {\n    public int radius;  // Light reach in blocks (0-255)\n    public int red;     // Red intensity (0-15)\n    public int green;   // Green intensity (0-15)\n    public int blue;    // Blue intensity (0-15)\n\n    public ColorLight(int radius, int red, int green, int blue);\n\n    // Common presets\n    public static final ColorLight NONE = new ColorLight(0, 0, 0, 0);\n}\n```\n\n## ECS Systems\n\n### DynamicLightSystems\n\nContains systems for managing dynamic lights:\n\n```java\npackage com.hypixel.hytale.server.core.modules.entity.dynamiclight;\n\npublic class DynamicLightSystems {\n    // Setup System: Creates DynamicLight from PersistentDynamicLight on spawn\n    public static class Setup implements SpawnSystem\u003CEntityStore> {\n        // Query: Has PersistentDynamicLight AND NOT DynamicLight\n        // On spawn: Creates DynamicLight component\n    }\n\n    // EntityTrackerRemove System: Notifies clients when light removed\n    public static class EntityTrackerRemove\n        extends RefChangeSystem\u003CEntityStore, DynamicLight> {\n        // Tracks DynamicLight removal\n        // Sends ComponentUpdateType.DynamicLight to trackers\n    }\n}\n```\n\n## Usage Examples\n\n### Adding Dynamic Light to Entity\n\n```java\nimport com.hypixel.hytale.server.core.modules.entity.component.DynamicLight;\nimport com.hypixel.hytale.protocol.ColorLight;\nimport com.hypixel.hytale.server.core.modules.entity.EntityModule;\n\n// Create light (radius 8, warm orange glow)\nColorLight torchLight = new ColorLight(8, 15, 10, 5);\n\n// Get entity and add component\nEntityStore store = world.getEntityStore();\nRef\u003CEntityStore> entityRef = /* your entity reference */;\n\n// Add dynamic light component\nDynamicLight light = new DynamicLight();\nlight.setColorLight(torchLight);\nstore.addComponent(entityRef, DynamicLight.getComponentType(), light);\n```\n\n### Adding Persistent Light to Entity\n\n```java\nimport com.hypixel.hytale.server.core.modules.entity.component.PersistentDynamicLight;\nimport com.hypixel.hytale.protocol.ColorLight;\n\n// Create persistent light (survives respawn/reload)\nColorLight lanternLight = new ColorLight(12, 15, 15, 12);\nPersistentDynamicLight persistentLight = new PersistentDynamicLight(lanternLight);\n\n// Add to entity (DynamicLight will be auto-created by Setup system)\nstore.addComponent(entityRef, PersistentDynamicLight.getComponentType(), persistentLight);\n```\n\n### Updating Light Color\n\n```java\nimport com.hypixel.hytale.server.core.modules.entity.component.DynamicLight;\nimport com.hypixel.hytale.protocol.ColorLight;\n\n// Get existing light component\nDynamicLight light = store.getComponent(entityRef, DynamicLight.getComponentType());\n\n// Update to new color (flickering effect)\nColorLight flickerLight = new ColorLight(\n    light.getColorLight().radius,\n    random.nextInt(12, 16),  // Varying red\n    random.nextInt(8, 12),   // Varying green\n    random.nextInt(3, 7)     // Varying blue\n);\nlight.setColorLight(flickerLight);\n\n// Network update happens automatically (consumeNetworkOutdated() called by system)\n```\n\n### Removing Dynamic Light\n\n```java\nimport com.hypixel.hytale.server.core.modules.entity.component.DynamicLight;\n\n// Remove light component\nstore.removeComponent(entityRef, DynamicLight.getComponentType());\n\n// EntityTrackerRemove system will notify clients\n```\n\n### Querying Entities with Lights\n\n```java\nimport com.hypixel.hytale.server.core.modules.entity.component.DynamicLight;\nimport com.hypixel.hytale.component.query.Query;\n\n// Create query for entities with dynamic lights\nQuery\u003CEntityStore> lightQuery = Query.builder(EntityStore.class)\n    .with(DynamicLight.getComponentType())\n    .build();\n\n// Iterate light-emitting entities\nfor (ArchetypeChunk\u003CEntityStore> chunk : store.query(lightQuery)) {\n    DynamicLight[] lights = chunk.getComponentArray(DynamicLight.getComponentType());\n    for (int i = 0; i \u003C chunk.getEntityCount(); i++) {\n        ColorLight color = lights[i].getColorLight();\n        // Process light...\n    }\n}\n```\n\n## Light Presets\n\nCommon light configurations:\n\n| Light Type | Radius | R | G | B | Description |\n|------------|--------|---|---|---|-------------|\n| Torch | 8 | 15 | 10 | 5 | Warm orange |\n| Lantern | 12 | 15 | 15 | 12 | Bright warm |\n| Glowstone | 15 | 15 | 14 | 8 | Yellow-white |\n| Redstone | 7 | 15 | 0 | 0 | Red glow |\n| Soul Fire | 10 | 5 | 12 | 15 | Blue-cyan |\n| Magic | 6 | 10 | 5 | 15 | Purple |\n| Moonlight | 4 | 8 | 10 | 15 | Cool blue |\n\n```java\n// Example presets\npublic static final ColorLight TORCH = new ColorLight(8, 15, 10, 5);\npublic static final ColorLight LANTERN = new ColorLight(12, 15, 15, 12);\npublic static final ColorLight SOUL_FIRE = new ColorLight(10, 5, 12, 15);\n```\n\n## Network Synchronization\n\nDynamic lights are automatically synchronized to clients:\n\n1. **On Add**: Light component sent with entity spawn\n2. **On Update**: `setColorLight()` marks network dirty\n3. **On Remove**: `EntityTrackerRemove` system notifies trackers\n4. **Update Type**: `ComponentUpdateType.DynamicLight`\n\n## Integration with Chunk Lighting\n\nDynamic entity lights work alongside chunk-based lighting:\n\n- **Chunk Light**: Static, calculated once, stored in `ChunkLightData`\n- **Dynamic Light**: Real-time, follows entity, rendered client-side\n\nThe client combines both light sources for final illumination.\n\n## Persistent Light Serialization\n\n`PersistentDynamicLight` is saved with entity data:\n\n```json\n{\n  \"Components\": {\n    \"Light\": {\n      \"Radius\": 8,\n      \"Red\": 15,\n      \"Green\": 10,\n      \"Blue\": 5\n    }\n  }\n}\n```\n\n**Codec:** Uses `ProtocolCodecs.COLOR_LIGHT` via `BuilderCodec`\n\n## Best Practices\n\n1. **Use Persistent for permanent lights**: Lanterns, glowing items, etc.\n2. **Use Runtime for effects**: Spell glows, fire, temporary buffs\n3. **Limit light count**: Many dynamic lights can impact performance\n4. **Reasonable radius**: Keep radius under 15 for best results\n5. **Update frequency**: Don't update every tick unless needed (flickering)\n\n## Related\n\n- [Light Propagation](/api-reference/world/lighting/) - Chunk-based lighting\n- [Entity System](/api-reference/entities/overview/) - Entity management\n- [ECS Overview](/core-concepts/ecs-overview/) - Component architecture","src/content/docs/api-reference/world/dynamic-lighting.mdx","511147124896d7a5","api-reference/world/lighting",{"id":408,"data":410,"body":415,"filePath":416,"digest":417,"deferredRender":16},{"title":411,"editUrl":16,"head":412,"template":52,"sidebar":413,"pagefind":16,"draft":42},"Lighting System",[],{"hidden":42,"attrs":414},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# Lighting System\n\nThe lighting system calculates and propagates light through the world using a flood-fill algorithm with support for colored block light and skylight.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.universe.world.lighting`\n\n## Overview\n\nHytale uses a 4-channel lighting system:\n- **Red block light** (0-15)\n- **Green block light** (0-15)\n- **Blue block light** (0-15)\n- **Skylight** (0-15)\n\nLight is calculated per chunk section (32x32x32 blocks) using flood-fill propagation.\n\n## Light Channels\n\n| Channel | Bits | Range | Source |\n|---------|------|-------|--------|\n| Red | 0-3 | 0-15 | Block light sources |\n| Green | 4-7 | 0-15 | Block light sources |\n| Blue | 8-11 | 0-15 | Block light sources |\n| Skylight | 12-15 | 0-15 | Sky exposure |\n\n**Combined format:** 16-bit short value\n\n## Core Classes\n\n### ChunkLightingManager\n\nMain manager running on a dedicated daemon thread per world:\n\n```java\npackage com.hypixel.hytale.server.core.universe.world.lighting;\n\npublic class ChunkLightingManager {\n    // Queue chunk for light recalculation\n    public void addToQueue(Vector3i chunkPosition);\n\n    // Initialize lighting for newly loaded chunk\n    public void init(WorldChunk chunk);\n\n    // Swap calculation algorithm\n    public void setLightCalculation(LightCalculation calculation);\n\n    // Mark block area for recalculation\n    public void invalidateLightAtBlock(\n        Vector3i blockPosition,\n        WorldChunk chunk\n    );\n\n    // Mark entire chunk for recalculation\n    public void invalidateLightInChunk(WorldChunk chunk);\n\n    // Mark specific section (32x32x32)\n    public void invalidateLightInChunkSection(\n        WorldChunk chunk,\n        int sectionIndex\n    );\n\n    // Full world invalidation\n    public void invalidateLoadedChunks();\n}\n```\n\n### LightCalculation\n\nInterface for pluggable light calculation algorithms:\n\n```java\npackage com.hypixel.hytale.server.core.universe.world.lighting;\n\npublic interface LightCalculation {\n    // Initialize lighting for loaded chunk\n    void init(WorldChunk chunk);\n\n    // Process queued chunk position\n    CalculationResult calculateLight(Vector3i chunkPosition);\n\n    // Mark block for update\n    void invalidateLightAtBlock(\n        Vector3i blockPosition,\n        WorldChunk chunk\n    );\n\n    // Mark sections for update\n    void invalidateLightInChunkSections(\n        WorldChunk chunk,\n        int... sectionIndices\n    );\n}\n\n// Calculation result\npublic enum CalculationResult {\n    NOT_LOADED,          // Chunk or neighbors not in memory\n    DONE,                // Processing complete\n    INVALIDATED,         // Recalculation requested mid-process\n    WAITING_FOR_NEIGHBOUR // Neighbor section not ready\n}\n```\n\n### FloodLightCalculation\n\nDefault implementation using flood-fill algorithm:\n\n```java\npackage com.hypixel.hytale.server.core.universe.world.lighting;\n\npublic class FloodLightCalculation implements LightCalculation {\n    // Two-phase calculation:\n    // 1. Local light (block light sources)\n    // 2. Global light (skylight propagation)\n}\n```\n\n**Propagation Rules:**\n\n| Propagation Type | Light Reduction |\n|------------------|-----------------|\n| Direct neighbor (6 faces) | -1 |\n| Edge connection (12 edges) | -2 |\n| Corner connection (8 corners) | -3 |\n| Through semitransparent | Additional -1 |\n| Through solid | Blocked |\n\n### FullBrightLightCalculation\n\nDebug wrapper that sets all skylight to maximum:\n\n```java\npackage com.hypixel.hytale.server.core.universe.world.lighting;\n\npublic class FullBrightLightCalculation implements LightCalculation {\n    // Wraps delegate calculation\n    // After completion, sets all skylight to 15\n}\n```\n\n## Light Data Storage\n\n### ChunkLightData\n\nImmutable light storage for chunk sections:\n\n```java\npackage com.hypixel.hytale.server.core.universe.world.chunk.section;\n\npublic class ChunkLightData {\n    // Constants\n    public static final int TREE_SIZE = 8;      // Octtree subdivision\n    public static final int MAX_VALUE = 15;     // Max light per channel\n    public static final int CHANNEL_COUNT = 4;  // RGBA + sky\n\n    // Get individual channel values (0-15)\n    public int getRedBlockLight(int index);\n    public int getGreenBlockLight(int index);\n    public int getBlueBlockLight(int index);\n    public int getSkyLight(int index);\n\n    // Get max of RGB channels\n    public int getBlockLightIntensity(int index);\n\n    // Get specific channel (0-3)\n    public int getLight(int index, int channel);\n\n    // Get raw 16-bit combined value\n    public short getLightRaw(int index);\n\n    // Static utilities\n    public static short combineLightValues(\n        int red, int green, int blue, int sky\n    );\n\n    public static int getLightValue(short value, int channel);\n}\n```\n\n### ChunkLightDataBuilder\n\nMutable builder for light calculation:\n\n```java\npublic class ChunkLightDataBuilder {\n    // Set individual channels\n    public void setLight(int index, int channel, int value);\n    public void setSkyLight(int index, int value);\n\n    // Set raw combined value\n    public void setLightRaw(int index, short value);\n\n    // Build immutable result\n    public ChunkLightData build();\n}\n```\n\n## Block Light Sources\n\nBlocks define their light emission in their block type definition:\n\n```java\n// BlockType light properties\npublic class BlockType {\n    // Light emission (ColorLight format)\n    public ColorLight getBlockLight();\n\n    // Opacity for light propagation\n    public BlockOpacity getOpacity();\n}\n\n// Opacity types\npublic enum BlockOpacity {\n    SOLID,           // Blocks all light\n    SEMITRANSPARENT, // Reduces light by additional 1\n    CUTOUT,          // Reduces light by additional 1\n    TRANSPARENT      // Full light pass-through\n}\n```\n\n### ColorLight\n\nLight color and radius definition:\n\n```java\npackage com.hypixel.hytale.protocol;\n\npublic class ColorLight {\n    public int radius;  // Light reach (1 byte)\n    public int red;     // Red intensity 0-15 (1 byte)\n    public int green;   // Green intensity 0-15 (1 byte)\n    public int blue;    // Blue intensity 0-15 (1 byte)\n\n    public ColorLight(int radius, int red, int green, int blue);\n}\n```\n\n## Usage Examples\n\n### Invalidating Light at Block\n\n```java\nimport com.hypixel.hytale.server.core.universe.world.lighting.ChunkLightingManager;\nimport com.hypixel.hytale.math.vector.Vector3i;\n\n// Get lighting manager from world\nWorld world = Universe.get().getWorld(\"default\");\nChunkLightingManager lightingManager = world.getLightingManager();\n\n// Mark block for recalculation (e.g., after placing light source)\nVector3i blockPosition = new Vector3i(100, 64, 200);\nWorldChunk chunk = world.getChunk(blockPosition);\n\nlightingManager.invalidateLightAtBlock(blockPosition, chunk);\n```\n\n### Reading Light Values\n\n```java\nimport com.hypixel.hytale.server.core.universe.world.chunk.section.ChunkLightData;\n\n// Get light data from chunk section\nWorldChunk chunk = world.getChunk(position);\nint sectionIndex = position.y / 32;\nChunkLightData lightData = chunk.getLightData(sectionIndex);\n\n// Calculate local index within section\nint localX = position.x & 31;\nint localY = position.y & 31;\nint localZ = position.z & 31;\nint index = localX + (localY * 32) + (localZ * 32 * 32);\n\n// Read individual channels\nint red = lightData.getRedBlockLight(index);\nint green = lightData.getGreenBlockLight(index);\nint blue = lightData.getBlueBlockLight(index);\nint sky = lightData.getSkyLight(index);\n\n// Or get combined block light intensity\nint blockLight = lightData.getBlockLightIntensity(index);\n\n// Get raw 16-bit value\nshort rawLight = lightData.getLightRaw(index);\n```\n\n### Switching Light Calculation Mode\n\n```java\nimport com.hypixel.hytale.server.core.universe.world.lighting.*;\n\n// Switch to full bright mode (for testing)\nChunkLightingManager manager = world.getLightingManager();\nLightCalculation current = manager.getLightCalculation();\nmanager.setLightCalculation(new FullBrightLightCalculation(current));\n\n// Invalidate all chunks to apply\nmanager.invalidateLoadedChunks();\n```\n\n## Light Propagation Algorithm\n\n### Local Light (Block Light)\n\n1. Find all light-emitting blocks in section\n2. Add their positions to propagation queue\n3. For each position in queue:\n   - Check 6 direct neighbors\n   - If neighbor has lower light, update and queue\n   - Apply opacity reduction\n4. Continue until queue is empty\n\n### Global Light (Skylight)\n\n1. Start from section borders\n2. Three propagation phases:\n   - **Sides**: Direct neighbors (-1 reduction)\n   - **Edges**: Edge connections (-2 reduction)\n   - **Corners**: Corner connections (-3 reduction)\n3. Check neighbor chunk sections if needed\n4. Wait for neighbors if not yet calculated\n\n```\nPropagation from center block:\n\n          Corner (-3)\n         /\n     Edge (-2)\n    /\nSide (-1)  CENTER  Side (-1)\n    \\\n     Edge (-2)\n         \\\n          Corner (-3)\n```\n\n## Commands\n\nBuilt-in lighting commands:\n\n| Command | Description |\n|---------|-------------|\n| `/lighting calculation flood` | Switch to flood algorithm |\n| `/lighting calculation fullbright` | Enable full brightness |\n| `/lighting invalidate` | Recalculate all loaded chunks |\n| `/lighting invalidate --one` | Recalculate player's chunk section |\n\n## Performance Considerations\n\n1. **Async Processing**: Light calculation runs on dedicated thread\n2. **Queue-based**: Changes are queued and processed in order\n3. **Section Granularity**: Updates are per 32x32x32 section\n4. **Neighbor Dependencies**: Sections wait for neighbors before completing\n5. **Octtree Storage**: Compact representation reduces memory\n\n## Related\n\n- [Dynamic Lighting](/api-reference/world/dynamic-lighting/) - Entity light sources\n- [World System](/api-reference/entities/overview/) - Chunk management\n- [Block System](/api-reference/blocks/overview/) - Block light properties","src/content/docs/api-reference/world/lighting.mdx","6984f909a0535f8a","api-reference/world/overview",{"id":418,"data":420,"body":425,"filePath":426,"digest":427,"deferredRender":16},{"title":421,"editUrl":16,"head":422,"template":52,"sidebar":423,"pagefind":16,"draft":42},"World System Overview",[],{"hidden":42,"attrs":424},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# World System Overview\n\nThe World System manages the game universe, individual worlds, chunks, blocks, and lighting. It provides the spatial foundation for all gameplay.\n\n## Package Location\n\n- Universe: `com.hypixel.hytale.server.core.universe.Universe`\n- World: `com.hypixel.hytale.server.core.universe.world.World`\n- WorldConfig: `com.hypixel.hytale.server.core.universe.world.WorldConfig`\n- EntityStore: `com.hypixel.hytale.server.core.universe.world.storage.EntityStore`\n- ChunkStore: `com.hypixel.hytale.server.core.universe.world.storage.ChunkStore`\n\n## Architecture\n\n```\n\n                          Universe                                \n   \n                          Worlds                                \n            \n     default          nether           custom            \n                  \n     EntityStore    EntityStore    EntityStore     \n                  \n                  \n     ChunkStore     ChunkStore     ChunkStore      \n                  \n                  \n       Chunks         Chunks         Chunks        \n                  \n            \n   \n   \n                       Player Storage                           \n   \n\n```\n\n## Universe\n\nThe `Universe` class is the top-level container for all worlds and player data.\n\n### Accessing the Universe\n\n```java\nimport com.hypixel.hytale.server.core.universe.Universe;\n\nUniverse universe = Universe.get();\n```\n\n### Key Methods\n\n| Method | Return Type | Description |\n|--------|-------------|-------------|\n| `get()` | `Universe` | Get the singleton universe instance |\n| `getWorlds()` | `Map\u003CString, World>` | Get all loaded worlds |\n| `getWorld(name)` | `World` | Get world by name |\n| `getWorld(uuid)` | `World` | Get world by UUID |\n| `getDefaultWorld()` | `World` | Get the default world |\n| `getPlayers()` | `List\u003CPlayerRef>` | Get all online players |\n| `getPlayer(uuid)` | `PlayerRef` | Get player by UUID |\n| `getPlayerStorage()` | `PlayerStorage` | Access player data storage |\n\n### World Management\n\n```java\n// Get all worlds\nMap\u003CString, World> worlds = universe.getWorlds();\n\n// Get specific world\nWorld netherWorld = universe.getWorld(\"nether\");\n\n// Get default world\nWorld defaultWorld = universe.getDefaultWorld();\n\n// Check if world exists\nif (universe.getWorlds().containsKey(\"custom\")) {\n    // World exists\n}\n```\n\n### Player Access\n\n```java\n// Get all online players across all worlds\nfor (PlayerRef player : universe.getPlayers()) {\n    // Process each player\n}\n\n// Find player by name\nPlayerRef player = universe.getPlayerByUsername(\"username\", NameMatching.DEFAULT);\n```\n\n## World\n\nEach `World` represents a separate game world with its own chunks, entities, and rules.\n\n### Accessing a World\n\n```java\n// From Universe\nWorld world = Universe.get().getWorld(\"default\");\n\n// From a player command context\nWorld world = player.getWorld();\n\n// From an entity\nWorld world = entity.getWorld();\n```\n\n### Key Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `name` | `String` | World's unique name |\n| `savePath` | `Path` | Filesystem path for world data |\n| `worldConfig` | `WorldConfig` | World configuration |\n| `entityStore` | `EntityStore` | Entity ECS store |\n| `chunkStore` | `ChunkStore` | Chunk ECS store |\n| `tick` | `long` | Current world tick |\n| `random` | `Random` | World's random generator |\n\n### World Methods\n\n```java\n// Get world name\nString name = world.getName();\n\n// Get stores\nEntityStore entityStore = world.getEntityStore();\nChunkStore chunkStore = world.getChunkStore();\n\n// Get current tick\nlong tick = world.getTick();\n\n// Check world state\nboolean isTicking = world.isTicking();\nboolean isPaused = world.isPaused();\n\n// Get world seed\nlong seed = world.getWorldConfig().getSeed();\n```\n\n### Player Management\n\n```java\n// Get players in this world\nCollection\u003CPlayerRef> players = world.getPlayerRefs();\n\n// Check player count\nint playerCount = world.getPlayerRefs().size();\n\n// Send message to all players\nworld.sendMessage(Message.raw(\"Hello everyone!\"));\n```\n\n### Block Operations\n\n```java\n// Get block at position\nint blockId = world.getBlock(x, y, z);\nBlockType blockType = world.getBlockType(x, y, z);\n\n// Set block\nworld.setBlock(x, y, z, blockType);\n\n// With settings\nSetBlockSettings settings = new SetBlockSettings()\n    .withNotifyNeighbors(true)\n    .withUpdateLighting(true);\nworld.setBlock(x, y, z, blockType, settings);\n\n// Check if position is loaded\nif (world.isChunkLoaded(chunkX, chunkZ)) {\n    // Safe to access blocks\n}\n```\n\n### Chunk Operations\n\n```java\n// Get chunk at position\nWorldChunk chunk = world.getChunk(chunkX, chunkZ);\n\n// Get chunk containing block position\nWorldChunk chunk = world.getChunkAt(blockX, blockZ);\n\n// Check chunk state\nboolean loaded = world.isChunkLoaded(chunkX, chunkZ);\n\n// Load chunk async\nCompletableFuture\u003CWorldChunk> future = world.loadChunkAsync(chunkX, chunkZ);\n```\n\n## World Configuration\n\n`WorldConfig` defines how a world behaves.\n\n### Key Configuration Options\n\n| Option | Type | Description |\n|--------|------|-------------|\n| `seed` | `long` | World generation seed |\n| `gameTime` | `long` | Starting game time |\n| `ticking` | `boolean` | Whether world ticks |\n| `worldGenProvider` | `IWorldGenProvider` | World generator |\n| `chunkStorageProvider` | `IChunkStorageProvider` | Chunk storage type |\n| `spawnProvider` | `ISpawnProvider` | Spawn location logic |\n| `gameplayConfig` | `GameplayConfig` | Combat, death, gameplay rules |\n\n### World Generator Providers\n\n| Provider | Description |\n|----------|-------------|\n| `FlatWorldGenProvider` | Flat world generation |\n| `VoidWorldGenProvider` | Empty void world |\n| `DummyWorldGenProvider` | No generation |\n\n### Chunk Storage Providers\n\n| Provider | Description |\n|----------|-------------|\n| `DefaultChunkStorageProvider` | Default file-based storage |\n| `EmptyChunkStorageProvider` | No persistence |\n| `IndexedStorageChunkStorageProvider` | Optimized indexed storage |\n\n### Spawn Providers\n\n| Provider | Description |\n|----------|-------------|\n| `GlobalSpawnProvider` | Single spawn point for all |\n| `IndividualSpawnProvider` | Per-player spawn points |\n| `FitToHeightMapSpawnProvider` | Spawn on terrain surface |\n\n## Entity Store & Chunk Store\n\nEach world has two ECS stores:\n\n### EntityStore\n\nFor world entities (players, mobs, items):\n\n```java\nEntityStore entityStore = world.getEntityStore();\nStore\u003CEntityStore> store = entityStore.getStore();\n\n// Spawn entity\nHolder\u003CEntityStore> holder = store.getRegistry().newHolder();\nholder.addComponent(positionType, new PositionComponent(x, y, z));\nRef\u003CEntityStore> ref = store.spawn(holder);\n\n// Access entity components\nPositionComponent pos = store.getComponent(ref, positionType);\n```\n\n### ChunkStore\n\nFor chunk-level data:\n\n```java\nChunkStore chunkStore = world.getChunkStore();\nStore\u003CChunkStore> store = chunkStore.getStore();\n\n// Access chunk components\nChunkComponent data = store.getComponent(chunkRef, chunkDataType);\n```\n\n## World Events\n\n### World Lifecycle Events\n\n```java\n// World starting\ngetEventRegistry().register(StartWorldEvent.class, event -> {\n    World world = event.getWorld();\n    // Initialize world-specific resources\n});\n\n// World added to universe\ngetEventRegistry().register(AddWorldEvent.class, event -> {\n    World world = event.getWorld();\n});\n\n// World removed from universe\ngetEventRegistry().register(RemoveWorldEvent.class, event -> {\n    World world = event.getWorld();\n});\n\n// All worlds loaded\ngetEventRegistry().register(AllWorldsLoadedEvent.class, event -> {\n    // Server fully initialized\n});\n```\n\n### Player World Events\n\n```java\n// Player added to world\ngetEventRegistry().register(AddPlayerToWorldEvent.class, event -> {\n    World world = event.getWorld();\n    PlayerRef player = event.getPlayerRef();\n});\n\n// Player removed from world\ngetEventRegistry().register(DrainPlayerFromWorldEvent.class, event -> {\n    World world = event.getWorld();\n    PlayerRef player = event.getPlayerRef();\n});\n```\n\n## Chunk System\n\n### Chunk Structure\n\nChunks are 16x256x16 block columns divided into 16x16x16 sections:\n\n```\nChunk Column (16 x 256 x 16)\n Section 0  (y: 0-15)\n Section 1  (y: 16-31)\n Section 2  (y: 32-47)\n   ...\n Section 15 (y: 240-255)\n```\n\n### Chunk Coordinates\n\n```java\n// Convert block coords to chunk coords\nint chunkX = Math.floorDiv(blockX, 16);\nint chunkZ = Math.floorDiv(blockZ, 16);\n\n// Or use utility\nint chunkX = ChunkUtil.blockToChunk(blockX);\nint chunkZ = ChunkUtil.blockToChunk(blockZ);\n\n// Local position within chunk (0-15)\nint localX = blockX & 15;\nint localZ = blockZ & 15;\n```\n\n### Working with Chunks\n\n```java\n// Get chunk\nWorldChunk chunk = world.getChunk(chunkX, chunkZ);\n\n// Check if chunk is generated\nif (chunk != null && chunk.isGenerated()) {\n    // Safe to read blocks\n}\n\n// Load chunk async\nworld.loadChunkAsync(chunkX, chunkZ).thenAccept(chunk -> {\n    // Chunk is now loaded\n});\n```\n\n## Block Operations\n\n### Block Types\n\n```java\n// Get block type by ID\nBlockType blockType = BlockType.getAssetMap().get(\"Rock_Stone\");\n\n// Get block type at position\nBlockType type = world.getBlockType(x, y, z);\n\n// Get block ID\nint blockId = world.getBlock(x, y, z);\n```\n\n### Setting Blocks\n\n```java\n// Simple set\nworld.setBlock(x, y, z, blockType);\n\n// With custom settings\nSetBlockSettings settings = new SetBlockSettings();\nsettings.setNotifyNeighbors(true);\nsettings.setUpdateLighting(true);\nsettings.setTriggerBlockUpdate(true);\n\nworld.setBlock(x, y, z, blockType, settings);\n```\n\n### Block States\n\nBlock states provide additional block data:\n\n```java\n// Get block state\nBlockState state = world.getBlockState(x, y, z);\n\n// Check state properties\nif (state.hasProperty(\"powered\")) {\n    boolean powered = state.getBoolean(\"powered\");\n}\n```\n\n## Lighting System\n\nThe lighting system handles both sky and block light:\n\n```java\n// Get light level at position\nint skyLight = world.getSkyLight(x, y, z);\nint blockLight = world.getBlockLight(x, y, z);\nint combinedLight = world.getLight(x, y, z);\n\n// Lighting is updated automatically when blocks change\n```\n\n## Running Tasks on World Thread\n\nWorlds run on their own thread. Schedule tasks appropriately:\n\n```java\n// Execute on world thread\nworld.execute(() -> {\n    // This runs on the world's thread\n    world.setBlock(x, y, z, blockType);\n});\n\n// Or use CompletableFuture\nCompletableFuture.runAsync(() -> {\n    // World thread operations\n}, world);\n```\n\n## Best Practices\n\n1. **Check chunk loading**: Always verify chunks are loaded before block access\n2. **Use async loading**: Load chunks asynchronously to avoid blocking\n3. **Run on correct thread**: World operations must run on the world's thread\n4. **Cache block types**: Store BlockType references, don't look up repeatedly\n5. **Batch operations**: Group multiple block changes when possible\n\n## Related\n\n- [ECS Overview](/core-concepts/ecs-overview/) - Entity Component System\n- [Entity System](/api-reference/entities/overview/) - Entity management\n- [Block Types](/api-reference/blocks/overview/) - Block type assets","src/content/docs/api-reference/world/overview.mdx","253ef23c645a05ff","tutorials/blockbench/setup",{"id":428,"data":430,"body":435,"filePath":436,"digest":437,"deferredRender":16},{"title":431,"editUrl":16,"head":432,"template":52,"sidebar":433,"pagefind":16,"draft":42},"Blockbench Setup",[],{"hidden":42,"attrs":434},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Card, CardGrid, LinkCard, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was compiled from official Hytale resources and community guides.\nAlways refer to official sources for the latest information.\n\u003C/Aside>\n\nBlockbench is the official tool for creating 3D models and animations for Hytale. This guide walks you through installing Blockbench and the Hytale plugin to start creating custom assets.\n\n## Prerequisites\n\n- A computer running Windows, macOS, or Linux\n- Internet connection for downloads\n- Basic understanding of 3D modeling concepts\n\n## Installation\n\n\u003CSteps>\n\n1. **Download Blockbench**\n\n   Visit [blockbench.net](https://blockbench.net) and download the installer for your operating system.\n\n   \u003CTabs>\n     \u003CTabItem label=\"Windows\">\n       Download the `.exe` installer and run it. Follow the installation prompts.\n     \u003C/TabItem>\n     \u003CTabItem label=\"macOS\">\n       Download the `.dmg` file. Open it and drag Blockbench to your Applications folder.\n     \u003C/TabItem>\n     \u003CTabItem label=\"Linux\">\n       Download the `.AppImage` file. Make it executable with `chmod +x` and run it.\n     \u003C/TabItem>\n   \u003C/Tabs>\n\n2. **Install the Hytale Plugin**\n\n   The Hytale Blockbench plugin adds support for Hytale's model format and constraints.\n\n   **Option A: From Blockbench (Recommended)**\n   - Open Blockbench\n   - Go to **File** > **Plugins**\n   - Search for \"Hytale\"\n   - Click **Install** on the Hytale Model plugin\n\n   **Option B: Manual Installation**\n   - Download from [GitHub](https://github.com/JannisX11/hytale-blockbench-plugin)\n   - In Blockbench, go to **File** > **Plugins** > **Load Plugin from File**\n   - Select the downloaded `.js` file\n\n3. **Verify Installation**\n\n   After installing the plugin, verify it's working:\n   - Go to **File** > **New**\n   - You should see **Hytale Model** as an option in the model type list\n\n   \u003CAside type=\"tip\">\n   If you don't see \"Hytale Model\", restart Blockbench and check that the plugin is enabled in **File** > **Plugins**.\n   \u003C/Aside>\n\n4. **Configure Settings (Optional)**\n\n   For the best experience, configure these Blockbench settings:\n   - **Settings** > **Grid** > Set snap to `1` for precise alignment\n   - **Settings** > **Preview** > Enable \"Show Axes\" for orientation reference\n   - Consider setting up your preferred keybindings\n\n\u003C/Steps>\n\n## Creating Your First Model\n\n\u003CSteps>\n\n1. **Create a New Hytale Model**\n\n   - Go to **File** > **New** > **Hytale Model**\n   - Enter a model name (e.g., `My_Custom_Sword`)\n   - Choose the appropriate scale:\n     - **Props/Blocks**: 32px = 1 block\n     - **Characters/NPCs**: 64px = 1 block\n\n2. **Add Geometry**\n\n   - Use the **Add Cube** tool to create basic shapes\n   - Only cubes and flat quads are supported\n   - Maximum 255 nodes per model\n\n3. **Apply Textures**\n\n   - Create or import a texture (must be multiples of 32px)\n   - Use the **Paint** tab to apply textures to faces\n   - UV map faces for precise texture alignment\n\n4. **Export Your Model**\n\n   - Go to **File** > **Export** > **Export Hytale Model**\n   - Save as `.blockymodel` file\n   - Export texture as `.png` separately\n\n\u003C/Steps>\n\n## Technical Requirements\n\nHytale models have specific technical constraints:\n\n| Constraint | Value | Notes |\n|------------|-------|-------|\n| **Max Nodes** | 255 | Includes cubes, groups, and bones |\n| **Geometry Types** | Cubes, Flat Quads | No triangles or complex meshes |\n| **Texture Sizes** | Multiples of 32px | 32, 64, 96, 128, 256, etc. |\n| **Grid Scale (Props)** | 32px = 1 block | Standard items and blocks |\n| **Grid Scale (Characters)** | 64px = 1 block | Player models and NPCs |\n| **Geometry Stretching** | 0.7x - 1.3x | Limited scaling per axis |\n\n\u003CAside type=\"danger\">\nExceeding the 255 node limit or using non-compliant geometry will cause export failures.\nMonitor your node count in the Outliner panel.\n\u003C/Aside>\n\n## File Types\n\nBlockbench with the Hytale plugin exports these file types:\n\n| Extension | Description | Usage |\n|-----------|-------------|-------|\n| `.blockymodel` | 3D model data | Model geometry and UV mapping |\n| `.blockyanim` | Animation data | Keyframe animations |\n| `.png` | Texture files | Model textures (32px multiples) |\n\n## Project Structure\n\nWhen creating assets for a plugin, organize files like this:\n\n```\nmy-plugin/\n assets/\n    item/\n       MyPlugin_Custom_Sword.json    # Item definition\n    model/\n        MyPlugin/\n            Weapons/\n                Sword/\n                    Custom.blockymodel\n                    Custom_Texture.png\n plugin.json\n```\n\n## Common Issues\n\n### Plugin Not Showing\n\n\u003CAside type=\"tip\" title=\"Solution\">\n1. Check **File** > **Plugins** to ensure it's installed and enabled\n2. Restart Blockbench\n3. Try reinstalling the plugin\n4. Check for Blockbench updates\n\u003C/Aside>\n\n### Export Fails\n\n\u003CAside type=\"tip\" title=\"Solution\">\n1. Verify node count is under 255\n2. Check all geometry is cubes or flat quads\n3. Ensure textures are multiples of 32px\n4. Remove any invalid geometry types\n\u003C/Aside>\n\n### Textures Look Wrong In-Game\n\n\u003CAside type=\"tip\" title=\"Solution\">\n1. Verify texture dimensions are 32px multiples\n2. Check UV mapping is correct\n3. Ensure texture path in JSON matches file location\n4. Use PNG format without transparency issues\n\u003C/Aside>\n\n## Best Practices\n\n1. **Plan your model** before starting - sketch out the design\n2. **Keep node count low** - combine cubes where possible\n3. **Use consistent scale** - follow the 32px or 64px grid\n4. **Name nodes clearly** - helps with animation and debugging\n5. **Test frequently** - export and check in-game often\n6. **Back up your work** - save `.bbmodel` files as backups\n7. **Match Hytale's art style** - study existing assets for reference\n\n## Animation Basics\n\nTo create animations:\n\n\u003CSteps>\n\n1. **Set up bones**\n   - Create a bone hierarchy in the Outliner\n   - Name bones descriptively (e.g., `Handle`, `Blade`, `Guard`)\n\n2. **Open the Animation tab**\n   - Click the **Animate** tab in Blockbench\n   - Create a new animation\n\n3. **Add keyframes**\n   - Move the timeline to a position\n   - Transform bones (rotate, move, scale)\n   - Keyframes are created automatically\n\n4. **Export animation**\n   - Go to **File** > **Export** > **Export Hytale Animation**\n   - Save as `.blockyanim` file\n\n\u003C/Steps>\n\n### Animation Naming Conventions\n\nFor weapons, use these naming patterns:\n\n| Animation | Purpose |\n|-----------|---------|\n| `Idle` | Default held position |\n| `Swing_Left` | Left swing attack |\n| `Swing_Right` | Right swing attack |\n| `Swing_Down` | Overhead attack |\n| `Thrust` | Stabbing motion |\n| `Guard` | Blocking stance |\n| `Dropped` | Dropped on ground |\n\n## Resources\n\n### Official Resources\n\n- [Blockbench Website](https://blockbench.net) - Download and documentation\n- [Hytale Model Guide](https://hytale.com/news/2025/12/an-introduction-to-making-models-for-hytale) - Official modeling guide\n- [Hytale Asset Guide](https://hytale.game/en/blockbench-and-asset-creation/) - Asset creation overview\n\n### Community Resources\n\n- [Hytale Blockbench Plugin (GitHub)](https://github.com/JannisX11/hytale-blockbench-plugin) - Plugin source code\n- [Blockbench Wiki](https://www.blockbench.net/wiki/) - General Blockbench documentation\n\n## Next Steps\n\n\u003CCardGrid>\n  \u003CLinkCard\n    title=\"Custom Weapon Tutorial\"\n    description=\"Create a complete weapon from scratch\"\n    href=\"/tutorials/examples/custom-weapon/\"\n  />\n  \u003CLinkCard\n    title=\"Item System\"\n    description=\"Understand how to define items in JSON\"\n    href=\"/api-reference/assets/items/overview/\"\n  />\n  \u003CLinkCard\n    title=\"Weapons Reference\"\n    description=\"Complete weapon documentation\"\n    href=\"/api-reference/assets/items/weapons/\"\n  />\n\u003C/CardGrid>\n\n## Related\n\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Including assets in plugins\n- [Item System Overview](/api-reference/assets/items/overview/) - Item JSON structure\n- [Weapons](/api-reference/assets/items/weapons/) - Weapon documentation","src/content/docs/tutorials/blockbench/setup.mdx","e5eef13185a999e0","tutorials/examples/custom-weapon",{"id":438,"data":440,"body":445,"filePath":446,"digest":447,"deferredRender":16},{"title":441,"editUrl":16,"head":442,"template":52,"sidebar":443,"pagefind":16,"draft":42},"Create a Custom Weapon",[],{"hidden":42,"attrs":444},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Card, CardGrid, LinkCard, Steps, Tabs, TabItem, FileTree, Badge } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis tutorial was created from analysis of actual game assets. Test all examples in-game to verify functionality.\n\u003C/Aside>\n\nThis tutorial walks you through creating a complete custom weapon for Hytale, from designing the model in Blockbench to defining the item in JSON and integrating it into your plugin.\n\n## What You'll Create\n\nBy the end of this tutorial, you'll have:\n- A custom sword model created in Blockbench\n- A texture for the weapon\n- A complete item definition with damage values\n- A crafting recipe\n- The weapon integrated into a plugin\n\n## Prerequisites\n\nBefore starting, ensure you have:\n- [Blockbench installed with the Hytale plugin](/tutorials/blockbench/setup/)\n- A basic understanding of JSON\n- A Hytale server plugin project set up\n- Familiarity with the [Item System](/api-reference/assets/items/overview/)\n\n## Part 1: Plan Your Weapon\n\n\u003CSteps>\n\n1. **Choose a weapon type**\n\n   We'll create a custom sword called \"Flame Sword\" that inherits from the standard sword template. This gives us access to all sword attack patterns automatically.\n\n2. **Define the stats**\n\n   Plan your weapon's characteristics:\n   - **Quality**: Rare (blue tier)\n   - **Item Level**: 35\n   - **Base Damage**: 12-15 Physical (stronger than iron)\n   - **Durability**: 150\n   - **Special**: Fire particle effects\n\n3. **Sketch the design**\n\n   Before modeling, sketch your sword design. Consider:\n   - Blade shape and length\n   - Handle design\n   - Guard style\n   - Any special visual elements (flames, glowing parts)\n\n\u003C/Steps>\n\n## Part 2: Create the Model\n\n\u003CSteps>\n\n1. **Open Blockbench and create a new Hytale Model**\n\n   - Go to **File** > **New** > **Hytale Model**\n   - Name: `Flame_Sword`\n   - Use scale: 32px = 1 block (standard for items)\n\n2. **Create the blade**\n\n   - Add a new cube for the blade\n   - Set dimensions to approximately:\n     - Width: 2px\n     - Height: 24px\n     - Depth: 4px\n   - Position it extending upward from the origin\n\n3. **Create the guard**\n\n   - Add another cube for the crossguard\n   - Dimensions: 8px x 2px x 4px\n   - Position below the blade\n\n4. **Create the handle**\n\n   - Add a cube for the grip\n   - Dimensions: 2px x 8px x 2px\n   - Position below the guard\n\n5. **Set up bones for animation**\n\n   - Create a bone named `Handle` at the grip position\n   - Parent all geometry to this bone\n   - This allows the sword to animate correctly when held\n\n6. **Verify constraints**\n\n   - Check node count (should be well under 255)\n   - Ensure all geometry is cubes\n   - Verify bone hierarchy is correct\n\n\u003C/Steps>\n\n\u003CAside type=\"tip\">\nStudy existing sword models in `Assets/Common/Items/Weapons/Sword/` for reference on proportions and bone setup.\n\u003C/Aside>\n\n## Part 3: Create the Texture\n\n\u003CSteps>\n\n1. **Create a texture template**\n\n   - In Blockbench, go to the **Paint** tab\n   - Create a new texture: 64x64 pixels (multiple of 32)\n\n2. **Paint the blade**\n\n   - Use a gradient from orange to red for a flame effect\n   - Add bright yellow highlights along the edge\n   - Consider adding subtle glow patterns\n\n3. **Paint the handle and guard**\n\n   - Use dark metals (gray/black) for contrast\n   - Add gold or brass accents on the guard\n   - Wrap texture on the handle for grip detail\n\n4. **Export the texture**\n\n   - Save as `Flame_Sword_Texture.png`\n   - Ensure dimensions are exact (64x64)\n\n\u003C/Steps>\n\n## Part 4: Export the Model\n\n\u003CSteps>\n\n1. **Export the model**\n\n   - Go to **File** > **Export** > **Export Hytale Model**\n   - Save as `Flame_Sword.blockymodel`\n\n2. **Organize files**\n\n   Create this folder structure in your plugin:\n\n   \u003CFileTree>\n   - my-plugin/\n     - assets/\n       - item/\n         - MyPlugin_Sword_Flame.json\n       - model/\n         - MyPlugin/\n           - Weapons/\n             - Sword/\n               - Flame_Sword.blockymodel\n               - Flame_Sword_Texture.png\n     - plugin.json\n   \u003C/FileTree>\n\n3. **Copy files to locations**\n\n   - Place `.blockymodel` in the model folder\n   - Place `.png` texture alongside it\n\n\u003C/Steps>\n\n## Part 5: Create the Item Definition\n\nCreate the JSON file that defines your weapon's behavior:\n\n```json title=\"assets/item/MyPlugin_Sword_Flame.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.MyPlugin_Sword_Flame.name\"\n  },\n  \"Model\": \"MyPlugin/Weapons/Sword/Flame_Sword.blockymodel\",\n  \"Texture\": \"MyPlugin/Weapons/Sword/Flame_Sword_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/MyPlugin_Sword_Flame.png\",\n  \"Quality\": \"Rare\",\n  \"ItemLevel\": 35,\n  \"Categories\": [\"Items.Weapons\"],\n  \"Tags\": {\n    \"Type\": [\"Weapon\"],\n    \"Family\": [\"Sword\"]\n  },\n  \"Recipe\": {\n    \"TimeSeconds\": 5.0,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 8 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 4 },\n      { \"ItemId\": \"Ingredient_Ember\", \"Quantity\": 6 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Categories\": [\"Weapon_Sword\"],\n        \"Id\": \"Weapon_Bench\"\n      }\n    ]\n  },\n  \"InteractionVars\": {\n    \"Swing_Left_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Left_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 12 }\n        },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"WorldParticles\": [{ \"SystemId\": \"Fire_Impact_Small\" }]\n        }\n      }]\n    },\n    \"Swing_Right_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Right_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 13 }\n        },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"WorldParticles\": [{ \"SystemId\": \"Fire_Impact_Small\" }]\n        }\n      }]\n    },\n    \"Swing_Down_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Down_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 22 }\n        },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"WorldParticles\": [{ \"SystemId\": \"Fire_Impact_Medium\" }]\n        }\n      }]\n    },\n    \"Thrust_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Thrust_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 32 }\n        },\n        \"EntityStatsOnHit\": [\n          { \"EntityStatId\": \"SignatureEnergy\", \"Amount\": 4 }\n        ],\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"WorldParticles\": [{ \"SystemId\": \"Fire_Impact_Large\" }]\n        }\n      }]\n    },\n    \"Vortexstrike_Spin_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Signature_Vortexstrike_Spin_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 24 }\n        },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"WorldParticles\": [{ \"SystemId\": \"Fire_Burst\" }]\n        }\n      }]\n    },\n    \"Vortexstrike_Stab_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Signature_Vortexstrike_Stab_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 70 }\n        },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"WorldParticles\": [{ \"SystemId\": \"Fire_Explosion\" }]\n        }\n      }]\n    },\n    \"Guard_Wield\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Secondary_Guard_Wield\",\n        \"StaminaCost\": { \"Value\": 8, \"CostType\": \"Damage\" }\n      }]\n    }\n  },\n  \"MaxDurability\": 150,\n  \"DurabilityLossOnHit\": 0.18,\n  \"Particles\": [\n    {\n      \"SystemId\": \"Sword_Fire_Idle\",\n      \"TargetNodeName\": \"Handle\",\n      \"PositionOffset\": { \"X\": 0.6 },\n      \"TargetEntityPart\": \"PrimaryItem\"\n    }\n  ],\n  \"ItemSoundSetId\": \"ISS_Weapons_Blade_Large\"\n}\n```\n\n### Understanding the Definition\n\nLet's break down the key sections:\n\n\u003CTabs>\n  \u003CTabItem label=\"Inheritance\">\n```json\n{\n  \"Parent\": \"Template_Weapon_Sword\"\n}\n```\nBy inheriting from `Template_Weapon_Sword`, we get:\n- All basic sword attack patterns\n- The Vortexstrike signature ability\n- Guard/block mechanics\n- Proper animation bindings\n\nWe only need to override the values we want to change.\n  \u003C/TabItem>\n  \u003CTabItem label=\"Damage Values\">\n```json\n{\n  \"InteractionVars\": {\n    \"Swing_Left_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Left_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 12 }\n        }\n      }]\n    }\n  }\n}\n```\nEach attack type has its own damage definition. The `Parent` field inherits the base attack behavior while we override the damage value.\n\n**Damage Comparison (Iron Sword vs Flame Sword):**\n| Attack | Iron Sword | Flame Sword |\n|--------|------------|-------------|\n| Swing Left | 9 | 12 |\n| Swing Right | 10 | 13 |\n| Swing Down | 18 | 22 |\n| Thrust | 26 | 32 |\n| Vortexstrike Spin | 19 | 24 |\n| Vortexstrike Stab | 56 | 70 |\n  \u003C/TabItem>\n  \u003CTabItem label=\"Visual Effects\">\n```json\n{\n  \"DamageEffects\": {\n    \"WorldParticles\": [{ \"SystemId\": \"Fire_Impact_Small\" }]\n  },\n  \"Particles\": [\n    {\n      \"SystemId\": \"Sword_Fire_Idle\",\n      \"TargetNodeName\": \"Handle\",\n      \"PositionOffset\": { \"X\": 0.6 },\n      \"TargetEntityPart\": \"PrimaryItem\"\n    }\n  ]\n}\n```\n\n`DamageEffects.WorldParticles`: Particles when hitting enemies\n\n`Particles`: Constant particles on the weapon (the flame effect)\n  \u003C/TabItem>\n  \u003CTabItem label=\"Crafting\">\n```json\n{\n  \"Recipe\": {\n    \"TimeSeconds\": 5.0,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 8 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 4 },\n      { \"ItemId\": \"Ingredient_Ember\", \"Quantity\": 6 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Categories\": [\"Weapon_Sword\"],\n        \"Id\": \"Weapon_Bench\"\n      }\n    ]\n  }\n}\n```\n\nRequires a Weapon Bench with sword crafting capability. Uses iron bars, leather, and a fire-related ingredient (Ember). Takes 5 seconds to craft.\n  \u003C/TabItem>\n\u003C/Tabs>\n\n## Part 6: Configure Plugin Manifest\n\nUpdate your `plugin.json` to include the asset pack:\n\n```json title=\"plugin.json\"\n{\n  \"Name\": \"MyPlugin\",\n  \"Version\": \"1.0.0\",\n  \"Description\": \"Adds the Flame Sword weapon\",\n  \"Author\": \"YourName\",\n  \"IncludesAssetPack\": true\n}\n```\n\nThe `\"IncludesAssetPack\": true` setting tells the server to load assets from the `assets/` directory.\n\n## Part 7: Add Localization\n\nCreate a language file for the weapon name:\n\n```json title=\"assets/languages/en_US.lang\"\n{\n  \"server.items.MyPlugin_Sword_Flame.name\": \"Flame Sword\",\n  \"server.items.MyPlugin_Sword_Flame.description\": \"A sword imbued with eternal fire. Burns enemies on impact.\"\n}\n```\n\n## Part 8: Test Your Weapon\n\n\u003CSteps>\n\n1. **Build your plugin**\n\n   Package your plugin JAR with the assets folder included.\n\n2. **Install on server**\n\n   Place the JAR in your server's plugins directory.\n\n3. **Start the server**\n\n   Watch for any asset loading errors in the console.\n\n4. **Test in-game**\n\n   - Give yourself the weapon: `/give @s MyPlugin_Sword_Flame`\n   - Test all attack types:\n     - Left swing\n     - Right swing\n     - Down swing\n     - Thrust\n     - Vortexstrike (charge by hitting enemies)\n   - Test blocking\n   - Verify particles appear\n   - Check durability decreases correctly\n\n5. **Test crafting**\n\n   - Find or spawn a Weapon Bench\n   - Gather required materials\n   - Craft the sword\n   - Verify recipe works correctly\n\n\u003C/Steps>\n\n## Troubleshooting\n\n### Weapon doesn't appear\n\n\u003CAside type=\"tip\" title=\"Solution\">\n1. Check `plugin.json` has `\"IncludesAssetPack\": true`\n2. Verify JSON syntax is valid (use a JSON validator)\n3. Check file paths match exactly (case-sensitive)\n4. Look for errors in server console during startup\n\u003C/Aside>\n\n### Model looks wrong\n\n\u003CAside type=\"tip\" title=\"Solution\">\n1. Verify `.blockymodel` exported correctly from Blockbench\n2. Check model path in JSON matches actual file location\n3. Ensure bone hierarchy is set up correctly\n4. Verify texture dimensions are 32px multiples\n\u003C/Aside>\n\n### Attacks don't work\n\n\u003CAside type=\"tip\" title=\"Solution\">\n1. Verify `Parent` template name is exact: `Template_Weapon_Sword`\n2. Check `InteractionVars` names match exactly (case-sensitive)\n3. Ensure `DamageCalculator` structure is correct\n4. Look for JSON syntax errors\n\u003C/Aside>\n\n### No particles\n\n\u003CAside type=\"tip\" title=\"Solution\">\n1. Verify particle system IDs exist in the game\n2. Check `TargetNodeName` matches a bone in your model\n3. Try using known working particle IDs first (like `Torch_Fire`)\n\u003C/Aside>\n\n## Damage Balancing Guide\n\nWhen creating weapons, follow these guidelines for balanced progression:\n\n| Material Tier | Quality | Item Level | Swing Damage | Durability |\n|--------------|---------|------------|--------------|------------|\n| Wood/Bone | Common | 5-10 | 5-7 | 40-60 |\n| Copper | Common | 10-15 | 7-9 | 60-80 |\n| Iron | Uncommon | 15-25 | 9-12 | 80-120 |\n| Steel | Uncommon | 25-35 | 12-15 | 100-150 |\n| Mithril | Rare | 35-50 | 15-20 | 150-200 |\n| Adamantite | Epic | 50-70 | 20-28 | 200-300 |\n| Legendary | Legendary | 70+ | 28+ | 300+ |\n\n**Attack Type Damage Multipliers:**\n- Swing Left/Right: 1.0x base\n- Swing Down: 1.8-2.0x base\n- Thrust: 2.5-3.0x base\n- Signature Spin: 1.8-2.0x base\n- Signature Stab: 5.5-6.0x base\n\n## Advanced Customization\n\n### Adding Signature Visual Effects\n\nTo add a charging visual when the signature is ready:\n\n```json title=\"Signature ready particles\"\n{\n  \"ItemAppearanceConditions\": {\n    \"SignatureEnergy\": [\n      {\n        \"Condition\": [100, 100],\n        \"ConditionValueType\": \"Percent\",\n        \"Particles\": [\n          {\n            \"SystemId\": \"Sword_Fire_Signature_Ready\",\n            \"TargetNodeName\": \"Handle\",\n            \"PositionOffset\": { \"X\": 0.8 },\n            \"TargetEntityPart\": \"PrimaryItem\"\n          }\n        ],\n        \"ModelVFXId\": \"Sword_Fire_Glow\"\n      }\n    ]\n  }\n}\n```\n\n### Adding Durability Visual Changes\n\nShow wear as the weapon degrades:\n\n```json title=\"Durability appearance\"\n{\n  \"ItemAppearanceConditions\": {\n    \"Health\": [\n      {\n        \"Condition\": [0, 25],\n        \"Texture\": \"MyPlugin/Weapons/Sword/Flame_Sword_Damaged_Texture.png\",\n        \"Particles\": [{ \"SystemId\": \"Smoke_Light\" }]\n      },\n      {\n        \"Condition\": [26, 50],\n        \"Texture\": \"MyPlugin/Weapons/Sword/Flame_Sword_Worn_Texture.png\"\n      }\n    ]\n  }\n}\n```\n\n## Complete File Structure\n\nYour final plugin structure should look like:\n\n\u003CFileTree>\n- my-plugin/\n  - assets/\n    - item/\n      - MyPlugin_Sword_Flame.json\n    - model/\n      - MyPlugin/\n        - Weapons/\n          - Sword/\n            - Flame_Sword.blockymodel\n            - Flame_Sword_Texture.png\n    - languages/\n      - en_US.lang\n  - src/\n    - (your Java code)\n  - plugin.json\n\u003C/FileTree>\n\n## Next Steps\n\n\u003CCardGrid>\n  \u003CLinkCard\n    title=\"Create More Weapons\"\n    description=\"Try creating a bow or staff using different templates\"\n    href=\"/api-reference/assets/items/weapons/\"\n  />\n  \u003CLinkCard\n    title=\"Item System\"\n    description=\"Learn about item definitions in detail\"\n    href=\"/api-reference/assets/items/overview/\"\n  />\n  \u003CLinkCard\n    title=\"Blockbench Setup\"\n    description=\"Set up your modeling environment\"\n    href=\"/tutorials/blockbench/setup/\"\n  />\n  \u003CLinkCard\n    title=\"NPC System\"\n    description=\"Create enemies that drop your weapon\"\n    href=\"/api-reference/npc/overview/\"\n  />\n\u003C/CardGrid>\n\n## Related\n\n- [Blockbench Setup](/tutorials/blockbench/setup/) - Tool installation\n- [Item System Overview](/api-reference/assets/items/overview/) - Item fundamentals\n- [Weapons Reference](/api-reference/assets/items/weapons/) - Complete weapon documentation\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Asset pack configuration","src/content/docs/tutorials/examples/custom-weapon.mdx","9d4e537dcc7e140d","api-reference/assets/audio/effects",{"id":448,"data":450,"body":455,"filePath":456,"digest":457,"deferredRender":16},{"title":451,"editUrl":16,"head":452,"template":52,"sidebar":453,"pagefind":16,"draft":42},"Audio Effects",[],{"hidden":42,"attrs":454},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nAudio effects include reverb presets for spatial acoustics and EQ presets for frequency filtering. These effects are applied based on environment and player location.\n\n## Asset Location\n\n\u003CFileTree>\n- Assets/Server/Audio/\n  - Reverb/\n    - Rev_Default.json\n    - Rev_Cave.json\n    - Rev_Forest.json\n    - Rev_Plains.json\n    - Rev_Temple.json\n    - ...\n  - EQ/\n    - EQ_Default.json\n    - EQ_Underwater.json\n\u003C/FileTree>\n\n## Reverb Presets\n\nReverb simulates how sound reflects in different environments. Hytale includes 21 reverb presets.\n\n### Reverb Schema\n\n| Field | Type | Range | Description |\n|-------|------|-------|-------------|\n| `DryGain` | `float` | -100 to 0 | Direct sound level (dB) |\n| `Gain` | `float` | -100 to 0 | Overall reverb level (dB) |\n| `ModalDensity` | `float` | 0 to 1 | Echo density |\n| `Diffusion` | `float` | 0 to 1 | Diffusion amount |\n| `DecayTime` | `float` | 0.1 to 20 | Reverb tail length (seconds) |\n| `HighFrequencyGain` | `float` | -100 to 0 | High frequency attenuation (dB) |\n| `HighFrequencyDecayRatio` | `float` | 0.1 to 2 | HF decay relative to LF |\n| `ReflectionGain` | `float` | -100 to 10 | Early reflections level (dB) |\n| `ReflectionDelay` | `float` | 0 to 0.3 | Early reflection delay (seconds) |\n| `LateReverbGain` | `float` | -100 to 20 | Late reverb level (dB) |\n| `LateReverbDelay` | `float` | 0 to 0.1 | Late reverb delay (seconds) |\n| `RoomRolloffFactor` | `float` | 0 to 10 | Distance attenuation factor |\n| `AirAbsorbptionHighFrequencyGain` | `float` | -100 to 0 | Air absorption (dB) |\n| `LimitDecayHighFrequency` | `bool` | - | Limit HF decay to LF |\n\n### Available Presets\n\n#### Outdoor Presets\n\n| Preset | Decay Time | Character |\n|--------|------------|-----------|\n| `Rev_Plains` | Short | Open, minimal reflection |\n| `Rev_Plains_Desert` | Short | Dry, sparse |\n| `Rev_Plains_Fog` | Short | Muffled |\n| `Rev_Plains_Snow` | Short | Crisp, dampened |\n| `Rev_Forest` | Medium | Natural, diffuse |\n| `Rev_Forest_Desert` | Medium | Sparse canopy |\n| `Rev_Forest_Fog` | Medium | Dense, atmospheric |\n| `Rev_Forest_Snow` | Medium | Muted, cold |\n| `Rev_Mountain` | Long | Open, echoing |\n| `Rev_Mountain_Fog` | Long | Atmospheric |\n| `Rev_Mountain_Snow` | Long | Cold, distant |\n| `Rev_Swamp` | Medium | Wet, dense |\n| `Rev_Swamp_Foggy` | Medium | Heavy atmosphere |\n\n#### Interior Presets\n\n| Preset | Decay Time | Character |\n|--------|------------|-----------|\n| `Rev_Cave` | Long (~11s) | Cavernous, deep echoes |\n| `Rev_Mineshaft` | Medium | Enclosed, metallic |\n| `Rev_Temple` | Medium | Stone, reverent |\n| `Rev_Temple_Grand` | Long | Large hall, majestic |\n| `Rev_Mage_Tower` | Medium | Magical resonance |\n| `Rev_Village` | Short | Populated, domestic |\n| `Rev_Reflective_Slap` | Short | Hard surfaces |\n\n### Example: Cave Reverb\n\n```json title=\"Rev_Cave.json\"\n{\n  \"DryGain\": 0,\n  \"ModalDensity\": 1,\n  \"Diffusion\": 1,\n  \"Gain\": -15,\n  \"HighFrequencyGain\": -39,\n  \"DecayTime\": 11,\n  \"HighFrequencyDecayRatio\": 1.3,\n  \"ReflectionGain\": -10.4,\n  \"ReflectionDelay\": 0.2,\n  \"LateReverbGain\": 0,\n  \"LateReverbDelay\": 0.02,\n  \"RoomRolloffFactor\": 0,\n  \"AirAbsorbptionHighFrequencyGain\": -0.05,\n  \"LimitDecayHighFrequency\": false\n}\n```\n\nKey characteristics:\n- **Long decay (11s)** - Creates deep cave echo\n- **High diffusion (1.0)** - Smooth reverb tail\n- **High frequency attenuation (-39 dB)** - Muffled, distant sound\n- **Delayed reflections (0.2s)** - Simulates large space\n\n### Example: Plains Reverb\n\n```json title=\"Rev_Plains.json\"\n{\n  \"DryGain\": 0,\n  \"ModalDensity\": 0.3,\n  \"Diffusion\": 0.8,\n  \"Gain\": -25,\n  \"HighFrequencyGain\": -5,\n  \"DecayTime\": 1.5,\n  \"HighFrequencyDecayRatio\": 0.8,\n  \"ReflectionGain\": -20,\n  \"ReflectionDelay\": 0.01,\n  \"LateReverbGain\": -15,\n  \"LateReverbDelay\": 0.01,\n  \"RoomRolloffFactor\": 0,\n  \"AirAbsorbptionHighFrequencyGain\": -0.02,\n  \"LimitDecayHighFrequency\": true\n}\n```\n\nKey characteristics:\n- **Short decay (1.5s)** - Open air, minimal reflection\n- **Low density (0.3)** - Sparse environment\n- **Quiet reverb (-25 dB)** - Natural outdoor feel\n\n## EQ Presets\n\nEQ (equalization) adjusts frequency balance for special audio conditions.\n\n### EQ Schema\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `LowGain` | `float` | Bass frequency gain (dB) |\n| `LowCutOff` | `float` | Low band frequency (Hz) |\n| `LowMidGain` | `float` | Low-mid frequency gain (dB) |\n| `LowMidCenter` | `float` | Low-mid center frequency (Hz) |\n| `LowMidWidth` | `float` | Low-mid bandwidth |\n| `HighMidGain` | `float` | High-mid frequency gain (dB) |\n| `HighMidCenter` | `float` | High-mid center frequency (Hz) |\n| `HighMidWidth` | `float` | High-mid bandwidth |\n| `HighGain` | `float` | Treble frequency gain (dB) |\n| `HighCutOff` | `float` | High band frequency (Hz) |\n\n### Available Presets\n\n| Preset | Description |\n|--------|-------------|\n| `EQ_Default` | No frequency adjustment |\n| `EQ_Underwater` | Muffled, filtered sound |\n\n### Example: Underwater EQ\n\n```json title=\"EQ_Underwater.json\"\n{\n  \"LowGain\": 0,\n  \"LowCutOff\": 300,\n  \"LowMidGain\": -17.19,\n  \"LowMidCenter\": 1000,\n  \"LowMidWidth\": 1,\n  \"HighMidGain\": -17.9,\n  \"HighMidCenter\": 1500,\n  \"HighMidWidth\": 1,\n  \"HighGain\": -17.9,\n  \"HighCutOff\": 4000\n}\n```\n\nKey characteristics:\n- **Bass preserved (0 dB)** - Low frequencies travel well underwater\n- **Mid frequencies cut (~-17 dB)** - Muffled speech and effects\n- **High frequencies cut (~-18 dB)** - Water absorbs high frequencies\n\n## Environment Application\n\nEffects are applied based on environment configuration:\n\n```json title=\"Environment reference example\"\n{\n  \"ReverbPresetId\": \"Rev_Cave\",\n  \"EQPresetId\": \"EQ_Default\"\n}\n```\n\n### Transition Blending\n\nWhen moving between environments, effects crossfade:\n- Reverb parameters interpolate smoothly\n- EQ settings blend over transition duration\n- Player position determines active environment\n\n## Creating Custom Effects\n\n### Custom Reverb\n\n```json title=\"MyPlugin_Rev_CustomDungeon.json\"\n{\n  \"DryGain\": 0,\n  \"ModalDensity\": 0.7,\n  \"Diffusion\": 0.9,\n  \"Gain\": -18,\n  \"HighFrequencyGain\": -25,\n  \"DecayTime\": 4.5,\n  \"HighFrequencyDecayRatio\": 1.0,\n  \"ReflectionGain\": -8,\n  \"ReflectionDelay\": 0.08,\n  \"LateReverbGain\": -5,\n  \"LateReverbDelay\": 0.03,\n  \"RoomRolloffFactor\": 0,\n  \"AirAbsorbptionHighFrequencyGain\": -0.03,\n  \"LimitDecayHighFrequency\": true\n}\n```\n\n### Custom EQ\n\n```json title=\"MyPlugin_EQ_Magical.json\"\n{\n  \"LowGain\": 3,\n  \"LowCutOff\": 200,\n  \"LowMidGain\": 0,\n  \"LowMidCenter\": 800,\n  \"LowMidWidth\": 1,\n  \"HighMidGain\": 2,\n  \"HighMidCenter\": 3000,\n  \"HighMidWidth\": 0.8,\n  \"HighGain\": 4,\n  \"HighCutOff\": 8000\n}\n```\n\n## Reverb Design Guidelines\n\n### Small Spaces\n\n| Parameter | Value | Reason |\n|-----------|-------|--------|\n| DecayTime | 0.5-2s | Quick reflections |\n| ReflectionDelay | 0.01-0.05s | Close walls |\n| Gain | -20 to -10 | Moderate effect |\n\n### Large Spaces\n\n| Parameter | Value | Reason |\n|-----------|-------|--------|\n| DecayTime | 3-8s | Long echoes |\n| ReflectionDelay | 0.1-0.3s | Distant walls |\n| Gain | -15 to -5 | Prominent effect |\n\n### Outdoor\n\n| Parameter | Value | Reason |\n|-----------|-------|--------|\n| DecayTime | 0.5-2s | Minimal reflection |\n| ModalDensity | 0.2-0.5 | Sparse echoes |\n| Gain | -30 to -20 | Subtle effect |\n\n## Related\n\n- [Audio Overview](/api-reference/assets/audio/overview/) - Audio system overview\n- [Sound Events](/api-reference/assets/audio/sound-events/) - Sound event definitions\n- [Environments](/api-reference/assets/world/environments/) - Environment configuration","src/content/docs/api-reference/assets/audio/effects.mdx","fa6df15ed49335fb","api-reference/networking/packet-types",{"id":458,"data":460,"body":465,"filePath":466,"digest":467,"deferredRender":16},{"title":461,"editUrl":16,"head":462,"template":52,"sidebar":463,"pagefind":16,"draft":42},"Packet Types Catalog",[],{"hidden":42,"attrs":464},{},"import { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n{/* [VERIFIED: 2026-01-19] */}\n\n# Packet Types Catalog\n\nComplete catalog of all 354 packet types in the Hytale protocol, organized by category.\n\n## Package Location\n\n`com.hypixel.hytale.protocol.packets`\n\n## Packet Direction Legend\n\n| Symbol | Meaning |\n|--------|---------|\n| SC | Server to Client |\n| CS | Client to Server |\n| Both | Bidirectional |\n\n## Connection Packets\n\n**Package:** `protocol.packets.connection`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 0 | `Connect` | CS | Initial connection with protocol hash, UUID, username |\n| 1 | `Disconnect` | Both | Connection termination with reason |\n| 2 | `Ping` | SC | Latency measurement request |\n| 3 | `Pong` | CS | Latency measurement response |\n\n## Authentication Packets\n\n**Package:** `protocol.packets.auth`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 10 | `Status` | SC | Authentication status update |\n| 11 | `AuthGrant` | SC | Server grants authentication rights |\n| 12 | `AuthToken` | CS | Client sends access token |\n| 13 | `ServerAuthToken` | SC | Server provides auth token |\n| 14 | `ConnectAccept` | SC | Server accepts connection |\n| 15 | `PasswordResponse` | CS | Password authentication response |\n| 16 | `PasswordAccepted` | SC | Server accepts password |\n| 17 | `PasswordRejected` | SC | Server rejects password with reason |\n| 18 | `ClientReferral` | CS | Client referral data |\n\n## Setup Packets\n\n**Package:** `protocol.packets.setup`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 20 | `WorldSettings` | SC | World name, seed, difficulty, game rules |\n| 21 | `WorldLoadProgress` | SC | World loading progress indicator |\n| 22 | `WorldLoadFinished` | SC | World fully loaded signal |\n| 23 | `RequestAssets` | CS | Client requests specific assets |\n| 24 | `AssetInitialize` | SC | Begin asset transfer |\n| 25 | `AssetPart` | SC | Asset data chunk |\n| 26 | `AssetFinalize` | SC | Asset transfer complete |\n| 27 | `RemoveAssets` | SC | Remove assets from client cache |\n| 28 | `RequestCommonAssetsRebuild` | CS | Request common assets rebuild |\n| 29 | `SetUpdateRate` | SC | Server update tick rate |\n| 30 | `SetTimeDilation` | SC | Time dilation factor |\n| 31 | `UpdateFeatures` | SC | Server feature capabilities |\n| 32 | `ViewRadius` | SC | Chunk loading radius |\n| 33 | `PlayerOptions` | SC | Player-specific options |\n| 34 | `ServerTags` | SC | Server metadata tags |\n\n## Asset Packets\n\n**Package:** `protocol.packets.assets`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 40 | `UpdateBlockTypes` | SC | Block definitions (compressed) |\n| 41 | `UpdateBlockHitboxes` | SC | Block collision hitboxes |\n| 42 | `UpdateBlockSoundSets` | SC | Block sound effects |\n| 43 | `UpdateItemSoundSets` | SC | Item sound effects |\n| 44 | `UpdateBlockParticleSets` | SC | Block particle effects |\n| 45 | `UpdateBlockBreakingDecals` | SC | Block destruction visuals |\n| 46 | `UpdateBlockSets` | SC | Block groupings (compressed) |\n| 47 | `UpdateWeathers` | SC | Weather configurations |\n| 48 | `UpdateTrails` | SC | Particle trail definitions |\n| 49 | `UpdateParticleSystems` | SC | Particle systems (compressed) |\n| 50 | `UpdateParticleSpawners` | SC | Particle spawners |\n| 51 | `UpdateEntityEffects` | SC | Entity effect definitions |\n| 52 | `UpdateItemPlayerAnimations` | SC | Item player animations |\n| 53 | `UpdateModelvfxs` | SC | Model visual effects |\n| 54 | `UpdateItems` | SC | Item definitions (compressed) |\n| 55 | `UpdateItemQualities` | SC | Item quality definitions |\n| 56 | `UpdateItemCategories` | SC | Item categorization |\n| 57 | `UpdateItemReticles` | SC | Aiming reticle definitions |\n| 58 | `UpdateFieldcraftCategories` | SC | Fieldcraft categories |\n| 59 | `UpdateResourceTypes` | SC | Resource type definitions |\n| 60 | `UpdateRecipes` | SC | Crafting recipes (compressed) |\n| 61 | `UpdateEnvironments` | SC | Environment definitions |\n| 62 | `UpdateAmbienceFX` | SC | Ambient effects |\n| 63 | `UpdateFluidFX` | SC | Fluid visual effects |\n| 64 | `UpdateTranslations` | SC | Localization (compressed) |\n| 65 | `UpdateSoundEvents` | SC | Sound event definitions |\n| 66 | `UpdateInteractions` | SC | Interaction definitions |\n| 67 | `UpdateRootInteractions` | SC | Root interaction definitions |\n| 68 | `UpdateUnarmedInteractions` | SC | Unarmed combat interactions |\n| 69 | `TrackOrUpdateObjective` | SC | Track/update quest objective |\n| 70 | `UntrackObjective` | SC | Stop tracking objective |\n| 71 | `UpdateObjectiveTask` | SC | Objective task update |\n| 72 | `UpdateEntityStatTypes` | SC | Entity stat types |\n| 73 | `UpdateEntityUIComponents` | SC | Entity UI components |\n| 74 | `UpdateHitboxCollisionConfig` | SC | Collision configuration |\n| 75 | `UpdateRepulsionConfig` | SC | Entity repulsion config |\n| 76 | `UpdateViewBobbing` | SC | Camera bob settings |\n| 77 | `UpdateCameraShake` | SC | Camera shake effects (compressed) |\n| 78 | `UpdateBlockGroups` | SC | Block group definitions |\n| 79 | `UpdateSoundSets` | SC | Sound sets (compressed) |\n| 80 | `UpdateAudioCategories` | SC | Audio category definitions |\n| 81 | `UpdateReverbEffects` | SC | Reverb effects |\n| 82 | `UpdateEqualizerEffects` | SC | Audio equalizer configs |\n| 83 | `UpdateFluids` | SC | Fluid type definitions |\n| 84 | `UpdateTagPatterns` | SC | Tag pattern definitions |\n| 85 | `UpdateProjectileConfigs` | SC | Projectile configurations |\n\n## Player Packets\n\n**Package:** `protocol.packets.player`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 100 | `SetClientId` | SC | Assigns client ID |\n| 101 | `SetGameMode` | SC | Sets game mode |\n| 102 | `SetMovementStates` | SC | Movement state flags |\n| 103 | `SetBlockPlacementOverride` | SC | Block placement override |\n| 104 | `JoinWorld` | SC | Player joins world |\n| 105 | `ClientReady` | CS | Client ready for gameplay |\n| 106 | `LoadHotbar` | SC | Load hotbar configuration |\n| 107 | `SaveHotbar` | CS | Save hotbar state |\n| 108 | `ClientMovement` | CS | Player movement (compressed) |\n| 109 | `ClientTeleport` | CS | Teleportation request |\n| 110 | `UpdateMovementSettings` | CS | Movement settings |\n| 111 | `MouseInteraction` | CS | Mouse interaction event |\n| 112 | `DamageInfo` | SC | Player damage information |\n| 113 | `ReticleEvent` | CS | Reticle interaction |\n| 114 | `DisplayDebug` | SC | Debug information display |\n| 115 | `ClearDebugShapes` | SC | Clear debug shapes |\n| 116 | `SyncPlayerPreferences` | SC | Sync player preferences |\n| 117 | `ClientPlaceBlock` | CS | Block placement |\n| 118 | `UpdateMemoriesFeatureStatus` | SC | Memory feature status |\n| 119 | `RemoveMapMarker` | CS | Remove map marker |\n\n## World Packets\n\n**Package:** `protocol.packets.world`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 131 | `SetChunk` | SC | Chunk data with blocks/fluids |\n| 132 | `SetChunkHeightmap` | SC | Chunk heightmap |\n| 133 | `SetChunkTintmap` | SC | Chunk color tinting |\n| 134 | `SetChunkEnvironments` | SC | Chunk environment settings |\n| 135 | `UnloadChunk` | SC | Unload chunk |\n| 136 | `SetFluids` | SC | Fluid data |\n| 140 | `ServerSetBlock` | SC | Single block change |\n| 141 | `ServerSetBlocks` | SC | Batch block updates |\n| 142 | `ServerSetFluid` | SC | Single fluid change |\n| 143 | `ServerSetFluids` | SC | Batch fluid updates |\n| 144 | `UpdateBlockDamage` | SC | Block damage progress |\n| 145 | `UpdateTimeSettings` | SC | World time settings |\n| 146 | `UpdateTime` | SC | Current world time |\n| 147 | `UpdateEditorTimeOverride` | SC | Editor time override |\n| 148 | `ClearEditorTimeOverride` | SC | Clear time override |\n| 149 | `UpdateWeather` | SC | Weather update |\n| 150 | `UpdateEditorWeatherOverride` | SC | Editor weather override |\n| 151 | `UpdateEnvironmentMusic` | SC | Background music |\n| 152 | `SpawnParticleSystem` | SC | Spawn particles |\n| 153 | `SpawnBlockParticleSystem` | SC | Block-based particles |\n| 154 | `PlaySoundEvent2D` | SC | 2D ambient sound |\n| 155 | `PlaySoundEvent3D` | SC | 3D positional sound |\n| 156 | `PlaySoundEventEntity` | SC | Entity-attached sound |\n| 157 | `UpdateSleepState` | SC | Player sleep state |\n| 158 | `SetPaused` | SC | Client pause state |\n| 159 | `ServerSetPaused` | SC | Server pause state |\n| 360 | `UpdateSunSettings` | SC | Sun/lighting settings |\n| 361 | `UpdatePostFxSettings` | SC | Post-processing settings |\n\n## Entity Packets\n\n**Package:** `protocol.packets.entities`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 160 | `SetEntitySeed` | SC | Entity random seed |\n| 161 | `EntityUpdates` | SC | Batch entity updates |\n| 162 | `PlayAnimation` | SC | Entity animation |\n| 163 | `ChangeVelocity` | SC | Entity velocity |\n| 164 | `ApplyKnockback` | SC | Knockback force |\n| 165 | `SpawnModelParticles` | SC | Model particle effects |\n| 166 | `MountMovement` | SC | Mount movement updates |\n\n## Inventory Packets\n\n**Package:** `protocol.packets.inventory`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 170 | `UpdatePlayerInventory` | SC | Full inventory update (compressed) |\n| 171 | `SetCreativeItem` | SC | Creative inventory item |\n| 172 | `DropCreativeItem` | CS | Drop creative item |\n| 173 | `SmartGiveCreativeItem` | SC | Smart item give |\n| 174 | `DropItemStack` | CS | Drop item stack |\n| 175 | `MoveItemStack` | CS | Move item between slots |\n| 176 | `SmartMoveItemStack` | CS | Smart item move |\n| 177 | `SetActiveSlot` | CS | Set active hotbar slot |\n| 178 | `SwitchHotbarBlockSet` | CS | Switch hotbar block set |\n| 179 | `InventoryAction` | CS | Generic inventory action |\n\n## Window Packets\n\n**Package:** `protocol.packets.window`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 200 | `OpenWindow` | SC | Open GUI window |\n| 201 | `UpdateWindow` | SC | Window content update (compressed) |\n| 202 | `CloseWindow` | Both | Close active window |\n| 203 | `SendWindowAction` | CS | Window interaction |\n| 204 | `ClientOpenWindow` | CS | Request window open |\n\n## Interface Packets\n\n**Package:** `protocol.packets.interface_`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 210 | `ServerMessage` | SC | Server message display |\n| 211 | `ChatMessage` | Both | Chat message |\n| 212 | `Notification` | SC | UI notification |\n| 213 | `KillFeedMessage` | SC | Kill feed entry |\n| 214 | `ShowEventTitle` | SC | Display event title |\n| 215 | `HideEventTitle` | SC | Hide event title |\n| 216 | `SetPage` | SC | Set UI page |\n| 217 | `CustomHud` | SC | Custom HUD element |\n| 218 | `CustomPage` | SC | Custom page content |\n| 219 | `CustomPageEvent` | CS | Custom page interaction |\n| 222 | `EditorBlocksChange` | SC | Editor block changes |\n| 223 | `ServerInfo` | SC | Server info (name, MOTD) |\n| 224 | `AddToServerPlayerList` | SC | Add player to list |\n| 225 | `RemoveFromServerPlayerList` | SC | Remove player from list |\n| 226 | `UpdateServerPlayerList` | SC | Batch player list update |\n| 227 | `UpdateServerPlayerListPing` | SC | Update player pings |\n| 228 | `UpdateKnownRecipes` | SC | Known recipes (compressed) |\n| 229 | `UpdatePortal` | SC | Portal update |\n| 230 | `UpdateVisibleHudComponents` | SC | HUD visibility |\n| 231 | `ResetUserInterfaceState` | SC | Reset UI state |\n| 232 | `UpdateLanguage` | SC | Language update |\n| 233 | `WorldSavingStatus` | SC | Save progress |\n| 234 | `OpenChatWithCommand` | SC | Open chat with command |\n\n## World Map Packets\n\n**Package:** `protocol.packets.worldmap`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 240 | `UpdateWorldMapSettings` | SC | Map display settings |\n| 241 | `UpdateWorldMap` | SC | Map data (compressed) |\n| 242 | `ClearWorldMap` | SC | Clear map data |\n| 243 | `UpdateWorldMapVisible` | SC | Visible map regions |\n| 244 | `TeleportToWorldMapMarker` | CS | Teleport to marker |\n| 245 | `TeleportToWorldMapPosition` | CS | Teleport to coordinates |\n\n## Server Access Packets\n\n**Package:** `protocol.packets.serveraccess`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 250 | `RequestServerAccess` | CS | Request access level |\n| 251 | `UpdateServerAccess` | SC | Update player access |\n| 252 | `SetServerAccess` | CS | Set/modify access |\n\n## Machinima Packets\n\n**Package:** `protocol.packets.machinima`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 260 | `RequestMachinimaActorModel` | CS | Request actor model |\n| 261 | `SetMachinimaActorModel` | SC | Set actor model |\n| 262 | `UpdateMachinimaScene` | SC | Update scene config |\n\n## Camera Packets\n\n**Package:** `protocol.packets.camera`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 280 | `SetServerCamera` | SC | Server camera control |\n| 281 | `CameraShakeEffect` | SC | Camera shake effect |\n| 282 | `RequestFlyCameraMode` | CS | Request fly camera |\n| 283 | `SetFlyCameraMode` | SC | Set fly camera state |\n\n## Interaction Packets\n\n**Package:** `protocol.packets.interaction`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 290 | `SyncInteractionChains` | SC | Sync interaction chains |\n| 291 | `CancelInteractionChain` | CS | Cancel interaction |\n| 292 | `PlayInteractionFor` | SC | Play interaction |\n| 293 | `MountNPC` | CS | Mount NPC |\n| 294 | `DismountNPC` | CS | Dismount from NPC |\n\n## Asset Editor Packets\n\n**Package:** `protocol.packets.asseteditor`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 300 | `FailureReply` | SC | Operation failed |\n| 301 | `SuccessReply` | SC | Operation succeeded |\n| 302 | `AssetEditorInitialize` | SC | Initialize editor |\n| 303 | `AssetEditorAuthorization` | SC | Check authorization |\n| 304 | `AssetEditorCapabilities` | SC | Editor capabilities |\n| 305 | `AssetEditorSetupSchemas` | SC | Asset schemas |\n| 306 | `AssetEditorSetupAssetTypes` | SC | Asset types |\n| 307 | `AssetEditorCreateDirectory` | CS | Create directory |\n| 308 | `AssetEditorDeleteDirectory` | CS | Delete directory |\n| 309 | `AssetEditorRenameDirectory` | CS | Rename directory |\n| 310 | `AssetEditorFetchAsset` | CS | Fetch asset data |\n| 311 | `AssetEditorFetchJsonAssetWithParents` | CS | Fetch with inheritance |\n| 312 | `AssetEditorFetchAssetReply` | SC | Asset fetch reply |\n| 313 | `AssetEditorFetchJsonAssetWithParentsReply` | SC | Inheritance reply |\n| 314 | `AssetEditorAssetPackSetup` | SC | Asset pack info |\n| 315 | `AssetEditorUpdateAssetPack` | CS | Update asset pack |\n| 316 | `AssetEditorCreateAssetPack` | CS | Create asset pack |\n| 317 | `AssetEditorDeleteAssetPack` | CS | Delete asset pack |\n| 318 | `AssetEditorEnableAssetPack` | CS | Enable/disable pack |\n| 319 | `AssetEditorAssetListSetup` | SC | Asset list |\n| 320 | `AssetEditorAssetListUpdate` | SC | Update asset list |\n| 321 | `AssetEditorRequestChildrenList` | CS | Request children |\n| 322 | `AssetEditorRequestChildrenListReply` | SC | Children reply |\n| 323 | `AssetEditorUpdateJsonAsset` | CS | Update JSON asset |\n| 324 | `AssetEditorUpdateAsset` | CS | Update asset |\n| 325 | `AssetEditorJsonAssetUpdated` | SC | JSON update notice |\n| 326 | `AssetEditorAssetUpdated` | SC | Asset update notice |\n| 327 | `AssetEditorCreateAsset` | CS | Create asset |\n| 328 | `AssetEditorRenameAsset` | CS | Rename asset |\n| 329 | `AssetEditorDeleteAsset` | CS | Delete asset |\n| 330 | `AssetEditorDiscardChanges` | CS | Discard changes |\n| 331 | `AssetEditorFetchAutoCompleteData` | CS | Autocomplete request |\n| 332 | `AssetEditorFetchAutoCompleteDataReply` | SC | Autocomplete reply |\n| 333 | `AssetEditorRequestDataset` | CS | Request dataset |\n| 334 | `AssetEditorRequestDatasetReply` | SC | Dataset reply |\n| 335 | `AssetEditorActivateButton` | CS | Activate button |\n| 336 | `AssetEditorSelectAsset` | CS | Select asset |\n| 337 | `AssetEditorPopupNotification` | SC | Popup notification |\n| 338 | `AssetEditorFetchLastModifiedAssets` | CS | Recent assets |\n| 339 | `AssetEditorLastModifiedAssets` | SC | Recent assets reply |\n| 340 | `AssetEditorModifiedAssetsCount` | SC | Modified count |\n| 341 | `AssetEditorSubscribeModifiedAssetsChanges` | CS | Subscribe changes |\n| 342 | `AssetEditorExportAssets` | CS | Export assets |\n| 343 | `AssetEditorExportAssetInitialize` | SC | Begin export |\n| 344 | `AssetEditorExportAssetPart` | SC | Export chunk |\n| 345 | `AssetEditorExportAssetFinalize` | SC | Export complete |\n| 346 | `AssetEditorExportDeleteAssets` | SC | Remove exports |\n| 347 | `AssetEditorExportComplete` | SC | Export finished |\n| 348 | `AssetEditorRebuildCaches` | CS | Rebuild caches |\n| 349 | `AssetEditorUndoChanges` | CS | Undo edit |\n| 350 | `AssetEditorRedoChanges` | CS | Redo edit |\n| 351 | `AssetEditorUndoRedoReply` | SC | Undo/redo reply |\n| 352 | `AssetEditorSetGameTime` | CS | Set preview time |\n| 353 | `AssetEditorUpdateSecondsPerGameDay` | CS | Adjust time speed |\n| 354 | `AssetEditorUpdateWeatherPreviewLock` | CS | Lock weather |\n| 355 | `AssetEditorUpdateModelPreview` | CS | Update model preview |\n\n## Builder Tools Packets\n\n**Package:** `protocol.packets.buildertools`\n\n| ID | Name | Direction | Description |\n|----|------|-----------|-------------|\n| 400 | `BuilderToolArgUpdate` | CS | Tool argument update |\n| 401 | `BuilderToolEntityAction` | CS | Entity modification |\n| 402 | `BuilderToolSetEntityTransform` | CS | Entity transform |\n| 403 | `BuilderToolExtrudeAction` | CS | Extrude selection |\n| 404 | `BuilderToolStackArea` | CS | Stack/duplicate |\n| 405 | `BuilderToolSelectionTransform` | CS | Transform selection |\n| 406 | `BuilderToolRotateClipboard` | CS | Rotate clipboard |\n| 407 | `BuilderToolPasteClipboard` | CS | Paste clipboard |\n| 408 | `BuilderToolSetTransformationModeState` | CS | Transformation mode |\n| 409 | `BuilderToolSelectionUpdate` | CS | Update selection |\n| 410 | `BuilderToolSelectionToolAskForClipboard` | CS | Request clipboard |\n| 411 | `BuilderToolSelectionToolReplyWithClipboard` | CS | Clipboard reply |\n| 412 | `BuilderToolGeneralAction` | CS | Generic action |\n| 413 | `BuilderToolOnUseInteraction` | CS | On-use trigger |\n| 414 | `BuilderToolLineAction` | CS | Line creation |\n| 415 | `BuilderToolShowAnchor` | SC | Show anchor |\n| 416 | `BuilderToolHideAnchors` | SC | Hide anchors |\n| 417 | `PrefabUnselectPrefab` | CS | Deselect prefab |\n| 418 | `BuilderToolsSetSoundSet` | CS | Set sound set |\n| 419 | `BuilderToolLaserPointer` | SC | Laser pointer |\n| 420 | `BuilderToolSetEntityScale` | CS | Entity scale |\n| 421 | `BuilderToolSetEntityPickupEnabled` | CS | Entity pickup |\n| 422 | `BuilderToolSetEntityLight` | CS | Entity light |\n| 423 | `BuilderToolSetNPCDebug` | CS | NPC debug |\n\n## Summary\n\n| Category | Count | Primary Direction |\n|----------|-------|-------------------|\n| Connection | 4 | Bidirectional |\n| Authentication | 9 | SC |\n| Setup | 16 | SC |\n| Assets | 46 | SC |\n| Player | 20 | Mixed |\n| World | 32 | SC |\n| Entities | 7 | SC |\n| Inventory | 10 | Mixed |\n| Window | 5 | SC |\n| Interface | 23 | SC |\n| World Map | 6 | Mixed |\n| Server Access | 4 | Mixed |\n| Machinima | 3 | SC |\n| Camera | 4 | Mixed |\n| Interaction | 5 | Mixed |\n| Asset Editor | 56 | Mixed |\n| Builder Tools | 23 | CS |\n| **Total** | **354** | |\n\n## Related\n\n- [Networking Overview](/api-reference/entities/overview/) - Packet system architecture\n- [Event System](/core-concepts/event-system/) - Server events","src/content/docs/api-reference/networking/packet-types.mdx","0655b0446e45b764","api-reference/assets/audio/overview",{"id":468,"data":470,"body":475,"filePath":476,"digest":477,"deferredRender":16},{"title":471,"editUrl":16,"head":472,"template":52,"sidebar":473,"pagefind":16,"draft":42},"Audio Assets",[],{"hidden":42,"attrs":474},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Card, CardGrid, LinkCard, Tabs, TabItem, FileTree, Badge } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of audio assets in `/Assets/Server/Audio/` and `/Assets/Common/Sounds/`.\nVerify all information against actual asset files before use in production.\n\u003C/Aside>\n\nThe Hytale audio system manages sound effects, music, ambient audio, and audio processing. This page covers the asset files that configure audio behavior.\n\n## Asset Locations\n\n| Directory | Purpose |\n|-----------|---------|\n| `Assets/Server/Audio/SoundEvents/` | Sound event definitions |\n| `Assets/Server/Audio/AudioCategories/` | Volume categories |\n| `Assets/Server/Audio/ItemSounds/` | Item sound sets |\n| `Assets/Server/Audio/SoundSets/` | Block sound sets |\n| `Assets/Server/Audio/Reverb/` | Reverb presets |\n| `Assets/Server/Audio/EQ/` | Equalizer presets |\n| `Assets/Server/Audio/AmbienceFX/` | Ambient effects |\n| `Assets/Common/Sounds/` | Audio files (.ogg) |\n| `Assets/Common/Music/` | Music files |\n\n## Sound File Formats\n\n| Format | Extension | Usage |\n|--------|-----------|-------|\n| Ogg Vorbis | `.ogg` | Sound effects and music |\n| Hytale Audio | `.lpf` | Hytale-specific audio format |\n\n## Sound Events\n\nSound events in `Assets/Server/Audio/SoundEvents/` define when and how sounds play.\n\n### Sound Event Schema\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Parent` | `string` | Parent event for inheritance |\n| `Layers` | `array` | Sound layers (multiple sounds) |\n| `Volume` | `number` | Volume in dB (0 = max) |\n| `Looping` | `boolean` | Whether sound loops |\n| `PreventSoundInterruption` | `boolean` | Prevent overlap |\n| `MaxInstance` | `number` | Maximum concurrent instances |\n\n### Layer Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Files` | `string[]` | Audio file paths |\n| `Volume` | `number` | Layer volume in dB |\n| `Looping` | `boolean` | Layer-specific looping |\n| `RandomSettings` | `object` | Randomization settings |\n\n### RandomSettings Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `MinVolume` | `number` | Minimum volume variation |\n| `MinPitch` | `number` | Minimum pitch variation |\n| `MaxPitch` | `number` | Maximum pitch variation |\n\n### Sound Event Examples\n\n\u003CTabs>\n  \u003CTabItem label=\"Simple Sound\">\n```json title=\"Chest_Open.json\"\n{\n  \"Layers\": [\n    {\n      \"Files\": [\n        \"Sounds/Items/Chest/Chest_Wooden_Open_01.ogg\"\n      ]\n    }\n  ],\n  \"Volume\": 2.0,\n  \"Parent\": \"SFX_Attn_Quiet\"\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Looping Sound\">\n```json title=\"Chest_Legendary_Loop.json\"\n{\n  \"Layers\": [\n    {\n      \"Files\": [\n        \"Sounds/Items/Chest/Chest_Legendary_LOOP.ogg\"\n      ],\n      \"Looping\": true\n    }\n  ],\n  \"Volume\": -4.46,\n  \"Parent\": \"SFX_Attn_Quiet\"\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Randomized Sound\">\n```json title=\"Item_Drop.json\"\n{\n  \"Layers\": [\n    {\n      \"Files\": [\n        \"Sounds/PlayerActions/Pickup/Player_Item_Drop_01.ogg\"\n      ],\n      \"RandomSettings\": {\n        \"MinVolume\": -1.94,\n        \"MinPitch\": 0,\n        \"MaxPitch\": 0\n      },\n      \"Volume\": -4.44\n    }\n  ],\n  \"Volume\": -19.0,\n  \"PreventSoundInterruption\": true,\n  \"MaxInstance\": 15,\n  \"Parent\": \"SFX_Attn_Moderate\"\n}\n```\n  \u003C/TabItem>\n\u003C/Tabs>\n\n## Attenuation Templates\n\nAttenuation templates define distance falloff for sounds:\n\n| Template | Description |\n|----------|-------------|\n| `SFX_Attn_VeryQuiet` | Very short range |\n| `SFX_Attn_Quiet` | Short range |\n| `SFX_Attn_Moderate` | Medium range |\n| `SFX_Attn_Loud` | Long range |\n| `SFX_Attn_VeryLoud` | Very long range |\n\nUse `Parent` field to inherit attenuation settings.\n\n## Audio Categories\n\nAudio categories in `Assets/Server/Audio/AudioCategories/` define volume groups.\n\n### Category Schema\n\n```json title=\"AudioCat_Music.json\"\n{\n  \"Volume\": -14.0\n}\n```\n\n### Standard Categories\n\n| Category | Base Volume | Purpose |\n|----------|-------------|---------|\n| `AudioCat_Music` | -14 dB | Background music |\n| `AudioCat_Weapons` | 0 dB | Weapon sounds |\n| `AudioCat_Footsteps` | 0 dB | Footstep sounds |\n| `AudioCat_Inventory` | 0 dB | Inventory UI sounds |\n| `AudioCat_NPC` | 0 dB | NPC sounds |\n| `AudioCat_Discovery` | 0 dB | Discovery/unlock sounds |\n\n## Item Sound Sets\n\nItem sound sets in `Assets/Server/Audio/ItemSounds/` define sounds for inventory interactions.\n\n### ItemSoundSet Schema\n\n```json title=\"ISS_Weapons_Blade_Large.json\"\n{\n  \"SoundEvents\": {\n    \"Drop\": \"SFX_Drop_Weapons_Blade_Large\",\n    \"Drag\": \"SFX_Drag_Weapons_Blade_Large\"\n  }\n}\n```\n\n### Standard ItemSoundSet Events\n\n| Event | Description |\n|-------|-------------|\n| `Drop` | Sound when item is dropped in inventory |\n| `Drag` | Sound when item is dragged |\n\n### Available ItemSoundSets\n\n**Armor:**\n- `ISS_Armor_Cloth` - Cloth armor\n- `ISS_Armor_Leather` - Leather armor\n- `ISS_Armor_Heavy` - Metal armor\n\n**Weapons:**\n- `ISS_Weapons_Blade_Large` - Large blades\n- `ISS_Weapon_Blade_Small` - Small blades\n- `ISS_Weapon_Blunt_Large` - Large blunt weapons\n- `ISS_Weapons_Blunt_Small` - Small blunt weapons\n- `ISS_Weapons_Stone_Large` - Large stone weapons\n- `ISS_Weapons_Stone_Small` - Small stone weapons\n- `ISS_Weapons_Wood` - Wooden weapons\n- `ISS_Weapons_Wand` - Wands\n- `ISS_Weapons_Shield_Metal` - Metal shields\n- `ISS_Weapons_Shield_Wood` - Wood shields\n- `ISS_Weapons_Arrows` - Arrows\n- `ISS_Weapons_Books` - Books\n\n**Blocks:**\n- `ISS_Blocks_Stone` - Stone blocks\n- `ISS_Blocks_Wood` - Wood blocks\n- `ISS_Blocks_Gravel` - Gravel\n- `ISS_Blocks_Soft` - Soft blocks\n- `ISS_Blocks_Splatty` - Splatty blocks\n\n**Items:**\n- `ISS_Items_Metal` - Metal items\n- `ISS_Items_Leather` - Leather items\n- `ISS_Items_Cloth` - Cloth items\n- `ISS_Items_Ingots` - Ingots\n- `ISS_Items_Gems` - Gems\n- `ISS_Items_Bones` - Bones\n- `ISS_Items_Potion` - Potions\n- `ISS_Items_Paper` - Paper items\n- `ISS_Items_Foliage` - Foliage items\n- `ISS_Items_Seeds` - Seeds\n- `ISS_Items_Clay` - Clay items\n- `ISS_Items_Shells` - Shells\n- `ISS_Items_Chest` - Chests\n- `ISS_Items_Gadget` - Gadgets\n- `ISS_Items_Splatty` - Splatty items\n\n## Reverb Presets\n\nReverb presets in `Assets/Server/Audio/Reverb/` define room acoustics.\n\n### Reverb Schema\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `DryGain` | `number` | Direct sound level (dB) |\n| `Gain` | `number` | Overall reverb level (dB) |\n| `ModalDensity` | `number` | Echo density (0-1) |\n| `Diffusion` | `number` | Diffusion amount (0-1) |\n| `DecayTime` | `number` | Reverb decay in seconds |\n| `HighFrequencyGain` | `number` | High frequency level (dB) |\n| `HighFrequencyDecayRatio` | `number` | HF decay multiplier |\n| `ReflectionGain` | `number` | Early reflections (dB) |\n| `ReflectionDelay` | `number` | Reflection delay (seconds) |\n| `LateReverbGain` | `number` | Late reverb level (dB) |\n| `LateReverbDelay` | `number` | Late reverb delay (seconds) |\n| `RoomRolloffFactor` | `number` | Distance rolloff |\n| `AirAbsorbptionHighFrequencyGain` | `number` | Air absorption (dB) |\n| `LimitDecayHighFrequency` | `boolean` | Limit HF decay |\n\n### Reverb Example\n\n```json title=\"Rev_Cave.json\"\n{\n  \"DryGain\": 0,\n  \"ModalDensity\": 1,\n  \"Diffusion\": 1,\n  \"Gain\": -15,\n  \"HighFrequencyGain\": -39,\n  \"DecayTime\": 11,\n  \"HighFrequencyDecayRatio\": 1.3,\n  \"ReflectionGain\": -10.4,\n  \"ReflectionDelay\": 0.2,\n  \"LateReverbGain\": 0,\n  \"LateReverbDelay\": 0.02,\n  \"RoomRolloffFactor\": 0,\n  \"AirAbsorbptionHighFrequencyGain\": -0.05,\n  \"LimitDecayHighFrequency\": false\n}\n```\n\n### Available Reverb Presets\n\n| Preset | Description |\n|--------|-------------|\n| `Rev_Default` | Default outdoor |\n| `Rev_Cave` | Cave acoustics |\n| `Rev_Forest` | Forest environment |\n| `Rev_Forest_Snow` | Snowy forest |\n| `Rev_Forest_Desert` | Desert forest |\n| `Rev_Forest_Fog` | Foggy forest |\n| `Rev_Plains` | Open plains |\n| `Rev_Plains_Snow` | Snowy plains |\n| `Rev_Plains_Desert` | Desert plains |\n| `Rev_Plains_Fog` | Foggy plains |\n| `Rev_Mountain` | Mountain |\n| `Rev_Mountain_Snow` | Snowy mountain |\n| `Rev_Mountain_Fog` | Foggy mountain |\n| `Rev_Swamp` | Swamp |\n| `Rev_Swamp_Foggy` | Foggy swamp |\n| `Rev_Temple` | Temple interior |\n| `Rev_Temple_Grand` | Large temple |\n| `Rev_Village` | Village area |\n| `Rev_Mineshaft` | Mineshaft |\n| `Rev_Mage_Tower` | Mage tower |\n| `Rev_Reflective_Slap` | Hard surfaces |\n\n## Equalizer Presets\n\nEQ presets in `Assets/Server/Audio/EQ/` modify frequency response.\n\n### EQ Schema\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `LowGain` | `number` | Low frequency gain (dB) |\n| `LowCutOff` | `number` | Low band cutoff (Hz) |\n| `LowMidGain` | `number` | Low-mid gain (dB) |\n| `LowMidCenter` | `number` | Low-mid center (Hz) |\n| `LowMidWidth` | `number` | Low-mid bandwidth |\n| `HighMidGain` | `number` | High-mid gain (dB) |\n| `HighMidCenter` | `number` | High-mid center (Hz) |\n| `HighMidWidth` | `number` | High-mid bandwidth |\n| `HighGain` | `number` | High frequency gain (dB) |\n| `HighCutOff` | `number` | High band cutoff (Hz) |\n\n### EQ Example\n\n```json title=\"EQ_Underwater.json\"\n{\n  \"LowGain\": 0,\n  \"LowCutOff\": 300,\n  \"LowMidGain\": -17.19,\n  \"LowMidCenter\": 1000,\n  \"LowMidWidth\": 1,\n  \"HighMidGain\": -17.9,\n  \"HighMidCenter\": 1500,\n  \"HighMidWidth\": 1,\n  \"HighGain\": -17.9,\n  \"HighCutOff\": 4000\n}\n```\n\n### Available EQ Presets\n\n| Preset | Description |\n|--------|-------------|\n| `EQ_Default` | No modification |\n| `EQ_Underwater` | Muffled underwater effect |\n\n## Sound Categories by Type\n\n### Common/Sounds Directory Structure\n\n| Directory | Description | Examples |\n|-----------|-------------|----------|\n| `Blocks/` | Block interaction sounds | Breaking, placing |\n| `Crafting/` | Crafting sounds | Bench sounds, completion |\n| `Effects/` | Special effects | Impacts, environmental |\n| `Environments/` | Ambient environment | Wind, water, nature |\n| `Events/` | Event sounds | Discovery, achievements |\n| `Items/` | Item sounds | Pickup, use |\n| `Magic/` | Magic effects | Spell casting, elements |\n| `Movement/` | Movement sounds | Footsteps, jumping |\n| `NPC/` | NPC sounds | Vocalizations, attacks |\n| `PlayerActions/` | Player action sounds | Eating, drinking |\n| `Projectiles/` | Projectile sounds | Arrows, thrown items |\n| `Tools/` | Tool sounds | Mining, chopping |\n| `UI/` | Interface sounds | Clicks, notifications |\n| `Weapons/` | Weapon sounds | Swings, impacts |\n\n## Using Audio in Items\n\nItems reference audio via `ItemSoundSetId`:\n\n```json title=\"Example item with sound\"\n{\n  \"Id\": \"Weapon_Sword_Iron\",\n  \"ItemSoundSetId\": \"ISS_Weapons_Blade_Large\",\n  \"Interactions\": {\n    \"Primary\": {\n      \"Effects\": {\n        \"WorldSoundEventId\": \"SFX_Sword_T2_Swing\",\n        \"LocalSoundEventId\": \"SFX_Sword_T2_Swing_Local\"\n      }\n    }\n  }\n}\n```\n\n### Sound Types in Interactions\n\n| Field | Description |\n|-------|-------------|\n| `WorldSoundEventId` | Sound heard by all players |\n| `LocalSoundEventId` | Sound heard only by player |\n| `SoundEventId` | General sound reference |\n\n## Creating Custom Audio\n\n### Step 1: Create Audio File\n\nSave audio as `.ogg` format in `Assets/Common/Sounds/`:\n\n```\nMyPlugin/Sounds/\n Weapons/\n    Custom_Sword_Swing.ogg\n    Custom_Sword_Impact.ogg\n Items/\n     Custom_Pickup.ogg\n```\n\n### Step 2: Create Sound Event\n\n```json title=\"SFX_MyPlugin_Sword_Swing.json\"\n{\n  \"Layers\": [\n    {\n      \"Files\": [\n        \"MyPlugin/Sounds/Weapons/Custom_Sword_Swing.ogg\"\n      ],\n      \"RandomSettings\": {\n        \"MinVolume\": -2,\n        \"MinPitch\": -0.1,\n        \"MaxPitch\": 0.1\n      }\n    }\n  ],\n  \"Volume\": -3.0,\n  \"Parent\": \"SFX_Attn_Moderate\"\n}\n```\n\n### Step 3: Create ItemSoundSet (Optional)\n\n```json title=\"ISS_MyPlugin_Weapon.json\"\n{\n  \"SoundEvents\": {\n    \"Drop\": \"SFX_MyPlugin_Weapon_Drop\",\n    \"Drag\": \"SFX_MyPlugin_Weapon_Drag\"\n  }\n}\n```\n\n### Step 4: Reference in Item\n\n```json title=\"MyPlugin_Weapon.json\"\n{\n  \"Id\": \"MyPlugin_Weapon_Custom\",\n  \"ItemSoundSetId\": \"ISS_MyPlugin_Weapon\",\n  \"InteractionVars\": {\n    \"Swing_Effect\": {\n      \"Interactions\": [{\n        \"Effects\": {\n          \"WorldSoundEventId\": \"SFX_MyPlugin_Sword_Swing\"\n        }\n      }]\n    }\n  }\n}\n```\n\n## File Structure\n\n\u003CFileTree>\n- my-plugin/\n  - assets/\n    - server/\n      - audio/\n        - soundevents/\n          - sfx/\n            - weapons/\n              - SFX_MyPlugin_Sword_Swing.json\n              - SFX_MyPlugin_Sword_Impact.json\n        - itemsounds/\n          - ISS_MyPlugin_Weapon.json\n    - common/\n      - sounds/\n        - myplugin/\n          - weapons/\n            - Custom_Sword_Swing.ogg\n            - Custom_Sword_Impact.ogg\n\u003C/FileTree>\n\n## Audio Best Practices\n\n1. **Use appropriate attenuation**: Match `Parent` template to sound type\n2. **Normalize audio files**: Keep peak levels consistent (-3 to -6 dB)\n3. **Add randomization**: Use `RandomSettings` for variety\n4. **Limit instances**: Set `MaxInstance` to prevent audio overload\n5. **Use categories**: Assign sounds to appropriate categories\n6. **Test in-game**: Verify volumes and distances in actual gameplay\n7. **Optimize file size**: Use appropriate quality (44.1kHz, mono for most SFX)\n8. **Prefix IDs**: Use plugin name prefix for all custom audio\n\n## Volume Guidelines\n\n| Sound Type | Typical Volume (dB) | Distance |\n|------------|---------------------|----------|\n| UI sounds | 0 to -5 | Local only |\n| Footsteps | -10 to -15 | Short |\n| Weapons | -3 to -8 | Medium |\n| Ambience | -15 to -25 | Long |\n| Music | -12 to -18 | Global |\n| NPC vocalizations | -5 to -10 | Medium |\n\n## Related\n\n- [Asset System Overview](/api-reference/assets/overview/) - General asset documentation\n- [Items Overview](/api-reference/assets/items/overview/) - Item sound sets\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Including audio assets","src/content/docs/api-reference/assets/audio/overview.mdx","824083e678733374","api-reference/assets/audio/sound-events",{"id":478,"data":480,"body":485,"filePath":486,"digest":487,"deferredRender":16},{"title":481,"editUrl":16,"head":482,"template":52,"sidebar":483,"pagefind":16,"draft":42},"Sound Events",[],{"hidden":42,"attrs":484},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nSound events define how audio files are played in-game, including volume, pitch randomization, attenuation, and layering. They are the core building blocks of Hytale's audio system.\n\n## Asset Location\n\nSound events are stored in `Assets/Server/Audio/SoundEvents/`:\n\n\u003CFileTree>\n- Assets/Server/Audio/SoundEvents/\n  - SFX_Attn_Loud.json\n  - SFX_Attn_Moderate.json\n  - SFX_Attn_Quiet.json\n  - SFX_Attn_VeryLoud.json\n  - SFX_Attn_VeryQuiet.json\n  - BlockSounds/\n    - Bush/\n    - Tall_Grass/\n    - LeavesGround/\n  - Environments/\n    - Ambiences/\n    - Weather/\n  - SFX/\n    - Chests/\n    - Player/\n      - Health/\n      - Movement/\n      - Action/\n    - Weapons/\n      - Sword/\n      - Mace/\n      - Bow/\n\u003C/FileTree>\n\nAudio files (.ogg) are in `Assets/Common/Sounds/`.\n\n## Sound Event Schema\n\n### Basic Structure\n\n```json title=\"SFX_Example.json\"\n{\n  \"Layers\": [\n    {\n      \"Files\": [\"Sounds/Path/Sound.ogg\"],\n      \"Volume\": 0,\n      \"RandomSettings\": {\n        \"MinPitch\": -2,\n        \"MaxPitch\": 2\n      }\n    }\n  ],\n  \"Volume\": 0,\n  \"Parent\": \"SFX_Attn_Moderate\"\n}\n```\n\n### Required Fields\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Layers` | `array` | One or more audio layers to play |\n\n### Top-Level Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `Volume` | `float` | `0` | Overall volume adjustment (dB) |\n| `Parent` | `string` | - | Parent sound event for inheritance |\n| `AudioCategory` | `string` | - | Volume category (e.g., `AudioCat_Weapons`) |\n| `MaxInstance` | `int` | - | Maximum simultaneous instances |\n| `MaxDistance` | `float` | - | Distance at which sound fades out completely |\n| `StartAttenuationDistance` | `float` | - | Distance at which attenuation begins |\n| `PreventSoundInterruption` | `bool` | `false` | Prevent interruption by same sound |\n\n### Layer Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `Files` | `string[]` | - | Audio file paths (random selection) |\n| `Volume` | `float` | `0` | Layer volume adjustment (dB) |\n| `StartDelay` | `float` | `0` | Delay before playing (seconds) |\n| `RandomSettings` | `object` | - | Randomization parameters |\n\n### RandomSettings Object\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `MinPitch` | `float` | Minimum pitch offset (semitones) |\n| `MaxPitch` | `float` | Maximum pitch offset (semitones) |\n| `MinVolume` | `float` | Minimum volume offset (dB) |\n\n## Attenuation Templates\n\nBase templates define spatial audio behavior:\n\n| Template | Max Distance | Start Attenuation | Use Case |\n|----------|--------------|-------------------|----------|\n| `SFX_Attn_VeryQuiet` | ~15 blocks | ~1 block | Subtle sounds |\n| `SFX_Attn_Quiet` | ~25 blocks | ~1 block | Normal sounds |\n| `SFX_Attn_Moderate` | ~35 blocks | ~2 blocks | Combat sounds |\n| `SFX_Attn_Loud` | ~45 blocks | ~2 blocks | Loud effects |\n| `SFX_Attn_VeryLoud` | ~60 blocks | ~3 blocks | Explosions, roars |\n\n```json title=\"SFX_Attn_Loud.json\"\n{\n  \"Layers\": [\n    {\n      \"Files\": [\"Sounds/TEST/SFX_Test_Blip_A.ogg\"],\n      \"RandomSettings\": {\n        \"MinPitch\": 0,\n        \"MaxPitch\": 0,\n        \"MinVolume\": 0\n      },\n      \"Volume\": 6.0\n    }\n  ],\n  \"Volume\": 0,\n  \"MaxDistance\": 45,\n  \"StartAttenuationDistance\": 2\n}\n```\n\n## Examples\n\n### Simple Sound Event\n\n```json title=\"SFX_Player_Hurt.json\"\n{\n  \"Layers\": [\n    {\n      \"Files\": [\n        \"Sounds/PlayerActions/Hurt/Player_Hurt_01.ogg\"\n      ],\n      \"RandomSettings\": {\n        \"MinPitch\": 0,\n        \"MaxPitch\": 0\n      },\n      \"StartDelay\": 0,\n      \"Volume\": -2.0\n    }\n  ],\n  \"MaxInstance\": 3,\n  \"Volume\": -5,\n  \"PreventSoundInterruption\": true,\n  \"Parent\": \"SFX_Attn_Moderate\"\n}\n```\n\n### Sound with Random Variants\n\nMultiple files in `Files` array are randomly selected:\n\n```json title=\"SFX_Mace_T1_Impact.json\" {4-10,12-16}\n{\n  \"Layers\": [\n    {\n      \"Files\": [\n        \"Sounds/Weapons/Mace/Impacts/Mace_T1_Impact_01.ogg\",\n        \"Sounds/Weapons/Mace/Impacts/Mace_T1_Impact_02.ogg\",\n        \"Sounds/Weapons/Mace/Impacts/Mace_T1_Impact_03.ogg\",\n        \"Sounds/Weapons/Mace/Impacts/Mace_T1_Impact_04.ogg\",\n        \"Sounds/Weapons/Mace/Impacts/Mace_T1_Impact_05.ogg\"\n      ],\n      \"Volume\": 6.0,\n      \"RandomSettings\": {\n        \"MinVolume\": -1,\n        \"MinPitch\": -2,\n        \"MaxPitch\": 2\n      },\n      \"StartDelay\": 0\n    }\n  ],\n  \"Volume\": 0,\n  \"PreventSoundInterruption\": true,\n  \"AudioCategory\": \"AudioCat_Mace\",\n  \"Parent\": \"SFX_Attn_Moderate\"\n}\n```\n\n### Multi-Layer Sound\n\nCombine multiple sounds for complex effects:\n\n```json title=\"Example multi-layer sound\"\n{\n  \"Layers\": [\n    {\n      \"Files\": [\"Sounds/Weapons/Sword/Swing_Base.ogg\"],\n      \"Volume\": 0\n    },\n    {\n      \"Files\": [\"Sounds/Weapons/Sword/Swing_Whoosh.ogg\"],\n      \"Volume\": -3,\n      \"StartDelay\": 0.05\n    }\n  ],\n  \"Parent\": \"SFX_Attn_Moderate\"\n}\n```\n\n## Sound Event Categories\n\n### Player Sounds\n\nLocated in `SFX/Player/`:\n\n| Category | Examples |\n|----------|----------|\n| `Health/` | Hurt, Death, Fall damage |\n| `Movement/` | Jump, Swim, Footsteps |\n| `Action/` | Pickup, Drop, Grab |\n\n### Weapon Sounds\n\nLocated in `SFX/Weapons/`:\n\n| Weapon | Sound Types |\n|--------|-------------|\n| `Sword/` | Swing, Impact, Block |\n| `Mace/` | Swing, Impact, Charged |\n| `Bow/` | Draw, Release, Impact |\n| `Battleaxe/` | Swing, Impact |\n| `Staff/` | Cast, Impact |\n\n### Block Sounds\n\nLocated in `BlockSounds/`:\n\n| Category | Examples |\n|----------|----------|\n| `Bush/` | Hit, Break, MoveIn |\n| `Tall_Grass/` | MoveIn |\n| `LeavesGround/` | Walk, Land, Break |\n\n### Environment Sounds\n\nLocated in `Environments/`:\n\n| Category | Examples |\n|----------|----------|\n| `Ambiences/` | Zone ambient loops |\n| `Weather/` | Rain, Thunder, Wind |\n\n## Audio Categories\n\nSound events can specify an `AudioCategory` for volume control:\n\n| Category | Description |\n|----------|-------------|\n| `AudioCat_Music` | Background music |\n| `AudioCat_Ambience` | Environmental sounds |\n| `AudioCat_Weapons` | Weapon sounds |\n| `AudioCat_Mace` | Mace-specific sounds |\n| `AudioCat_NPC` | NPC vocalizations |\n| `AudioCat_UI` | Interface sounds |\n\n## Using Sound Events\n\n### In Block Definitions\n\n```json\n{\n  \"BlockType\": {\n    \"BlockSoundSetId\": \"Stone\",\n    \"AmbientSoundEventId\": \"SFX_Candle_Default_Loop\",\n    \"InteractionSoundEventId\": \"SFX_Door_Open\"\n  }\n}\n```\n\n### In Animation Sets\n\n```json\n{\n  \"AnimationSets\": {\n    \"Walk\": {\n      \"Animations\": [{\n        \"Animation\": \"...\",\n        \"SoundEventId\": \"SFX_Fox_Run\"\n      }]\n    }\n  }\n}\n```\n\n### In Interactions\n\n```json\n{\n  \"InteractionVars\": {\n    \"Swing_Damage\": {\n      \"DamageEffects\": {\n        \"WorldSoundEventId\": \"SFX_Sword_Impact\"\n      }\n    }\n  }\n}\n```\n\n## Creating Custom Sound Events\n\n```json title=\"MyPlugin_CustomSound.json\"\n{\n  \"Layers\": [\n    {\n      \"Files\": [\n        \"MyPlugin/Sounds/Effect_01.ogg\",\n        \"MyPlugin/Sounds/Effect_02.ogg\",\n        \"MyPlugin/Sounds/Effect_03.ogg\"\n      ],\n      \"Volume\": 0,\n      \"RandomSettings\": {\n        \"MinPitch\": -1,\n        \"MaxPitch\": 1,\n        \"MinVolume\": -2\n      }\n    }\n  ],\n  \"Volume\": 0,\n  \"MaxInstance\": 5,\n  \"PreventSoundInterruption\": false,\n  \"AudioCategory\": \"AudioCat_Weapons\",\n  \"Parent\": \"SFX_Attn_Moderate\"\n}\n```\n\n\u003CAside type=\"tip\">\nUse the attenuation templates (`SFX_Attn_*`) as parents to inherit spatial audio settings rather than configuring them manually.\n\u003C/Aside>\n\n## Best Practices\n\n1. **Use Parent templates** - Inherit from attenuation templates for consistent spatial audio\n2. **Provide variants** - Multiple files in `Files` array prevent repetitive sounds\n3. **Add pitch randomization** - Small pitch variations (+/- 2 semitones) add naturalness\n4. **Set appropriate MaxInstance** - Prevent audio clutter from overlapping sounds\n5. **Use AudioCategories** - Allow players to adjust volume by category\n\n## Related\n\n- [Audio Overview](/api-reference/assets/audio/overview/) - Audio system overview\n- [Audio Effects](/api-reference/assets/audio/effects/) - Reverb and EQ presets\n- [Item Sound Sets](/api-reference/assets/audio/overview/#item-sound-sets) - Sound set collections","src/content/docs/api-reference/assets/audio/sound-events.mdx","cfd88e1c4f14f879","api-reference/assets/blocks/animations",{"id":488,"data":490,"body":495,"filePath":496,"digest":497,"deferredRender":16},{"title":491,"editUrl":16,"head":492,"template":52,"sidebar":493,"pagefind":16,"draft":42},"Block Animations",[],{"hidden":42,"attrs":494},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nBlock animations bring interactive blocks to life with movement sequences for doors, chests, and other functional blocks. Animations are created in Blockbench and exported as `.blockyanim` files.\n\n## Asset Location\n\nBlock animations are stored in the Common assets:\n\n\u003CFileTree>\n- Assets/Common/Blocks/Animations/\n  - Candle/\n    - Candle_Burn.blockyanim\n  - Chest/\n    - Chest_Open.blockyanim\n    - Chest_Close.blockyanim\n  - Coffin/\n    - Coffin_Open.blockyanim\n    - Coffin_Close.blockyanim\n  - Door/\n    - Door_Open_In.blockyanim\n    - Door_Open_Out.blockyanim\n    - Door_Close_In.blockyanim\n    - Door_Close_Out.blockyanim\n    - Door_Open_Slide_In.blockyanim\n    - Door_Open_Slide_Out.blockyanim\n  - Fire/\n    - Fire_Burn.blockyanim\n    - Fire_Small_Burn.blockyanim\n  - Light/\n    - Light_On.blockyanim\n    - Light_Off.blockyanim\n  - Trapdoor/\n    - Trapdoor_Open.blockyanim\n    - Trapdoor_Close.blockyanim\n  - Wardrobe/\n    - Wardrobe_Open.blockyanim\n    - Wardrobe_Close.blockyanim\n\u003C/FileTree>\n\n## Animation Categories\n\n### Interactive Block Animations\n\n| Category | Animations | Usage |\n|----------|------------|-------|\n| Door | Open/Close In/Out, Slide variants | Doors opening towards/away from player |\n| Chest | Open, Close | Container lid animations |\n| Wardrobe | Open, Close | Tall container door animations |\n| Trapdoor | Open, Close | Horizontal door animations |\n| Coffin | Open, Close | Special container animations |\n\n### Ambient Animations\n\n| Category | Animations | Usage |\n|----------|------------|-------|\n| Candle | Burn | Looping flame flicker |\n| Fire | Burn, Small_Burn | Campfire/torch flame |\n| Light | On, Off | Light state transitions |\n\n## Using Animations in Block Definitions\n\nAnimations are referenced in the `State.Definitions` section of block types:\n\n### Door Animation Example\n\n```json title=\"Door State Definitions\" {5-6,11-14,18-21}\n{\n  \"BlockType\": {\n    \"State\": {\n      \"Definitions\": {\n        \"OpenDoorIn\": {\n          \"HitboxType\": \"Door_Open_In\",\n          \"InteractionHitboxType\": \"Door_Open_In_Interaction\",\n          \"InteractionSoundEventId\": \"SFX_Door_Crude_Open\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Door/Door_Open_In.blockyanim\"\n        },\n        \"OpenDoorOut\": {\n          \"HitboxType\": \"Door_Open_Out\",\n          \"InteractionHitboxType\": \"Door_Open_Out_Interaction\",\n          \"InteractionSoundEventId\": \"SFX_Door_Crude_Open\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Door/Door_Open_Out.blockyanim\"\n        },\n        \"CloseDoorIn\": {\n          \"InteractionSoundEventId\": \"SFX_Door_Crude_Close\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Door/Door_Close_In.blockyanim\"\n        },\n        \"CloseDoorOut\": {\n          \"InteractionSoundEventId\": \"SFX_Door_Crude_Close\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Door/Door_Close_Out.blockyanim\"\n        },\n        \"DoorBlocked\": {}\n      }\n    },\n    \"IsDoor\": true,\n    \"Interactions\": {\n      \"Use\": \"Door\"\n    }\n  }\n}\n```\n\n### Container Animation Example\n\n```json title=\"Chest State Definitions\" {4,9-12,13-16}\n{\n  \"BlockType\": {\n    \"State\": {\n      \"Id\": \"container\",\n      \"Capacity\": 18,\n      \"Definitions\": {\n        \"OpenWindow\": {\n          \"InteractionSoundEventId\": \"SFX_Chest_Wooden_Open\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Chest/Chest_Open.blockyanim\"\n        },\n        \"CloseWindow\": {\n          \"InteractionSoundEventId\": \"SFX_Chest_Wooden_Close\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Chest/Chest_Close.blockyanim\"\n        }\n      }\n    },\n    \"Interactions\": {\n      \"Primary\": \"Break_Container\",\n      \"Use\": \"Open_Container\"\n    }\n  }\n}\n```\n\n## Animation Properties\n\n### State Definition Fields\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `CustomModelAnimation` | `string` | Path to `.blockyanim` file |\n| `InteractionSoundEventId` | `string` | Sound to play during animation |\n| `HitboxType` | `string` | Hitbox when in this state |\n| `InteractionHitboxType` | `string` | Hitbox for interaction detection |\n\n### Default Animation\n\nFor blocks with a default idle animation:\n\n```json\n{\n  \"BlockType\": {\n    \"CustomModelAnimation\": \"Blocks/Animations/Candle/Candle_Burn.blockyanim\"\n  }\n}\n```\n\n## Door Animation Variants\n\nDoors support multiple animation directions:\n\n| Animation | Description |\n|-----------|-------------|\n| `Door_Open_In` | Door swings towards player |\n| `Door_Open_Out` | Door swings away from player |\n| `Door_Close_In` | Close from inward position |\n| `Door_Close_Out` | Close from outward position |\n| `Door_Open_Slide_In` | Sliding door variant |\n| `Door_Open_Slide_Out` | Sliding door variant |\n\n\u003CAside type=\"tip\">\nThe door system automatically chooses the appropriate animation based on the player's position relative to the door.\n\u003C/Aside>\n\n## Creating Custom Animations\n\n### In Blockbench\n\n1. Open or create a Hytale Model project\n2. Switch to the Animation tab\n3. Create keyframes for bone transformations\n4. Export as `.blockyanim`\n\n### Animation Requirements\n\n| Requirement | Details |\n|-------------|---------|\n| Format | Hytale-specific `.blockyanim` |\n| Bones | Must match model bone hierarchy |\n| Keyframes | Position, rotation, scale transforms |\n| Duration | Varies by animation type |\n\n### Bone Naming\n\nAnimations reference bones in the model:\n\n```\nRoot\n Body\n    Lid (for chests)\n    Door_Panel (for doors)\n    ...\n```\n\n## Looping Animations\n\nFor ambient effects like flames, use looping animations:\n\n```json\n{\n  \"BlockType\": {\n    \"CustomModelAnimation\": \"Blocks/Animations/Fire/Fire_Burn.blockyanim\",\n    \"Looping\": true\n  }\n}\n```\n\n## State Transitions\n\nAnimation playback is triggered by state changes:\n\n```json title=\"Light Toggle States\"\n{\n  \"State\": {\n    \"Definitions\": {\n      \"On\": {\n        \"CustomModelAnimation\": \"Blocks/Animations/Light/Light_On.blockyanim\",\n        \"Light\": { \"Color\": \"#ffa\", \"Radius\": 8 }\n      },\n      \"Off\": {\n        \"CustomModelAnimation\": \"Blocks/Animations/Light/Light_Off.blockyanim\",\n        \"Light\": null\n      }\n    }\n  },\n  \"Interactions\": {\n    \"Use\": {\n      \"Interactions\": [\n        {\n          \"Type\": \"ChangeState\",\n          \"Changes\": {\n            \"On\": \"Off\",\n            \"Off\": \"On\"\n          }\n        }\n      ]\n    }\n  }\n}\n```\n\n## File Format\n\nThe `.blockyanim` format is a binary format created by Blockbench's Hytale plugin. Key characteristics:\n\n- Created in Blockbench's Animation tab\n- References bone names from the model\n- Supports position, rotation, and scale keyframes\n- Can be looping or one-shot\n\n## Best Practices\n\n1. **Match bone names** - Animation bones must exactly match model bone names\n2. **Keep animations short** - Interactive animations should be snappy\n3. **Pair with sounds** - Always include `InteractionSoundEventId`\n4. **Update hitboxes** - Change `HitboxType` for open/closed states\n5. **Test transitions** - Ensure smooth state changes\n\n## Related\n\n- [Block Type Assets](/api-reference/assets/blocks/block-types/) - Block definition schema\n- [Decorative Sets](/api-reference/assets/blocks/decorative-sets/) - Themed block collections\n- [Blockbench Setup](/tutorials/blockbench/setup/) - Animation creation tool\n- [Audio Overview](/api-reference/assets/audio/overview/) - Sound event system","src/content/docs/api-reference/assets/blocks/animations.mdx","03c8d52d85dfbb84","api-reference/assets/audio/sound-sets",{"id":498,"data":500,"body":505,"filePath":506,"digest":507,"deferredRender":16},{"title":501,"editUrl":16,"head":502,"template":52,"sidebar":503,"pagefind":16,"draft":42},"Sound Sets",[],{"hidden":42,"attrs":504},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nSound sets define collections of sound events for items, NPCs, weapons, and UI interactions. They map action contexts to specific sound event IDs.\n\n## Asset Locations\n\n\u003CFileTree>\n- Assets/Server/Audio/\n  - ItemSounds/\n    - ISS_Default.json\n    - ISS_Weapons_Blade_Large.json\n    - ISS_Weapons_Blunt_Small.json\n    - ISS_Armor_Heavy.json\n    - ISS_Items_Potion.json\n    - (36 item sound sets)\n  - SoundSets/\n    - CreativePlayDefaults.json\n  - AudioCategories/\n    - AudioCat_Music.json\n    - AudioCat_Weapons.json\n    - AudioCat_Footsteps.json\n    - AudioCat_NPC.json\n    - AudioCat_Inventory.json\n    - AudioCat_Discovery.json\n    - NPC/\n      - AudioCat_NPC_Wolf.json\n      - AudioCat_NPC_Zombie.json\n      - (80+ NPC audio categories)\n    - Weapons/\n      - AudioCat_Sword.json\n      - AudioCat_Battleaxe.json\n      - AudioCat_Shortbow.json\n      - (8 weapon categories)\n\u003C/FileTree>\n\n## Item Sound Sets (ISS)\n\nItem Sound Sets define sounds for inventory interactions like dropping and dragging items.\n\n### Schema\n\n```json\n{\n  \"SoundEvents\": {\n    \"Drop\": \"\u003Csound_event_id>\",\n    \"Drag\": \"\u003Csound_event_id>\"\n  }\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `SoundEvents` | `object` | Map of action context to sound event ID |\n| `SoundEvents.Drop` | `string` | Sound when item is dropped |\n| `SoundEvents.Drag` | `string` | Sound when item is dragged |\n\n### Categories\n\n#### Weapons\n\n| Sound Set | Description |\n|-----------|-------------|\n| `ISS_Weapons_Blade_Large` | Large swords, greatswords |\n| `ISS_Weapon_Blade_Small` | Daggers, knives |\n| `ISS_Weapon_Blunt_Large` | Hammers, maces |\n| `ISS_Weapons_Blunt_Small` | Clubs, small bludgeons |\n| `ISS_Weapons_Stone_Large` | Large stone weapons |\n| `ISS_Weapons_Stone_Small` | Small stone weapons |\n| `ISS_Weapons_Wood` | Wooden weapons |\n| `ISS_Weapons_Wand` | Magic wands |\n| `ISS_Weapons_Shield_Metal` | Metal shields |\n| `ISS_Weapons_Shield_Wood` | Wooden shields |\n| `ISS_Weapons_Arrows` | Arrows and bolts |\n| `ISS_Weapons_Books` | Spellbooks |\n\n#### Armor\n\n| Sound Set | Description |\n|-----------|-------------|\n| `ISS_Armor_Heavy` | Plate armor, metal gear |\n| `ISS_Armor_Leather` | Leather armor |\n| `ISS_Armor_Cloth` | Cloth armor, robes |\n\n#### Items\n\n| Sound Set | Description |\n|-----------|-------------|\n| `ISS_Items_Metal` | Metal ingots, tools |\n| `ISS_Items_Cloth` | Fabric, clothing |\n| `ISS_Items_Leather` | Leather items |\n| `ISS_Items_Paper` | Books, scrolls, paper |\n| `ISS_Items_Potion` | Potions, bottles |\n| `ISS_Items_Gems` | Gems, crystals |\n| `ISS_Items_Ingots` | Metal bars |\n| `ISS_Items_Bones` | Bones, skeletal items |\n| `ISS_Items_Seeds` | Seeds, small items |\n| `ISS_Items_Foliage` | Plant materials |\n| `ISS_Items_Clay` | Clay, ceramic items |\n| `ISS_Items_Shells` | Shells, chitin |\n| `ISS_Items_Splatty` | Soft, wet items |\n| `ISS_Items_Chest` | Chests, containers |\n| `ISS_Items_Gadget` | Mechanical items |\n\n#### Blocks\n\n| Sound Set | Description |\n|-----------|-------------|\n| `ISS_Blocks_Wood` | Wooden blocks |\n| `ISS_Blocks_Stone` | Stone blocks |\n| `ISS_Blocks_Gravel` | Gravel, loose materials |\n| `ISS_Blocks_Soft` | Soft blocks (dirt, sand) |\n| `ISS_Blocks_Splatty` | Wet/muddy blocks |\n\n### Examples\n\n```json title=\"ISS_Weapons_Blade_Large.json\"\n{\n  \"SoundEvents\": {\n    \"Drop\": \"SFX_Drop_Weapons_Blade_Large\",\n    \"Drag\": \"SFX_Drag_Weapons_Blade_Large\"\n  }\n}\n```\n\n```json title=\"ISS_Default.json\"\n{\n  \"SoundEvents\": {\n    \"Drag\": \"SFX_Drag_Item_Default\",\n    \"Drop\": \"SFX_Drop_Item_Default\"\n  }\n}\n```\n\n```json title=\"ISS_Armor_Heavy.json\"\n{\n  \"SoundEvents\": {\n    \"Drag\": \"SFX_Drag_Armor_Heavy\",\n    \"Drop\": \"SFX_Drop_Armor_Heavy\"\n  }\n}\n```\n\n### Usage in Items\n\nItems reference sound sets via the `ItemSoundSetId` property:\n\n```json title=\"Weapon_Sword_Iron.json (excerpt)\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"ItemSoundSetId\": \"ISS_Weapons_Blade_Large\",\n  \"Model\": \"Items/Weapons/Sword/Iron.blockymodel\"\n}\n```\n\n## UI Sound Sets\n\nUI Sound Sets define sounds for specific interface interactions.\n\n### Schema\n\n```json\n{\n  \"SoundEvents\": {\n    \"\u003Ccontext>\": \"\u003Csound_event_id>\"\n  },\n  \"Category\": \"\u003Caudio_category>\"\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `SoundEvents` | `object` | Map of UI context to sound event ID |\n| `Category` | `string` | Audio category for volume control |\n\n### Creative Play Sound Set\n\n```json title=\"CreativePlayDefaults.json\"\n{\n  \"SoundEvents\": {\n    \"Error\": \"SFX_Creative_Play_Error\",\n    \"Rotate_Yaw\": \"SFX_Rotate_Yaw_Default\",\n    \"Rotate_Pitch\": \"SFX_Rotate_Pitch_Default\",\n    \"Rotate_Roll\": \"SFX_Rotate_Roll_Default\",\n    \"Eyedropper_Select\": \"SFX_Creative_Play_Eyedropper_Select\",\n    \"Add_Mask\": \"SFX_Creative_Play_Add_Mask\",\n    \"Set_Mask\": \"SFX_Creative_Play_Set_Mask\",\n    \"Selection_Scale\": \"SFX_Creative_Play_Selection_Scale\",\n    \"Selection_Drag\": \"SFX_Creative_Play_Selection_Drag\",\n    \"Selection_Widget\": \"SFX_Creative_Play_Selection_Widget\",\n    \"Selection_Place\": \"SFX_Creative_Play_Selection_Place\",\n    \"Brush_Mode\": \"SFX_Creative_Play_Brush_Mode\",\n    \"Brush_Erase\": \"SFX_Creative_Play_Brush_Erase\",\n    \"Brush_Paint\": \"SFX_Creative_Play_Brush_Paint_Base\",\n    \"Brush_Stamp\": \"SFX_Creative_Play_Brush_Stamp\",\n    \"Brush_Paint_Idle_Layer\": \"SFX_Creative_Play_Brush_Paint_Idle_Layer\",\n    \"Brush_Paint_Move_Layer\": \"SFX_Creative_Play_Brush_Paint_Move_Layer\",\n    \"Brush_Shape\": \"SFX_Creative_Play_Brush_Shape\",\n    \"Paste\": \"SFX_Creative_Play_Paste\"\n  },\n  \"Category\": \"UI\"\n}\n```\n\n## Audio Categories\n\nAudio categories define volume settings and hierarchy for groups of sounds.\n\n### Schema\n\n```json\n{\n  \"Volume\": \u003Cfloat>,\n  \"Parent\": \"\u003Cparent_category_id>\"\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Volume` | `float` | Volume level (0 = uses parent/default) |\n| `Parent` | `string` | Parent category for inheritance |\n\n### Top-Level Categories\n\n| Category | Description |\n|----------|-------------|\n| `AudioCat_Music` | Background music |\n| `AudioCat_Weapons` | Weapon sounds |\n| `AudioCat_Footsteps` | Movement sounds |\n| `AudioCat_NPC` | NPC vocalizations |\n| `AudioCat_Inventory` | Inventory interactions |\n| `AudioCat_Discovery` | Discovery notifications |\n\n### NPC Audio Categories\n\nNPC-specific audio categories inherit from `AudioCat_NPC`:\n\n```json title=\"AudioCat_NPC_Wolf.json\"\n{\n  \"Volume\": 0,\n  \"Parent\": \"AudioCat_NPC\"\n}\n```\n\n**Available NPC Categories**:\n- Livestock: `AudioCat_NPC_Cow`, `AudioCat_NPC_Sheep`, `AudioCat_NPC_Pig`, `AudioCat_NPC_Horse`, `AudioCat_NPC_Chicken`\n- Predators: `AudioCat_NPC_Wolf`, `AudioCat_NPC_Bear_Grizzly`, `AudioCat_NPC_Hyena`, `AudioCat_NPC_Fox`\n- Creatures: `AudioCat_NPC_Spider`, `AudioCat_NPC_Snake`, `AudioCat_NPC_Scorpion`, `AudioCat_NPC_Bat`\n- Enemies: `AudioCat_NPC_Zombie`, `AudioCat_NPC_Skeleton`, `AudioCat_NPC_Goblin`, `AudioCat_NPC_Trork`\n- Mythical: `AudioCat_NPC_Dragon`, `AudioCat_NPC_Yeti`, `AudioCat_NPC_Fen_Stalker`\n- Birds: `AudioCat_NPC_Crow`, `AudioCat_NPC_Owl`, `AudioCat_NPC_Sparrow`, `AudioCat_NPC_Raven`\n\n### Weapon Audio Categories\n\nWeapon-specific categories for combat sounds:\n\n| Category | Description |\n|----------|-------------|\n| `AudioCat_Sword` | Sword combat sounds |\n| `AudioCat_Battleaxe` | Axe combat sounds |\n| `AudioCat_Mace` | Blunt weapon sounds |\n| `AudioCat_Daggers` | Dagger combat sounds |\n| `AudioCat_Shortbow` | Bow sounds |\n| `AudioCat_Hand_Crossbow` | Crossbow sounds |\n| `AudioCat_Magic_Staff` | Staff/magic sounds |\n| `AudioCat_Shield` | Shield block sounds |\n\n## Ambience Sound Sets\n\nAmbience systems define environmental audio with conditions.\n\n### Ambient Bed Schema\n\nBackground ambient loops:\n\n```json title=\"AmbFX_Zone1_Plains_Gen_Day.json\"\n{\n  \"Conditions\": {\n    \"DayTime\": {\n      \"Min\": 5,\n      \"Max\": 19\n    },\n    \"SunLightLevel\": {\n      \"Min\": 10,\n      \"Max\": 15\n    },\n    \"EnvironmentTagPattern\": {\n      \"Op\": \"And\",\n      \"Patterns\": [\n        { \"Op\": \"Equals\", \"Tag\": \"Zone1\" },\n        {\n          \"Op\": \"Or\",\n          \"Patterns\": [\n            { \"Op\": \"Equals\", \"Tag\": \"Plains\" },\n            { \"Op\": \"Equals\", \"Tag\": \"Encounters\" }\n          ]\n        }\n      ]\n    },\n    \"Walls\": {\n      \"Min\": 0,\n      \"Max\": 3\n    }\n  },\n  \"AmbientBed\": {\n    \"Track\": \"Sounds/Environments/Zone1/Environments/Plains/Day/Z1_Plains_Gen_Day_Stereo_LOOP.ogg\",\n    \"Volume\": 1.0\n  }\n}\n```\n\n### Emitter Schema\n\nPositional ambient sounds:\n\n```json title=\"Emit_Zone1_Plains_Gen_Day.json\"\n{\n  \"Conditions\": {\n    \"DayTime\": {\n      \"Min\": 5,\n      \"Max\": 19\n    },\n    \"SunLightLevel\": {\n      \"Min\": 10,\n      \"Max\": 15\n    },\n    \"EnvironmentTagPattern\": {\n      \"Op\": \"And\",\n      \"Patterns\": [\n        { \"Op\": \"Equals\", \"Tag\": \"Zone1\" },\n        { \"Op\": \"Or\", \"Patterns\": [\n          { \"Op\": \"Equals\", \"Tag\": \"Plains\" },\n          { \"Op\": \"Equals\", \"Tag\": \"Encounters\" }\n        ]}\n      ]\n    },\n    \"WeatherTagPattern\": {\n      \"Op\": \"Not\",\n      \"Pattern\": { \"Op\": \"Equals\", \"Tag\": \"Rain\" }\n    }\n  },\n  \"Sounds\": [\n    {\n      \"SoundEventId\": \"SFX_Z1_Emit_Plains_Gen_Day_Birds\",\n      \"Frequency\": { \"Min\": 1, \"Max\": 3 },\n      \"Radius\": { \"Min\": 1, \"Max\": 7 }\n    },\n    {\n      \"SoundEventId\": \"SFX_Z1_Emit_Plains_Gen_Day_Insects\",\n      \"Radius\": { \"Min\": 2, \"Max\": 8 },\n      \"Frequency\": { \"Min\": 2, \"Max\": 4 }\n    },\n    {\n      \"SoundEventId\": \"SFX_Z1_Emit_Plains_Gen_Day_Wind\",\n      \"Frequency\": { \"Min\": 0, \"Max\": 2 },\n      \"Radius\": { \"Min\": 2, \"Max\": 5 }\n    }\n  ]\n}\n```\n\n### Condition Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `DayTime` | `object` | Hour range (0-24) |\n| `SunLightLevel` | `object` | Sun exposure level (0-15) |\n| `EnvironmentTagPattern` | `object` | Environment tag matching |\n| `WeatherTagPattern` | `object` | Weather tag matching |\n| `Walls` | `object` | Enclosure level (0-4) |\n\n### Tag Pattern Operators\n\n| Operator | Description |\n|----------|-------------|\n| `Equals` | Tag matches exactly |\n| `And` | All patterns must match |\n| `Or` | Any pattern must match |\n| `Not` | Pattern must not match |\n\n### Emitter Sound Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `SoundEventId` | `string` | Sound event to play |\n| `Frequency` | `object` | Time between plays (seconds) |\n| `Radius` | `object` | Distance range (blocks) |\n\n## Ambience Organization\n\n\u003CFileTree>\n- Assets/Server/Audio/AmbienceFX/\n  - Ambience/\n    - Zone1/\n      - Global/\n        - Night/\n        - Wind/\n        - Sunrise/\n        - Sunset/\n      - Environments/\n        - Plains/\n          - Day/\n          - Night/\n        - Forest/\n        - Swamp/\n        - Mountain/\n        - Shore/\n        - Dungeon/\n        - Trork/\n        - Kweebec/\n    - Zone2/\n    - Zone3/\n    - Zone4/\n    - Global/\n      - Cave/\n    - Unique/\n      - Forgotten_Temple/\n      - Dread_Wade/\n  - ReverbZones/\n    - Plains/\n    - Forest/\n    - Mountain/\n    - Swamp/\n    - Underground/\n    - Prefabs/\n\u003C/FileTree>\n\n## Creating Custom Sound Sets\n\n### Item Sound Set\n\n```json title=\"MyPlugin_ISS_Custom.json\"\n{\n  \"SoundEvents\": {\n    \"Drop\": \"SFX_MyPlugin_Item_Drop\",\n    \"Drag\": \"SFX_MyPlugin_Item_Drag\"\n  }\n}\n```\n\n### NPC Audio Category\n\n```json title=\"AudioCat_NPC_MyCreature.json\"\n{\n  \"Volume\": 0,\n  \"Parent\": \"AudioCat_NPC\"\n}\n```\n\n### Custom Ambience\n\n```json title=\"AmbFX_MyPlugin_Cave.json\"\n{\n  \"Conditions\": {\n    \"SunLightLevel\": {\n      \"Min\": 0,\n      \"Max\": 4\n    },\n    \"EnvironmentTagPattern\": {\n      \"Op\": \"Equals\",\n      \"Tag\": \"Cave\"\n    }\n  },\n  \"AmbientBed\": {\n    \"Track\": \"Sounds/MyPlugin/Cave_Ambient_LOOP.ogg\",\n    \"Volume\": 0.8\n  }\n}\n```\n\n## Best Practices\n\n1. **Use appropriate categories** - Match item type to sound set\n2. **Inherit from parents** - Use `Parent` for NPC categories\n3. **Set conditions carefully** - Ensure ambience doesn't overlap incorrectly\n4. **Use tag patterns** - Combine environment and weather tags\n5. **Test volume levels** - Ensure sounds aren't too loud/quiet\n6. **Follow naming conventions** - Use `ISS_`, `AudioCat_`, `AmbFX_` prefixes\n\n## Related\n\n- [Audio Overview](/api-reference/assets/audio/overview/) - Audio system overview\n- [Sound Events](/api-reference/assets/audio/sound-events/) - Sound event definitions\n- [Audio Effects](/api-reference/assets/audio/effects/) - Reverb and EQ effects\n- [Weather Systems](/api-reference/assets/world/weather/) - Weather that affects ambience\n- [Environments](/api-reference/assets/world/environments/) - Environment tags","src/content/docs/api-reference/assets/audio/sound-sets.mdx","bc79d8024bf1178b","api-reference/assets/blocks/block-types",{"id":508,"data":510,"body":515,"filePath":516,"digest":517,"deferredRender":16},{"title":511,"editUrl":16,"head":512,"template":52,"sidebar":513,"pagefind":16,"draft":42},"Block Type Assets",[],{"hidden":42,"attrs":514},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nBlock types define the visual appearance, physical properties, and behavior of blocks in Hytale. Unlike items, block definitions are embedded within item JSON files using the `BlockType` object.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.asset.type.blocktype.config.BlockType`\n\n## Asset Organization\n\nBlock definitions are found in item files throughout the `Assets/Server/Item/Items/` directory:\n\n\u003CFileTree>\n- Assets/Server/Item/Items/\n  - Rock/\n    - Stone/\n      - Rock_Stone.json\n      - Rock_Stone_Brick.json\n      - Rock_Stone_Cobble.json\n  - Soil/\n    - Dirt/\n    - Grass/\n    - Clay_Plaster/\n  - Wood/\n    - Oak/\n    - Birch/\n    - Cedar/\n  - Ore/\n    - Iron/\n    - Copper/\n    - Gold/\n  - Furniture/\n    - Crude/\n    - Village/\n  - Plant/\n    - Grass/\n    - Flowers/\n\u003C/FileTree>\n\nBlock type lists for scatter generation are defined in:\n- `Assets/Server/BlockTypeList/` - Contains block list files like `Ores.json`, `Soils.json`, `Rock.json`\n\n## BlockType Schema\n\nThe `BlockType` object is embedded within item definitions:\n\n### Required Fields\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Material` | `string` | Physical material type (`Solid`, `Empty`, `Liquid`) |\n| `DrawType` | `string` | Rendering method (`Cube`, `Model`, `CubeWithModel`, `Empty`) |\n\n### Rendering Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `Textures` | `array` | - | Texture definitions with face assignments |\n| `CustomModel` | `string` | - | Path to `.blockymodel` file for non-cube blocks |\n| `CustomModelTexture` | `array` | - | Texture variants for custom models |\n| `CustomModelScale` | `float` | `1.0` | Scale factor for custom models |\n| `CustomModelAnimation` | `string` | - | Default animation for the model |\n| `Opacity` | `string` | `Solid` | Light blocking (`Solid`, `Transparent`, `SemiTransparent`) |\n| `Light` | `object` | - | Emitted light color and intensity |\n| `Tint` | `array` | - | Color tint values (hex strings) |\n| `ParticleColor` | `string` | - | Hex color for break particles |\n\n### Physical Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `Group` | `string` | - | Material group for tool effectiveness (`Stone`, `Dirt`, `Wood`) |\n| `HitboxType` | `string` | `Full` | Collision shape type |\n| `InteractionHitboxType` | `string` | - | Separate hitbox for interactions |\n| `Flags` | `object` | `{}` | Boolean flags for behavior |\n| `DamageToEntities` | `int` | `0` | Contact damage (e.g., cacti, magma) |\n\n### Placement & Rotation\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `VariantRotation` | `string` | - | Rotation variant type (`NESW`, `UpDownNESW`, `DoublePipe`) |\n| `RandomRotation` | `string` | - | Random rotation on placement (`YawStep90`) |\n| `PlacementSettings` | `object` | - | Placement rules and rotation mode |\n| `FlipType` | `string` | - | Flip behavior for mirrored variants |\n\n### Support System\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Support` | `object` | Required support per face (e.g., `Down: [{}]`) |\n| `Supporting` | `object` | Support provided to neighbors per face |\n| `SupportDropType` | `string` | Behavior when support lost (`BREAK`, `DROP`, `NONE`) |\n\n### Sound & Particles\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `BlockSoundSetId` | `string` | Sound set for step/break/place sounds |\n| `BlockParticleSetId` | `string` | Particle set for break effects |\n| `AmbientSoundEventId` | `string` | Looping ambient sound |\n| `InteractionSoundEventId` | `string` | Sound on interaction |\n\n### Gathering\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Gathering.Breaking.GatherType` | `string` | Tool type for efficient breaking (`Rocks`, `Woods`, `Soils`) |\n| `Gathering.Breaking.ItemId` | `string` | Alternative item dropped when broken |\n| `Gathering.Breaking.DropList` | `object` | Complex drop table configuration |\n\n### States & Animations\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `State` | `object` | State machine for interactive blocks |\n| `State.Definitions` | `object` | Named state definitions with properties |\n| `State.Id` | `string` | State type identifier (e.g., `container`) |\n| `State.Capacity` | `int` | Container capacity for storage blocks |\n| `ConnectedBlockRuleSet` | `object` | Rules for connecting to neighbors |\n\n## DrawType Values\n\n| Value | Description | Use Case |\n|-------|-------------|----------|\n| `Cube` | Standard 6-faced cube | Stone, dirt, most blocks |\n| `Model` | Custom 3D model only | Furniture, decorations |\n| `CubeWithModel` | Cube base with model overlay | Ores (rock + ore chunks) |\n| `Empty` | Invisible, no rendering | Air, triggers |\n\n## Examples\n\n### Basic Solid Block\n\nA simple stone block with texture variants:\n\n```json title=\"Rock_Stone.json\" {13-18,25-37}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Rock_Stone.name\"\n  },\n  \"ItemLevel\": 10,\n  \"MaxStack\": 100,\n  \"Icon\": \"Icons/ItemsGenerated/Rock_Stone.png\",\n  \"Categories\": [\"Blocks.Rocks\"],\n  \"PlayerAnimationsId\": \"Block\",\n  \"Set\": \"Rock_Stone\",\n  \"BlockType\": {\n    \"Material\": \"Solid\",\n    \"DrawType\": \"Cube\",\n    \"Group\": \"Stone\",\n    \"Flags\": {},\n    \"Gathering\": {\n      \"Breaking\": {\n        \"GatherType\": \"Rocks\",\n        \"ItemId\": \"Rock_Stone_Cobble\"\n      }\n    },\n    \"BlockParticleSetId\": \"Stone\",\n    \"Textures\": [\n      {\n        \"All\": \"BlockTextures/Rock_Stone.png\",\n        \"Weight\": 2\n      },\n      {\n        \"All\": \"BlockTextures/Rock_Stone_2.png\",\n        \"Weight\": 1\n      },\n      {\n        \"All\": \"BlockTextures/Rock_Stone_3.png\",\n        \"Weight\": 1\n      }\n    ],\n    \"ParticleColor\": \"#737055\",\n    \"BlockSoundSetId\": \"Stone\",\n    \"Aliases\": [\"stone\", \"stone00\"],\n    \"BlockBreakingDecalId\": \"Breaking_Decals_Rock\"\n  },\n  \"ResourceTypes\": [\n    { \"Id\": \"Rock\" },\n    { \"Id\": \"Rock_Stone\" }\n  ],\n  \"Tags\": {\n    \"Type\": [\"Rock\"]\n  },\n  \"ItemSoundSetId\": \"ISS_Blocks_Stone\"\n}\n```\n\n### Ore Block with Model Overlay\n\nOres use `CubeWithModel` to render ore chunks on top of a base rock texture:\n\n```json title=\"Ore_Iron_Stone.json\" {11-22}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Ore_Iron_Stone.name\"\n  },\n  \"Icon\": \"Icons/ItemsGenerated/Ore_Iron_Stone.png\",\n  \"Categories\": [\"Blocks.Ores\"],\n  \"BlockType\": {\n    \"Material\": \"Solid\",\n    \"DrawType\": \"CubeWithModel\",\n    \"CustomModel\": \"Resources/Ores/Ore_Large.blockymodel\",\n    \"CustomModelTexture\": [\n      {\n        \"Texture\": \"Resources/Ores/Ore_Textures/Iron.png\",\n        \"Weight\": 1\n      }\n    ],\n    \"Group\": \"Stone\",\n    \"Flags\": {},\n    \"RandomRotation\": \"YawStep90\",\n    \"Gathering\": {\n      \"Breaking\": {\n        \"GatherType\": \"Rocks\",\n        \"DropList\": {\n          \"Container\": {\n            \"Type\": \"Multiple\",\n            \"Containers\": [\n              { \"Type\": \"Single\", \"Item\": { \"ItemId\": \"Ore_Iron\" } },\n              { \"Type\": \"Single\", \"Item\": { \"ItemId\": \"Rock_Stone_Cobble\" } }\n            ]\n          }\n        }\n      }\n    },\n    \"BlockParticleSetId\": \"Stone\",\n    \"Textures\": [\n      { \"Weight\": 1, \"All\": \"BlockTextures/Rock_Stone.png\" }\n    ],\n    \"ParticleColor\": \"#88886a\",\n    \"BlockSoundSetId\": \"Ore\"\n  },\n  \"MaxStack\": 25,\n  \"ItemSoundSetId\": \"ISS_Blocks_Stone\"\n}\n```\n\n### Stairs with State Variants\n\nStairs use connected block rules and multiple state definitions:\n\n```json title=\"Rock_Stone_Brick_Stairs.json\" {34-51,64-72}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Rock_Stone_Brick_Stairs.name\"\n  },\n  \"BlockType\": {\n    \"Material\": \"Solid\",\n    \"DrawType\": \"Model\",\n    \"Opacity\": \"Transparent\",\n    \"CustomModel\": \"Blocks/Structures/Stairs/Stairs.blockymodel\",\n    \"CustomModelTexture\": [\n      {\n        \"Texture\": \"Blocks/Structures/Stairs/Stairs_Textures/Stone_Brick.png\",\n        \"Weight\": 1\n      }\n    ],\n    \"Group\": \"Stone\",\n    \"HitboxType\": \"Stairs\",\n    \"VariantRotation\": \"UpDownNESW\",\n    \"BlockParticleSetId\": \"Stone\",\n    \"Supporting\": {\n      \"Down\": [{}],\n      \"North\": [{}]\n    },\n    \"ParticleColor\": \"#737055\",\n    \"BlockSoundSetId\": \"Stone\",\n    \"State\": {\n      \"Definitions\": {\n        \"Corner_Right\": {\n          \"CustomModel\": \"Blocks/Structures/Stairs/Stairs_Corner_Right.blockymodel\",\n          \"HitboxType\": \"Stairs_Corner_Right\",\n          \"FlipType\": \"Orthogonal\",\n          \"Supporting\": { \"Down\": [{}] }\n        },\n        \"Inverted_Corner_Right\": {\n          \"CustomModel\": \"Blocks/Structures/Stairs/Stairs_Inverted_Corner_Right.blockymodel\",\n          \"HitboxType\": \"Stairs_Inverted_Corner_Right\",\n          \"FlipType\": \"Orthogonal\",\n          \"Supporting\": { \"Down\": [{}], \"North\": [{}], \"East\": [{}] }\n        },\n        \"Corner_Left\": {\n          \"CustomModel\": \"Blocks/Structures/Stairs/Stairs_Corner_Left.blockymodel\",\n          \"HitboxType\": \"Stairs_Corner_Left\",\n          \"FlipType\": \"Orthogonal\"\n        },\n        \"Inverted_Corner_Left\": {\n          \"CustomModel\": \"Blocks/Structures/Stairs/Stairs_Inverted_Corner_Left.blockymodel\",\n          \"HitboxType\": \"Stairs_Inverted_Corner_Left\"\n        }\n      }\n    },\n    \"PlacementSettings\": {\n      \"RotationMode\": \"StairFacingPlayer\"\n    },\n    \"ConnectedBlockRuleSet\": {\n      \"Type\": \"Stair\",\n      \"Corner_Left\": { \"State\": \"Corner_Left\" },\n      \"Corner_Right\": { \"State\": \"Corner_Right\" },\n      \"Inverted_Corner_Left\": { \"State\": \"Inverted_Corner_Left\" },\n      \"Inverted_Corner_Right\": { \"State\": \"Inverted_Corner_Right\" },\n      \"Straight\": { \"State\": \"default\" }\n    }\n  },\n  \"ItemSoundSetId\": \"ISS_Blocks_Stone\"\n}\n```\n\n### Interactive Door with Animations\n\nDoors define open/close states with animations:\n\n```json title=\"Furniture_Crude_Door.json\" {44-52,71-93}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Furniture_Crude_Door.name\"\n  },\n  \"PlayerAnimationsId\": \"Block\",\n  \"Categories\": [\"Furniture.Doors\"],\n  \"Set\": \"Furniture_Crude\",\n  \"Icon\": \"Icons/ItemsGenerated/Furniture_Crude_Door.png\",\n  \"BlockType\": {\n    \"BlockParticleSetId\": \"Wood\",\n    \"CustomModel\": \"Blocks/Decorative_Sets/Crude/Door.blockymodel\",\n    \"CustomModelTexture\": [\n      {\n        \"Texture\": \"Blocks/Decorative_Sets/Crude/Door_Texture.png\",\n        \"Weight\": 1\n      }\n    ],\n    \"DrawType\": \"Model\",\n    \"Flags\": {},\n    \"Gathering\": {\n      \"Breaking\": { \"GatherType\": \"Woods\" }\n    },\n    \"HitboxType\": \"Door\",\n    \"Material\": \"Solid\",\n    \"Opacity\": \"Transparent\",\n    \"ParticleColor\": \"#63412c\",\n    \"ConnectedBlockRuleSet\": {\n      \"Type\": \"CustomTemplate\",\n      \"TemplateShapeAssetId\": \"DoorConnectedBlockTemplate\",\n      \"TemplateShapeBlockPatterns\": {\n        \"Default\": \"Furniture_Crude_Door\"\n      }\n    },\n    \"State\": {\n      \"Definitions\": {\n        \"CloseDoorIn\": {\n          \"InteractionSoundEventId\": \"SFX_Door_Crude_Close\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Door/Door_Close_In.blockyanim\"\n        },\n        \"CloseDoorOut\": {\n          \"InteractionSoundEventId\": \"SFX_Door_Crude_Close\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Door/Door_Close_Out.blockyanim\"\n        },\n        \"DoorBlocked\": {},\n        \"OpenDoorIn\": {\n          \"HitboxType\": \"Door_Open_In\",\n          \"InteractionHitboxType\": \"Door_Open_In_Interaction\",\n          \"InteractionSoundEventId\": \"SFX_Door_Crude_Open\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Door/Door_Open_In.blockyanim\"\n        },\n        \"OpenDoorOut\": {\n          \"HitboxType\": \"Door_Open_Out\",\n          \"InteractionHitboxType\": \"Door_Open_Out_Interaction\",\n          \"InteractionSoundEventId\": \"SFX_Door_Crude_Open\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Door/Door_Open_Out.blockyanim\"\n        }\n      }\n    },\n    \"VariantRotation\": \"NESW\",\n    \"BlockSoundSetId\": \"Wood\",\n    \"IsDoor\": true,\n    \"Interactions\": {\n      \"Use\": \"Door\"\n    }\n  },\n  \"ItemSoundSetId\": \"ISS_Blocks_Wood\"\n}\n```\n\n### Container Block (Chest)\n\nChests define storage capacity and opening animations:\n\n```json title=\"Furniture_Crude_Chest_Small.json\" {36-49,66-78}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Furniture_Crude_Chest_Small.name\"\n  },\n  \"Categories\": [\"Furniture.Containers\"],\n  \"Set\": \"Furniture_Crude\",\n  \"BlockType\": {\n    \"BlockParticleSetId\": \"Wood\",\n    \"BlockSoundSetId\": \"Wood\",\n    \"CustomModel\": \"Blocks/Decorative_Sets/Crude/Chest_Small.blockymodel\",\n    \"CustomModelTexture\": [\n      {\n        \"Texture\": \"Blocks/Decorative_Sets/Crude/Chest_Small_Texture.png\",\n        \"Weight\": 1\n      }\n    ],\n    \"DrawType\": \"Model\",\n    \"Flags\": {\n      \"IsUsable\": true\n    },\n    \"Gathering\": {\n      \"Breaking\": { \"GatherType\": \"Woods\" }\n    },\n    \"Material\": \"Solid\",\n    \"Opacity\": \"Transparent\",\n    \"ParticleColor\": \"#63412c\",\n    \"ConnectedBlockRuleSet\": {\n      \"Type\": \"CustomTemplate\",\n      \"TemplateShapeAssetId\": \"ChestConnectedBlockTemplate\",\n      \"TemplateShapeBlockPatterns\": {\n        \"Default\": \"Furniture_Crude_Chest_Small\",\n        \"Double\": \"Furniture_Crude_Chest_Large\"\n      }\n    },\n    \"State\": {\n      \"Id\": \"container\",\n      \"Capacity\": 18,\n      \"Definitions\": {\n        \"CloseWindow\": {\n          \"InteractionSoundEventId\": \"SFX_Chest_Wooden_Close\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Chest/Chest_Close.blockyanim\"\n        },\n        \"OpenWindow\": {\n          \"InteractionSoundEventId\": \"SFX_Chest_Wooden_Open\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Chest/Chest_Open.blockyanim\"\n        }\n      }\n    },\n    \"Supporting\": {\n      \"Up\": [{ \"FaceType\": \"Full\" }]\n    },\n    \"Support\": {\n      \"Down\": [{ \"FaceType\": \"Full\" }]\n    },\n    \"VariantRotation\": \"NESW\",\n    \"Interactions\": {\n      \"Primary\": \"Break_Container\",\n      \"Use\": \"Open_Container\"\n    }\n  },\n  \"ItemSoundSetId\": \"ISS_Blocks_Wood\"\n}\n```\n\n### Plant Block with Tint\n\nPlants often use parent templates and tint colors:\n\n```json title=\"Plant_Grass_Rocky.json\" {6-18}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Plant_Grass_Rocky.name\"\n  },\n  \"Icon\": \"Icons/ItemsGenerated/Plant_Grass_Rocky.png\",\n  \"Parent\": \"Plant_Grass_Lush\",\n  \"BlockType\": {\n    \"CustomModel\": \"Blocks/Foliage/Plants/Cross_17px.blockymodel\",\n    \"CustomModelTexture\": [\n      {\n        \"Texture\": \"Blocks/Foliage/Plants/Cross_17px_Textures/Rocky_GS.png\",\n        \"Weight\": 1\n      }\n    ],\n    \"HitboxType\": \"Plant_Medium\",\n    \"Tint\": [\"#dcb86d\"]\n  }\n}\n```\n\n## Block Categories\n\nBlocks are organized into several main categories:\n\n### Natural Blocks\n\n| Category | Location | Examples |\n|----------|----------|----------|\n| Rock | `Rock/` | Stone, Basalt, Marble, Sandstone |\n| Soil | `Soil/` | Dirt, Grass, Clay, Sand |\n| Ore | `Ore/` | Iron, Copper, Gold, Mithril, Adamantite |\n| Wood | `Wood/` | Oak, Birch, Cedar (logs, planks, leaves) |\n| Plant | `Plant/` | Grass, Flowers, Vines, Crops |\n\n### Crafted Blocks\n\n| Category | Location | Examples |\n|----------|----------|----------|\n| Furniture | `Furniture/` | Doors, Chests, Tables, Chairs |\n| Structural | Within Rock/Wood | Stairs, Slabs, Walls, Pillars |\n\n### Block Material Groups\n\n| Group | Tool Type | Examples |\n|-------|-----------|----------|\n| `Stone` | Pickaxe | Stone, Brick, Ore |\n| `Dirt` | Shovel | Dirt, Grass, Sand, Gravel |\n| `Wood` | Hatchet | Logs, Planks, Furniture |\n| `Organic` | Any | Plants, Leaves |\n\n## Texture Definitions\n\n### Face-Specific Textures\n\n```json\n\"Textures\": [\n  {\n    \"Up\": \"BlockTextures/Stone_Top.png\",\n    \"Down\": \"BlockTextures/Stone_Bottom.png\",\n    \"North\": \"BlockTextures/Stone_Side.png\",\n    \"South\": \"BlockTextures/Stone_Side.png\",\n    \"East\": \"BlockTextures/Stone_Side.png\",\n    \"West\": \"BlockTextures/Stone_Side.png\",\n    \"Weight\": 1\n  }\n]\n```\n\n### All-Face Shorthand\n\n```json\n\"Textures\": [\n  {\n    \"All\": \"BlockTextures/Stone.png\",\n    \"Weight\": 1\n  }\n]\n```\n\n### Weighted Variants\n\nMultiple texture entries with different weights create visual variety:\n\n```json\n\"Textures\": [\n  { \"All\": \"BlockTextures/Stone.png\", \"Weight\": 2 },\n  { \"All\": \"BlockTextures/Stone_2.png\", \"Weight\": 1 },\n  { \"All\": \"BlockTextures/Stone_3.png\", \"Weight\": 1 }\n]\n```\n\n\u003CAside type=\"tip\">\nHigher weight values make that texture variant more likely to appear. In the example above, the first texture appears 50% of the time.\n\u003C/Aside>\n\n## VariantRotation Values\n\n| Value | Description |\n|-------|-------------|\n| `NESW` | 4 rotations (North, East, South, West) |\n| `UpDownNESW` | 6 rotations (all faces) |\n| `DoublePipe` | 2 rotations (horizontal pipe) |\n\n## Flags Object\n\n| Flag | Type | Description |\n|------|------|-------------|\n| `IsUsable` | `bool` | Block can be interacted with |\n| `IsStackable` | `bool` | Blocks can stack vertically |\n\n## Related\n\n- [Block System Overview](/api-reference/blocks/overview/) - Java API for blocks\n- [Decorative Sets](/api-reference/assets/blocks/decorative-sets/) - Themed block collections\n- [Block Animations](/api-reference/assets/blocks/animations/) - Animation system for blocks\n- [Connected Blocks](/api-reference/world/connected-blocks/) - Connection rules","src/content/docs/api-reference/assets/blocks/block-types.mdx","553e4b009e84b8f2","api-reference/assets/blocks/decorative-sets",{"id":518,"data":520,"body":525,"filePath":526,"digest":527,"deferredRender":16},{"title":521,"editUrl":16,"head":522,"template":52,"sidebar":523,"pagefind":16,"draft":42},"Decorative Sets",[],{"hidden":42,"attrs":524},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nDecorative sets are themed collections of furniture and functional blocks that share a consistent visual style. Each set includes models, textures, and item definitions for furniture pieces like doors, chests, tables, and lighting.\n\n## Asset Organization\n\nDecorative sets have assets split between Common (client) and Server directories:\n\n\u003CFileTree>\n- Assets/\n  - Common/Blocks/Decorative_Sets/\n    - Ancient/\n      - Door.blockymodel\n      - Door_Texture.png\n      - Chest.blockymodel\n      - Lantern.blockymodel\n    - Crude/\n    - Village/\n    - Tavern/\n    - ...\n  - Server/Item/Items/Furniture/\n    - Ancient/\n      - Furniture_Ancient_Door.json\n      - Furniture_Ancient_Chest_Small.json\n    - Crude/\n    - Village/\n    - ...\n\u003C/FileTree>\n\n## Available Decorative Sets\n\nHytale includes 22 decorative sets organized by theme:\n\n### Civilization Sets\n\n| Set Name | Theme | Location |\n|----------|-------|----------|\n| `Ancient` | Ancient ruins style | Zone-independent |\n| `Crude` | Basic/primitive crafted | Starter/survival |\n| `Village` | Human settlement | Zone 1 Plains |\n| `Lumberjack` | Woodland worker | Zone 1 Forest |\n| `Tavern` | Inn/pub themed | Zone 1 Towns |\n| `Human_Ruins` | Abandoned human structures | Various |\n\n### Zone-Specific Sets\n\n| Set Name | Theme | Zone |\n|----------|-------|------|\n| `Desert` | Sandstone/clay styled | Zone 2 |\n| `Jungle` | Tropical wood/vines | Zone 2 Jungle |\n| `Frozen_Castle` | Ice/stone castle | Zone 3 |\n| `Kweebec` | Kweebec faction | Zone 1 Forest |\n| `Feran` | Feran faction | Various |\n\n### Temple Sets\n\n| Set Name | Theme | Context |\n|----------|-------|---------|\n| `Temple_Light` | Light magic theme | Temple dungeons |\n| `Temple_Dark` | Dark magic theme | Temple dungeons |\n| `Temple_Emerald` | Emerald/nature theme | Temple dungeons |\n| `Temple_Wind` | Wind/air theme | Temple dungeons |\n\n### Creature Sets\n\n| Set Name | Theme | Context |\n|----------|-------|---------|\n| `Scarak_Hive` | Scarak organic hive | Scarak nests |\n| `Scarak_Temple` | Scarak temple style | Scarak temples |\n\n### Special Sets\n\n| Set Name | Theme | Context |\n|----------|-------|---------|\n| `Christmas` | Holiday themed | Seasonal events |\n| `Royal_Magic` | Magical/royal | Special locations |\n| `Prototype_Signs` | Sign variants | Development |\n| `Prototype_Windows` | Window variants | Development |\n| `Prototype_Window_Connected_Blocks` | Connected windows | Development |\n\n## Common Furniture Types\n\nEach decorative set typically includes:\n\n| Piece | Category | Description |\n|-------|----------|-------------|\n| Door | `Furniture.Doors` | Interactive door with open/close states |\n| Chest (Small) | `Furniture.Containers` | 18-slot storage container |\n| Chest (Large) | `Furniture.Containers` | Connected double chest |\n| Wardrobe | `Furniture.Containers` | Tall storage unit |\n| Table | `Furniture.Surfaces` | Placeable surface |\n| Chair | `Furniture.Seating` | Seating with mount point |\n| Bed | `Furniture.Beds` | Sleep/spawn point |\n| Ladder | `Furniture.Climbing` | Climbable block |\n| Trapdoor | `Furniture.Doors` | Horizontal door |\n| Window | `Furniture.Windows` | Decorative/functional window |\n| Sign | `Furniture.Signs` | Text display block |\n| Shelf | `Furniture.Storage` | Wall-mounted shelf |\n| Lantern/Candle | `Furniture.Lighting` | Light source |\n\n## Set Definition Pattern\n\nFurniture items reference their decorative set through the `Set` field:\n\n```json title=\"Furniture_Village_Door.json\" {9}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Furniture_Village_Door.name\"\n  },\n  \"PlayerAnimationsId\": \"Block\",\n  \"Categories\": [\"Furniture.Doors\"],\n  \"Set\": \"Furniture_Village\",\n  \"BlockType\": {\n    \"CustomModel\": \"Blocks/Decorative_Sets/Village/Door.blockymodel\",\n    \"CustomModelTexture\": [\n      {\n        \"Texture\": \"Blocks/Decorative_Sets/Village/Door_Texture.png\",\n        \"Weight\": 1\n      }\n    ],\n    \"DrawType\": \"Model\",\n    \"Material\": \"Solid\",\n    \"Opacity\": \"Transparent\",\n    \"HitboxType\": \"Door\",\n    \"IsDoor\": true\n  }\n}\n```\n\n## Example: Lighting with States\n\nLighting blocks demonstrate on/off states with particles and sounds:\n\n```json title=\"Furniture_Ancient_Candle.json\" {66-69,80-93,107-120}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Furniture_Ancient_Candle.name\"\n  },\n  \"PlayerAnimationsId\": \"Torch\",\n  \"Categories\": [\"Furniture.Lighting\"],\n  \"Set\": \"Furniture_Ancient\",\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Fibre\", \"Quantity\": 2 },\n      { \"ItemId\": \"Ingredient_Tree_Sap\", \"Quantity\": 2 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Id\": \"Furniture_Bench\",\n        \"Categories\": [\"Furniture_Lighting\"]\n      }\n    ]\n  },\n  \"BlockType\": {\n    \"BlockParticleSetId\": \"Dust\",\n    \"BlockSoundSetId\": \"Wood\",\n    \"CustomModel\": \"Blocks/Decorative_Sets/Ancient/Lantern.blockymodel\",\n    \"CustomModelTexture\": [\n      {\n        \"Texture\": \"Blocks/Decorative_Sets/Ancient/Lantern_Texture.png\",\n        \"Weight\": 1\n      }\n    ],\n    \"DrawType\": \"Model\",\n    \"HitboxType\": \"Plant_Medium\",\n    \"Light\": {\n      \"Color\": \"#baa\",\n      \"Radius\": 0\n    },\n    \"Material\": \"Solid\",\n    \"Opacity\": \"Transparent\",\n    \"Support\": {\n      \"Down\": [{ \"FaceType\": \"Full\" }]\n    },\n    \"Looping\": true,\n    \"Particles\": [\n      {\n        \"SystemId\": \"Candle_Fire\",\n        \"Color\": \"#ffcd10\",\n        \"TargetNodeName\": \"Flame-Emitter\",\n        \"Scale\": 0.75\n      },\n      {\n        \"SystemId\": \"Candle_Fire\",\n        \"TargetNodeName\": \"Flame-Emitter2\",\n        \"Color\": \"#ffcd10\",\n        \"Scale\": 0.65\n      }\n    ],\n    \"Interactions\": {\n      \"Use\": {\n        \"Interactions\": [\n          {\n            \"Type\": \"ChangeState\",\n            \"Changes\": {\n              \"default\": \"Off\",\n              \"Off\": \"default\"\n            }\n          }\n        ]\n      }\n    },\n    \"State\": {\n      \"Definitions\": {\n        \"On\": {\n          \"AmbientSoundEventId\": \"SFX_Candle_Default_Loop\"\n        },\n        \"Off\": {\n          \"InteractionHint\": \"server.interactionHints.turnon\",\n          \"Light\": null,\n          \"Particles\": null,\n          \"InteractionSoundEventId\": \"SFX_Candle_Off\",\n          \"AmbientSoundEventId\": null\n        }\n      }\n    },\n    \"InteractionHint\": \"server.interactionHints.turnoff\",\n    \"AmbientSoundEventId\": \"SFX_Candle_Default_Loop\"\n  },\n  \"Scale\": 1.5,\n  \"ItemSoundSetId\": \"ISS_Blocks_Wood\"\n}\n```\n\n### Key Features\n\n| Feature | Description |\n|---------|-------------|\n| `Light` | Emitted light color and radius |\n| `Particles` | Flame particle effects attached to nodes |\n| `Looping` | Continuous ambient sound |\n| `State.Definitions` | On/Off states with different properties |\n| `Interactions.Use` | Toggle state on interact |\n\n## Example: Container Block\n\nChests define storage capacity and opening animations:\n\n\u003CTabs>\n  \u003CTabItem label=\"Small Chest\">\n```json title=\"Furniture_Crude_Chest_Small.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Furniture_Crude_Chest_Small.name\"\n  },\n  \"Categories\": [\"Furniture.Containers\"],\n  \"Set\": \"Furniture_Crude\",\n  \"BlockType\": {\n    \"CustomModel\": \"Blocks/Decorative_Sets/Crude/Chest_Small.blockymodel\",\n    \"CustomModelTexture\": [\n      {\n        \"Texture\": \"Blocks/Decorative_Sets/Crude/Chest_Small_Texture.png\",\n        \"Weight\": 1\n      }\n    ],\n    \"DrawType\": \"Model\",\n    \"Flags\": { \"IsUsable\": true },\n    \"ConnectedBlockRuleSet\": {\n      \"Type\": \"CustomTemplate\",\n      \"TemplateShapeAssetId\": \"ChestConnectedBlockTemplate\",\n      \"TemplateShapeBlockPatterns\": {\n        \"Default\": \"Furniture_Crude_Chest_Small\",\n        \"Double\": \"Furniture_Crude_Chest_Large\"\n      }\n    },\n    \"State\": {\n      \"Id\": \"container\",\n      \"Capacity\": 18,\n      \"Definitions\": {\n        \"CloseWindow\": {\n          \"InteractionSoundEventId\": \"SFX_Chest_Wooden_Close\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Chest/Chest_Close.blockyanim\"\n        },\n        \"OpenWindow\": {\n          \"InteractionSoundEventId\": \"SFX_Chest_Wooden_Open\",\n          \"CustomModelAnimation\": \"Blocks/Animations/Chest/Chest_Open.blockyanim\"\n        }\n      }\n    },\n    \"Interactions\": {\n      \"Primary\": \"Break_Container\",\n      \"Use\": \"Open_Container\"\n    }\n  }\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Connected Rules\">\n```json title=\"Chest Connection Pattern\"\n{\n  \"ConnectedBlockRuleSet\": {\n    \"Type\": \"CustomTemplate\",\n    \"TemplateShapeAssetId\": \"ChestConnectedBlockTemplate\",\n    \"TemplateShapeBlockPatterns\": {\n      \"Default\": \"Furniture_Crude_Chest_Small\",\n      \"Double\": \"Furniture_Crude_Chest_Large\"\n    }\n  }\n}\n```\n\nWhen two small chests are placed adjacent, they automatically combine into a double chest using the `Double` pattern.\n  \u003C/TabItem>\n\u003C/Tabs>\n\n## Model Requirements\n\nDecorative set models must follow Blockbench requirements:\n\n| Constraint | Value |\n|------------|-------|\n| Max nodes | 255 |\n| Geometry types | Cubes and flat quads only |\n| Texture sizes | Multiples of 32px |\n| Grid scale | 32px = 1 block |\n\n### Common Model Components\n\n| Component | Purpose |\n|-----------|---------|\n| Main geometry | Visual appearance |\n| Bone hierarchy | Animation support |\n| Named nodes | Particle attachment points |\n| Attachment points | Equipment/decoration slots |\n\n## File Naming Convention\n\n| File Type | Pattern | Example |\n|-----------|---------|---------|\n| Model | `{Piece}.blockymodel` | `Door.blockymodel` |\n| Texture | `{Piece}_Texture.png` | `Door_Texture.png` |\n| Item Definition | `Furniture_{Set}_{Piece}.json` | `Furniture_Village_Door.json` |\n\n## Creating Custom Sets\n\nTo create a custom decorative set:\n\n1. **Create models** in Blockbench for each furniture piece\n2. **Export textures** at correct sizes (32px multiples)\n3. **Create item definitions** referencing your models\n4. **Use consistent `Set` value** across all pieces\n\n```json title=\"MyPlugin_CustomSet_Door.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"myplugin.items.CustomSet_Door.name\"\n  },\n  \"Categories\": [\"Furniture.Doors\"],\n  \"Set\": \"Furniture_MyCustomSet\",\n  \"BlockType\": {\n    \"CustomModel\": \"MyPlugin/Furniture/CustomSet/Door.blockymodel\",\n    \"CustomModelTexture\": [\n      {\n        \"Texture\": \"MyPlugin/Furniture/CustomSet/Door_Texture.png\",\n        \"Weight\": 1\n      }\n    ],\n    \"DrawType\": \"Model\",\n    \"Material\": \"Solid\",\n    \"Opacity\": \"Transparent\",\n    \"HitboxType\": \"Door\",\n    \"IsDoor\": true,\n    \"State\": {\n      \"Definitions\": {\n        \"OpenDoorIn\": {\n          \"HitboxType\": \"Door_Open_In\",\n          \"CustomModelAnimation\": \"MyPlugin/Animations/Door_Open.blockyanim\"\n        },\n        \"CloseDoorIn\": {\n          \"CustomModelAnimation\": \"MyPlugin/Animations/Door_Close.blockyanim\"\n        }\n      }\n    }\n  }\n}\n```\n\n## Furniture Categories\n\nItems are categorized for crafting and organization:\n\n| Category | Examples |\n|----------|----------|\n| `Furniture.Doors` | Doors, trapdoors |\n| `Furniture.Containers` | Chests, wardrobes, barrels |\n| `Furniture.Seating` | Chairs, benches, stools |\n| `Furniture.Surfaces` | Tables, counters, shelves |\n| `Furniture.Beds` | Beds, sleeping mats |\n| `Furniture.Lighting` | Candles, lanterns, braziers |\n| `Furniture.Windows` | Windows, shutters |\n| `Furniture.Signs` | Signs, paintings |\n| `Furniture.Climbing` | Ladders |\n\n## Related\n\n- [Block Type Assets](/api-reference/assets/blocks/block-types/) - Block definition schema\n- [Block Animations](/api-reference/assets/blocks/animations/) - Animation system\n- [Blockbench Setup](/tutorials/blockbench/setup/) - Model creation tool","src/content/docs/api-reference/assets/blocks/decorative-sets.mdx","31c661ff70348474","api-reference/assets/blocks/textures",{"id":528,"data":530,"body":535,"filePath":536,"digest":537,"deferredRender":16},{"title":531,"editUrl":16,"head":532,"template":52,"sidebar":533,"pagefind":16,"draft":42},"Block Textures",[],{"hidden":42,"attrs":534},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nBlock textures define the visual appearance of blocks in the game world. The texture system supports directional variants (top, side, bottom), animated textures, and tint gradients for biome-based coloring.\n\n## Asset Location\n\n\u003CFileTree>\n- Assets/Common/\n  - BlockTextures/\n    - Soil_Dirt.png\n    - Soil_Grass_Side.png\n    - Soil_Grass_Top_GS.png\n    - Rock_Basalt.png\n    - Rock_Basalt_Brick.png\n    - Clay_Blue.png\n    - ...645 texture files\n  - Blocks/\n    - Decorative_Sets/\n      - Village/\n      - Tavern/\n      - Ancient/\n    - Stone/\n    - Foliage/\n    - Farming/\n  - TintGradients/\n    - Grass_Cold.png\n    - Grass_Warm.png\n\u003C/FileTree>\n\n## Texture Organization\n\n### Block Textures Directory\n\nThe `BlockTextures/` directory contains ~645 PNG texture files for standard blocks. Textures are organized by naming convention rather than subdirectories.\n\n### Naming Conventions\n\n#### Base Textures\n\n```\n{Category}_{Material}.png\n```\n\nExamples:\n- `Soil_Dirt.png` - Basic dirt texture\n- `Rock_Basalt.png` - Basalt rock texture\n- `Clay_Blue.png` - Blue clay texture\n- `Chalk.png` - Chalk texture\n\n#### Directional Variants\n\nBlocks with different appearances on different faces use suffixes:\n\n| Suffix | Face | Description |\n|--------|------|-------------|\n| `_Top` | +Y | Top face of block |\n| `_Side` | X, Z | Side faces |\n| `_Bottom` | -Y | Bottom face |\n| `_Front` | -Z | Front face (oriented blocks) |\n| `_Back` | +Z | Back face |\n\nExamples:\n- `Soil_Grass_Top.png` - Grass top face\n- `Soil_Grass_Side.png` - Grass side face (dirt with grass edge)\n- `Bone_Top.png` - Bone block top\n- `Bone_Side.png` - Bone block sides\n\n#### Variant Textures\n\nMultiple visual variants use numeric suffixes:\n\n```\n{Name}_{Variant}.png\n```\n\nExamples:\n- `Peachstone_Brick.png`\n- `Peachstone_Brick02.png`\n- `Peachstone_Brick03.png`\n- `Peachstone_Brick04.png`\n\n#### Decorative Variants\n\n| Suffix | Description |\n|--------|-------------|\n| `_Brick` | Brick pattern |\n| `_Cobble` | Cobblestone pattern |\n| `_Smooth` | Smooth surface |\n| `_Ornate` | Decorative pattern |\n| `_Decorative` | Complex decorative pattern |\n\nExamples:\n- `Calcite.png` - Base calcite\n- `Calcite_Brick.png` - Calcite bricks\n- `Calcite_Brick_Smooth.png` - Smooth calcite bricks\n- `Calcite_Brick_Ornate.png` - Ornate calcite bricks\n- `Calcite_Cobble.png` - Calcite cobblestone\n\n### Tint Gradient Textures\n\nSuffix `_GS` indicates a grayscale texture that uses tint gradients for biome-based coloring:\n\n- `Soil_Grass_Top_GS.png` - Grayscale grass for tinting\n- `Soil_Grass_Side_GS.png` - Grayscale grass side\n- `Moss_Block_GS_Top.png` - Grayscale moss\n\n## Texture Categories\n\n### Soil & Natural\n\n| Category | Count | Examples |\n|----------|-------|----------|\n| Soil | ~40 | `Soil_Dirt`, `Soil_Grass`, `Soil_Clay` |\n| Rock | ~100 | `Rock_Basalt`, `Rock_Aqua`, `Rock_Crystal` |\n| Sand | ~15 | `Sand`, `Sand_Red`, `Sand_Volcanic` |\n| Clay | ~30 | `Clay_Blue`, `Clay_Smooth_Red` |\n\n### Processed & Building\n\n| Category | Count | Examples |\n|----------|-------|----------|\n| Brick | ~50 | `Calcite_Brick`, `Rock_Basalt_Brick` |\n| Plank | ~20 | `Plank_Oak`, `Plank_Pine` |\n| Metal | ~15 | `Metal_Iron`, `Metal_Gold` |\n| Glass | ~10 | `Glass`, `Glass_Stained_*` |\n\n### Special\n\n| Category | Count | Examples |\n|----------|-------|----------|\n| Crystal | ~20 | `Rock_Crystal_Blue`, `Rock_Crystal_Purple` |\n| Mushroom | ~15 | `Mushroom_Block_Blue`, `Mushroom_Block_Brown` |\n| Cloth | ~15 | `Cloth_Black`, `Cloth_Blue` |\n\n## Block Type Lists\n\nBlock types are organized into lists for tool interactions and game logic.\n\n\u003CFileTree>\n- Assets/Server/BlockTypeList/\n  - Soils.json\n  - Rock.json\n  - Ores.json\n  - Snow.json\n  - TreeWood.json\n  - TreeLeaves.json\n  - Gravel.json\n  - PlantsAndTrees.json\n\u003C/FileTree>\n\n### Soils List\n\n```json title=\"Soils.json\"\n{\n  \"Blocks\": [\n    \"Soil_Dirt\",\n    \"Soil_Dirt_Burnt\",\n    \"Soil_Dirt_Cold\",\n    \"Soil_Dirt_Dry\",\n    \"Soil_Dirt_Poisoned\",\n    \"Soil_Grass\",\n    \"Soil_Grass_Burnt\",\n    \"Soil_Grass_Cold\",\n    \"Soil_Grass_Deep\",\n    \"Soil_Grass_Dry\",\n    \"Soil_Grass_Full\",\n    \"Soil_Grass_Sunny\",\n    \"Soil_Grass_Wet\"\n  ]\n}\n```\n\nThese lists are used by tools to determine mining behavior and durability loss.\n\n## Decorative Sets\n\nThe `Blocks/Decorative_Sets/` directory contains themed block collections with models and textures.\n\n### Available Sets\n\n| Set | Contents | Theme |\n|-----|----------|-------|\n| Village | Furniture, containers | Human village |\n| Tavern | Tables, chairs, barrels | Inn furnishings |\n| Ancient | Ruins, artifacts | Ancient civilization |\n| Desert | Desert structures | Arid region |\n| Frozen_Castle | Ice furniture | Frozen region |\n| Jungle | Jungle structures | Tropical region |\n| Kweebec | Kweebec-style | Kweebec architecture |\n| Temple_Light | Temple blocks | Light temple |\n| Temple_Dark | Temple blocks | Dark temple |\n| Temple_Emerald | Temple blocks | Emerald temple |\n| Scarak_Hive | Organic shapes | Scarak structures |\n| Scarak_Temple | Temple blocks | Scarak temple |\n\n### Set Contents\n\nEach decorative set typically includes:\n\n```\n{Set}/\n Barrel.blockymodel\n Barrel_*.png (texture variants)\n Bed.blockymodel\n Bed_Texture.png\n Chair.blockymodel\n Chair_Texture.png\n Chest.blockymodel\n Chest_Texture.png\n Door.blockymodel\n Door_Texture.png\n Table.blockymodel\n Table_Texture.png\n Lantern.blockymodel\n Lantern_Texture.png\n ...\n```\n\n### Village Set Example\n\n```\nVillage/\n Barrel.blockymodel\n Barrel_Ancient.png\n Barrel_Crude.png\n Barrel_Tavern.png\n Bed.blockymodel\n Bed_Texture.png\n Bench.blockymodel\n Chest.blockymodel\n Chest_Small.blockymodel\n Door.blockymodel\n Lantern.blockymodel\n Lantern_Ceiling.blockymodel\n Painting*.blockymodel (various sizes)\n Pot.blockymodel\n Pot_Broken.blockymodel\n Table.blockymodel\n Wardrobe.blockymodel\n Window*.blockymodel (connected block variants)\n```\n\n## Texture Requirements\n\n### Dimensions\n\n| Requirement | Value |\n|-------------|-------|\n| Size | Multiples of 32px (32, 64, 96, 128...) |\n| Standard block | 32x32 pixels |\n| High-detail | 64x64 or 128x128 pixels |\n| Format | PNG with alpha channel |\n\n### Alpha Channel\n\n- **Opaque blocks**: No alpha needed\n- **Transparent blocks** (glass, leaves): Alpha for transparency\n- **Connected blocks**: Alpha for edge blending\n\n### Tint Gradients\n\nFor biome-tinted textures (grass, leaves):\n\n1. Create grayscale base texture (`_GS` suffix)\n2. Game applies tint gradient based on biome\n3. Allows same texture to appear different colors in different regions\n\n## Creating Custom Textures\n\n### Basic Block Texture\n\n```\nMyPlugin_Block_Custom.png\n```\n\n- Size: 32x32 pixels\n- PNG format\n- Place in plugin's assets folder\n\n### Directional Block\n\nFor blocks with different top/side/bottom:\n\n```\nMyPlugin_Block_Custom.png        # All faces (fallback)\nMyPlugin_Block_Custom_Top.png    # Top face\nMyPlugin_Block_Custom_Side.png   # Side faces\nMyPlugin_Block_Custom_Bottom.png # Bottom face\n```\n\n### Tinted Block\n\n1. Create grayscale texture:\n```\nMyPlugin_Grass_Custom_GS.png\n```\n\n2. Reference tint gradient in block definition\n\n### Texture Variants\n\nFor random variation:\n```\nMyPlugin_Block_Stone.png\nMyPlugin_Block_Stone02.png\nMyPlugin_Block_Stone03.png\n```\n\n## Color Categories\n\n### Natural Colors by Biome\n\n| Biome | Grass Tint | Soil Color |\n|-------|------------|------------|\n| Plains | Bright green | Brown |\n| Desert | Yellow-green | Tan |\n| Cold/Taiga | Blue-green | Gray-brown |\n| Jungle | Deep green | Dark brown |\n| Volcanic | Orange | Black/gray |\n| Burnt | Brown | Charred |\n\n### Clay Colors\n\nAvailable clay colors:\n- Black, Blue, Cyan, Green, Grey\n- Lime, Orange, Pink, Purple\n- Red, White, Yellow\n\nEach has both rough (`Clay_*`) and smooth (`Clay_Smooth_*`) variants.\n\n### Crystal Colors\n\n- Blue, Cyan, Green, Pink, Purple, Red\n\nEach crystal color has base and `_Top` variants.\n\n## Best Practices\n\n1. **Follow naming conventions** - Use established prefixes and suffixes\n2. **Match existing style** - Study vanilla textures for art direction\n3. **Use appropriate resolution** - 32x32 for most blocks\n4. **Consider tiling** - Textures should tile seamlessly\n5. **Optimize file size** - Use PNG compression\n6. **Test in-game** - Verify appearance under different lighting\n7. **Provide variants** - Multiple variants reduce repetition\n8. **Use grayscale for tinting** - Allows biome adaptation\n\n## Related\n\n- [Block Types](/api-reference/assets/blocks/block-types/) - Block definitions\n- [Decorative Sets](/api-reference/assets/blocks/decorative-sets/) - Themed block sets\n- [Animations](/api-reference/assets/blocks/animations/) - Block animations\n- [Connected Blocks](/api-reference/world/connected-blocks/) - Multi-block connections","src/content/docs/api-reference/assets/blocks/textures.mdx","2ed828057eb772f8","core-concepts/commands",{"id":538,"data":540,"body":545,"filePath":546,"digest":547,"deferredRender":16},{"title":541,"editUrl":16,"head":542,"template":52,"sidebar":543,"pagefind":16,"draft":42},"Command System",[],{"hidden":42,"attrs":544},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# Command System\n\nHytale provides a powerful command system for creating commands that players and console operators can execute. Commands support typed arguments, subcommands, permissions, and automatic tab completion.\n\n## Package Location\n\n- Base classes: `com.hypixel.hytale.server.core.command.system.basecommands`\n- Abstract base: `com.hypixel.hytale.server.core.command.system.AbstractCommand`\n- Argument types: `com.hypixel.hytale.server.core.command.system.arguments.types.ArgTypes`\n- Argument system: `com.hypixel.hytale.server.core.command.system.arguments.system`\n\n## Overview\n\nThe command system is built around several key classes:\n\n| Class | Purpose |\n|-------|---------|\n| `AbstractCommand` | Base class for all commands |\n| `CommandBase` | Synchronous command execution |\n| `AbstractPlayerCommand` | Commands that require a player sender |\n| `AbstractAsyncCommand` | Asynchronous command execution |\n| `AbstractWorldCommand` | Commands with world context |\n| `AbstractCommandCollection` | Group related subcommands |\n| `CommandContext` | Provides argument values and sender info |\n\n## Creating a Basic Command\n\n### Synchronous Command\n\n```java\nimport com.hypixel.hytale.server.core.command.system.CommandContext;\nimport com.hypixel.hytale.server.core.command.system.basecommands.CommandBase;\n\npublic class HelloCommand extends CommandBase {\n\n    public HelloCommand() {\n        super(\"hello\", \"Says hello to the world\");\n    }\n\n    @Override\n    protected void executeSync(CommandContext context) {\n        context.sendMessage(Message.raw(\"Hello, world!\"));\n    }\n}\n```\n\n### Player-Only Command\n\n```java\nimport com.hypixel.hytale.server.core.command.system.CommandContext;\nimport com.hypixel.hytale.server.core.command.system.basecommands.AbstractPlayerCommand;\nimport com.hypixel.hytale.server.core.universe.PlayerRef;\nimport com.hypixel.hytale.server.core.universe.world.World;\nimport com.hypixel.hytale.component.Ref;\nimport com.hypixel.hytale.component.Store;\nimport com.hypixel.hytale.server.core.universe.world.storage.EntityStore;\n\npublic class WhoAmICommand extends AbstractPlayerCommand {\n\n    public WhoAmICommand() {\n        super(\"whoami\", \"Displays your player information\");\n    }\n\n    @Override\n    protected void execute(\n        CommandContext context,\n        Store\u003CEntityStore> store,\n        Ref\u003CEntityStore> ref,\n        PlayerRef playerRef,\n        World world\n    ) {\n        context.sendMessage(Message.raw(\"You are: \" + playerRef.getUsername()));\n        context.sendMessage(Message.raw(\"World: \" + world.getName()));\n    }\n}\n```\n\n## Registering Commands\n\nRegister commands during your plugin's `setup()` phase:\n\n```java\n@Override\nprotected void setup() {\n    getCommandRegistry().registerCommand(new HelloCommand());\n    getCommandRegistry().registerCommand(new WhoAmICommand());\n}\n```\n\n## Command Arguments\n\n### Argument Types\n\nArguments define what inputs your command accepts. Hytale provides many built-in argument types through `ArgTypes`:\n\n| Type | Description | Example |\n|------|-------------|---------|\n| `BOOLEAN` | true/false | `true` |\n| `INTEGER` | Whole numbers | `42`, `-5` |\n| `FLOAT` | Decimal numbers | `3.14` |\n| `DOUBLE` | Double-precision decimals | `3.14159` |\n| `STRING` | Text values | `\"Hello World\"` |\n| `UUID` | UUID values | `550e8400-e29b-41d4-a716-446655440000` |\n| `PLAYER_REF` | Online player by name | `john_doe` |\n| `PLAYER_UUID` | Player by UUID or name | `john_doe` |\n| `WORLD` | World by name | `default` |\n| `RELATIVE_POSITION` | 3D position (relative) | `~5 ~ ~-3` |\n| `RELATIVE_BLOCK_POSITION` | Block position (relative) | `124 232 234` |\n| `VECTOR3I` | Integer vector | `1 2 3` |\n| `ROTATION` | Pitch/yaw/roll | `90.0 180.0 0.0` |\n| `GAME_MODE` | Game mode | `creative` |\n| `COLOR` | Color value | `#FF0000` |\n| `BLOCK_TYPE_ASSET` | Block type | `Rock_Stone` |\n| `ITEM_ASSET` | Item type | `Sword_Iron` |\n\n### Required Arguments\n\nRequired arguments must be provided by the user:\n\n```java\npublic class TeleportCommand extends AbstractPlayerCommand {\n    private final RequiredArg\u003CRelativeDoublePosition> positionArg;\n\n    public TeleportCommand() {\n        super(\"tp\", \"Teleport to a position\");\n\n        // Define required arguments in constructor\n        this.positionArg = withRequiredArg(\n            \"position\",                    // Argument name\n            \"The target position\",         // Description\n            ArgTypes.RELATIVE_POSITION     // Argument type\n        );\n    }\n\n    @Override\n    protected void execute(CommandContext context, Store\u003CEntityStore> store,\n                          Ref\u003CEntityStore> ref, PlayerRef playerRef, World world) {\n        RelativeDoublePosition pos = context.get(positionArg);\n        // Use the position value...\n    }\n}\n```\n\n### Optional Arguments\n\nOptional arguments have a default value when not provided:\n\n```java\npublic class GiveCommand extends AbstractPlayerCommand {\n    private final RequiredArg\u003CItem> itemArg;\n    private final DefaultArg\u003CInteger> countArg;\n\n    public GiveCommand() {\n        super(\"give\", \"Give an item to yourself\");\n\n        this.itemArg = withRequiredArg(\"item\", \"Item to give\", ArgTypes.ITEM_ASSET);\n        this.countArg = withDefaultArg(\n            \"count\",              // Name\n            \"Number of items\",    // Description\n            ArgTypes.INTEGER,     // Type\n            1,                    // Default value\n            \"1\"                   // Default value description\n        );\n    }\n\n    @Override\n    protected void execute(CommandContext context, Store\u003CEntityStore> store,\n                          Ref\u003CEntityStore> ref, PlayerRef playerRef, World world) {\n        Item item = context.get(itemArg);\n        int count = context.get(countArg);  // Returns 1 if not provided\n        // Give the item...\n    }\n}\n```\n\n### Flag Arguments\n\nFlag arguments are boolean switches:\n\n```java\npublic class ClearCommand extends CommandBase {\n    private final FlagArg silentFlag;\n\n    public ClearCommand() {\n        super(\"clear\", \"Clear something\");\n\n        this.silentFlag = withFlagArg(\"silent\", \"Don't show confirmation message\");\n    }\n\n    @Override\n    protected void executeSync(CommandContext context) {\n        boolean silent = context.provided(silentFlag);\n        // Do work...\n        if (!silent) {\n            context.sendMessage(Message.raw(\"Cleared!\"));\n        }\n    }\n}\n```\n\nUsage: `/clear --silent`\n\n### List Arguments\n\nAccept multiple values of the same type:\n\n```java\npublic class SummonCommand extends AbstractPlayerCommand {\n    private final RequiredArg\u003CList\u003CPlayerRef>> playersArg;\n\n    public SummonCommand() {\n        super(\"summon\", \"Summon multiple players to you\");\n\n        this.playersArg = withListRequiredArg(\n            \"players\",\n            \"Players to summon\",\n            ArgTypes.PLAYER_REF\n        );\n    }\n\n    @Override\n    protected void execute(CommandContext context, Store\u003CEntityStore> store,\n                          Ref\u003CEntityStore> ref, PlayerRef playerRef, World world) {\n        List\u003CPlayerRef> players = context.get(playersArg);\n        for (PlayerRef target : players) {\n            // Teleport each player...\n        }\n    }\n}\n```\n\nUsage: `/summon [player1, player2, player3]`\n\n## Command Context\n\n`CommandContext` provides access to parsed arguments and the command sender:\n\n```java\n@Override\nprotected void executeSync(CommandContext context) {\n    // Get argument values\n    String name = context.get(nameArg);\n    int count = context.get(countArg);\n\n    // Check if optional argument was provided\n    if (context.provided(optionalArg)) {\n        // Use the optional value\n    }\n\n    // Get raw input\n    String input = context.getInputString();\n\n    // Access sender\n    CommandSender sender = context.sender();\n\n    // Check if sender is a player\n    if (context.isPlayer()) {\n        Player player = context.senderAs(Player.class);\n    }\n\n    // Send messages\n    context.sendMessage(Message.raw(\"Success!\"));\n}\n```\n\n## Subcommands\n\nCreate command hierarchies using subcommands:\n\n```java\npublic class WarpCommand extends AbstractCommandCollection {\n\n    public WarpCommand() {\n        super(\"warp\", \"Warp management commands\");\n\n        // Add subcommands\n        addSubCommand(new WarpSetCommand());\n        addSubCommand(new WarpDeleteCommand());\n        addSubCommand(new WarpListCommand());\n        addSubCommand(new WarpTeleportCommand());\n    }\n}\n\n// Subcommand example\npublic class WarpSetCommand extends AbstractPlayerCommand {\n\n    private final RequiredArg\u003CString> nameArg;\n\n    public WarpSetCommand() {\n        super(\"set\", \"Create a new warp at your location\");\n        this.nameArg = withRequiredArg(\"name\", \"Warp name\", ArgTypes.STRING);\n    }\n\n    @Override\n    protected void execute(CommandContext context, Store\u003CEntityStore> store,\n                          Ref\u003CEntityStore> ref, PlayerRef playerRef, World world) {\n        String warpName = context.get(nameArg);\n        // Create warp...\n        context.sendMessage(Message.raw(\"Warp '\" + warpName + \"' created!\"));\n    }\n}\n```\n\nUsage:\n- `/warp set home`\n- `/warp delete home`\n- `/warp list`\n\n## Command Aliases\n\nAdd alternative names for commands:\n\n```java\npublic class TeleportCommand extends AbstractPlayerCommand {\n\n    public TeleportCommand() {\n        super(\"teleport\", \"Teleport to a location\");\n        addAliases(\"tp\", \"goto\");  // Can now use /tp or /goto\n    }\n}\n```\n\n## Permissions\n\n### Automatic Permission Generation\n\nPermissions are automatically generated based on plugin name and command structure:\n\n```\n\u003Cgroup>.\u003Cplugin>.command.\u003Ccommandname>\n```\n\nFor example, a command named \"spawn\" in plugin \"MyPlugin\" (group \"com.example\") gets permission: `com.example.myplugin.command.spawn`\n\n### Custom Permissions\n\nOverride the automatic permission:\n\n```java\npublic class AdminCommand extends CommandBase {\n\n    public AdminCommand() {\n        super(\"admin\", \"Administrative command\");\n        requirePermission(\"myplugin.admin\");  // Custom permission\n    }\n}\n```\n\n### Permission Groups\n\nAssociate commands with game modes:\n\n```java\npublic class CreativeCommand extends CommandBase {\n\n    public CreativeCommand() {\n        super(\"creative\", \"Creative-only command\");\n        setPermissionGroup(GameMode.CREATIVE);\n    }\n}\n```\n\n### Checking Permissions\n\n```java\n@Override\nprotected void executeSync(CommandContext context) {\n    CommandSender sender = context.sender();\n\n    if (!sender.hasPermission(\"myplugin.special\")) {\n        context.sendMessage(Message.raw(\"You don't have permission!\"));\n        return;\n    }\n\n    // Continue with command...\n}\n```\n\n## Async Commands\n\nFor commands that perform I/O or other blocking operations:\n\n```java\npublic class AsyncLookupCommand extends AbstractAsyncCommand {\n\n    private final RequiredArg\u003CString> usernameArg;\n\n    public AsyncLookupCommand() {\n        super(\"lookup\", \"Look up player information\");\n        this.usernameArg = withRequiredArg(\"username\", \"Player to look up\", ArgTypes.STRING);\n    }\n\n    @Override\n    protected CompletableFuture\u003CVoid> executeAsync(CommandContext context) {\n        String username = context.get(usernameArg);\n\n        return CompletableFuture.runAsync(() -> {\n            // Perform async lookup...\n            // This runs off the main thread\n        }).thenRun(() -> {\n            context.sendMessage(Message.raw(\"Lookup complete!\"));\n        });\n    }\n}\n```\n\n## Confirmation Requirement\n\nFor dangerous commands, require explicit confirmation:\n\n```java\npublic class ResetWorldCommand extends AbstractAsyncCommand {\n\n    public ResetWorldCommand() {\n        super(\"resetworld\", \"Reset the entire world\", true);  // requiresConfirmation = true\n    }\n\n    @Override\n    protected CompletableFuture\u003CVoid> executeAsync(CommandContext context) {\n        // Only executes if user includes --confirm flag\n        // /resetworld --confirm\n        return CompletableFuture.runAsync(() -> {\n            // Reset world...\n        });\n    }\n}\n```\n\n## Command Variants\n\nCreate multiple command signatures with different argument counts:\n\n```java\npublic class TimeCommand extends CommandBase {\n\n    private final RequiredArg\u003CInteger> timeArg;\n\n    public TimeCommand() {\n        super(\"time\", \"Set the world time\");\n        this.timeArg = withRequiredArg(\"time\", \"Time value (0-24000)\", ArgTypes.INTEGER);\n\n        // Add a variant that takes no arguments (displays current time)\n        addUsageVariant(new TimeDisplayVariant());\n    }\n\n    @Override\n    protected void executeSync(CommandContext context) {\n        int time = context.get(timeArg);\n        // Set the time...\n    }\n\n    // Variant with no required arguments\n    private class TimeDisplayVariant extends CommandBase {\n        public TimeDisplayVariant() {\n            super(\"Display current time\");  // No name for variants\n        }\n\n        @Override\n        protected void executeSync(CommandContext context) {\n            // Display current time\n            context.sendMessage(Message.raw(\"Current time: ...\"));\n        }\n    }\n}\n```\n\nUsage:\n- `/time` - displays current time\n- `/time 6000` - sets time to noon\n\n## Specialized Base Commands\n\n| Class | Use Case |\n|-------|----------|\n| `CommandBase` | Simple synchronous commands |\n| `AbstractAsyncCommand` | Async execution with CompletableFuture |\n| `AbstractPlayerCommand` | Requires player sender, provides player context |\n| `AbstractAsyncPlayerCommand` | Async player command |\n| `AbstractWorldCommand` | Provides world context |\n| `AbstractAsyncWorldCommand` | Async world command |\n| `AbstractTargetPlayerCommand` | Commands targeting other players |\n| `AbstractTargetEntityCommand` | Commands targeting entities |\n| `AbstractCommandCollection` | Container for subcommands |\n\n## Tab Completion\n\nTab completion is automatically provided based on argument types. For custom suggestions, implement `SuggestionProvider`:\n\n```java\npublic class CustomArgumentType extends SingleArgumentType\u003CMyType> {\n\n    public CustomArgumentType() {\n        super(\"Custom Type\", \"Description\", \"example1\", \"example2\");\n    }\n\n    @Override\n    public MyType parse(String input, ParseResult parseResult) {\n        // Parse the input...\n    }\n\n    @Override\n    public void suggest(\n        CommandSender sender,\n        String textAlreadyEntered,\n        int numParametersTyped,\n        SuggestionResult result\n    ) {\n        // Add suggestions based on context\n        result.suggest(\"option1\");\n        result.suggest(\"option2\");\n\n        // Filter by what user has typed\n        if (\"option1\".startsWith(textAlreadyEntered.toLowerCase())) {\n            result.suggest(\"option1\");\n        }\n    }\n}\n```\n\n## Error Handling\n\n### Parse Errors\n\nArgument parsing errors are handled automatically with helpful messages.\n\n### Command Exceptions\n\nThrow `CommandException` for user-facing errors:\n\n```java\n@Override\nprotected void executeSync(CommandContext context) {\n    String name = context.get(nameArg);\n\n    if (name.length() > 32) {\n        throw new GeneralCommandException(\n            Message.raw(\"Name must be 32 characters or less\")\n        );\n    }\n\n    // Continue...\n}\n```\n\n## Best Practices\n\n1. **Use appropriate base class**: Choose the right base class for your use case\n2. **Validate early**: Check arguments before performing operations\n3. **Provide feedback**: Always send a response message\n4. **Use async for I/O**: Don't block the main thread\n5. **Document arguments**: Provide clear descriptions\n6. **Keep commands focused**: One command = one action\n7. **Use subcommands**: Group related functionality\n\n## Complete Example\n\n```java\npublic class MyPlugin extends JavaPlugin {\n\n    public MyPlugin(JavaPluginInit init) {\n        super(init);\n    }\n\n    @Override\n    protected void setup() {\n        // Register commands\n        getCommandRegistry().registerCommand(new SpawnCommand());\n        getCommandRegistry().registerCommand(new WarpCommand());\n    }\n}\n\npublic class SpawnCommand extends AbstractPlayerCommand {\n\n    private final DefaultArg\u003CPlayerRef> targetArg;\n\n    public SpawnCommand() {\n        super(\"spawn\", \"Teleport to spawn point\");\n\n        this.targetArg = withDefaultArg(\n            \"player\",\n            \"Player to teleport (defaults to self)\",\n            ArgTypes.PLAYER_REF,\n            null,\n            \"self\"\n        );\n    }\n\n    @Override\n    protected void execute(CommandContext context, Store\u003CEntityStore> store,\n                          Ref\u003CEntityStore> ref, PlayerRef playerRef, World world) {\n        PlayerRef target = context.get(targetArg);\n        if (target == null) {\n            target = playerRef;\n        }\n\n        // Get spawn point and teleport...\n        context.sendMessage(Message.raw(\"Teleported to spawn!\"));\n    }\n}\n```\n\n## Related\n\n- [Plugin Registries](/core-concepts/registries/) - Command registration\n- [Plugin Lifecycle](/getting-started/plugin-lifecycle/) - When to register commands\n- [Permissions](/api-reference/permissions/overview/) - Permission system","src/content/docs/core-concepts/commands.mdx","81f2afa5745e1b2c","core-concepts/ecs-overview",{"id":548,"data":550,"body":555,"filePath":556,"digest":557,"deferredRender":16},{"title":551,"editUrl":16,"head":552,"template":52,"sidebar":553,"pagefind":16,"draft":42},"Entity Component System (ECS) Overview",[],{"hidden":42,"attrs":554},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# Entity Component System (ECS) Overview\n\nHytale uses an Entity Component System architecture for managing game entities, chunks, and their associated data. ECS separates data (components) from behavior (systems), enabling efficient processing of large numbers of entities.\n\n## Package Location\n\n- Core ECS: `com.hypixel.hytale.component`\n- Systems: `com.hypixel.hytale.component.system`\n- Queries: `com.hypixel.hytale.component.query`\n- EntityStore: `com.hypixel.hytale.server.core.universe.world.storage.EntityStore`\n- ChunkStore: `com.hypixel.hytale.server.core.universe.world.storage.ChunkStore`\n\n## Core Concepts\n\n### ECS Architecture\n\n```\n\n                           Store                                  \n     \n                       Entities (Refs)                          \n                   \n     Entity    Entity    Entity    Entity     ...      \n      Ref 0     Ref 1     Ref 2     Ref 3              \n                   \n     \n                                                              \n     \n                     Components (Data)                          \n               \n    Position   Velocity    Health    Inventory  ...    \n               \n     \n                                                                  \n     \n                     Resources (World Data)                     \n                           \n    TimeOfDay  Weather    GameRules        ...           \n                           \n     \n                                                                  \n     \n                     Systems (Logic)                            \n               \n     Physics      AI       Combat     Weather   ...    \n               \n     \n\n```\n\n### Key Terminology\n\n| Term | Description |\n|------|-------------|\n| **Store** | Container for entities, components, resources, and systems |\n| **Entity (Ref)** | A unique identifier for a game object |\n| **Component** | Data attached to an entity (no behavior) |\n| **Resource** | World-level data shared across all entities |\n| **System** | Logic that operates on entities with specific components |\n| **Archetype** | The set of component types an entity has |\n| **Query** | Filter for selecting entities by component composition |\n| **Holder** | Temporary container for entity components |\n\n## Store Types\n\nHytale uses two primary store types:\n\n### EntityStore\n\nFor entity-level data (players, mobs, items, etc.):\n\n```java\n// Access via plugin registry\ngetEntityStoreRegistry().registerComponent(MyComponent.class, MyComponent::new);\ngetEntityStoreRegistry().registerSystem(new MyEntitySystem());\n```\n\n### ChunkStore\n\nFor chunk-level data (terrain, block data, etc.):\n\n```java\n// Access via plugin registry\ngetChunkStoreRegistry().registerComponent(ChunkData.class, ChunkData::new);\ngetChunkStoreRegistry().registerSystem(new ChunkProcessingSystem());\n```\n\n## Components\n\nComponents are pure data containers attached to entities. They should contain no game logic.\n\n### Defining a Component\n\n```java\nimport com.hypixel.hytale.component.Component;\nimport com.hypixel.hytale.server.core.universe.world.storage.EntityStore;\n\npublic class HealthComponent implements Component\u003CEntityStore> {\n    private float health;\n    private float maxHealth;\n\n    public HealthComponent() {\n        this.health = 20.0f;\n        this.maxHealth = 20.0f;\n    }\n\n    public float getHealth() { return health; }\n    public void setHealth(float health) { this.health = health; }\n\n    public float getMaxHealth() { return maxHealth; }\n    public void setMaxHealth(float maxHealth) { this.maxHealth = maxHealth; }\n\n    @Override\n    public Component\u003CEntityStore> clone() {\n        HealthComponent copy = new HealthComponent();\n        copy.health = this.health;\n        copy.maxHealth = this.maxHealth;\n        return copy;\n    }\n}\n```\n\n### Registering a Component\n\n```java\n@Override\nprotected void setup() {\n    // Register without serialization\n    ComponentType\u003CEntityStore, HealthComponent> healthType =\n        getEntityStoreRegistry().registerComponent(\n            HealthComponent.class,\n            HealthComponent::new\n        );\n\n    // Register with serialization (saved to disk)\n    ComponentType\u003CEntityStore, PersistentData> dataType =\n        getEntityStoreRegistry().registerComponent(\n            PersistentData.class,\n            \"myplugin:persistent_data\",\n            PersistentData.CODEC\n        );\n}\n```\n\n### ComponentType\n\n`ComponentType\u003CECS_TYPE, T>` is a handle for accessing a specific component type:\n\n```java\nprivate ComponentType\u003CEntityStore, HealthComponent> healthType;\n\n// In setup()\nthis.healthType = getEntityStoreRegistry().registerComponent(\n    HealthComponent.class,\n    HealthComponent::new\n);\n\n// In system\nHealthComponent health = store.getComponent(ref, healthType);\nif (health != null) {\n    health.setHealth(health.getHealth() - 5);\n}\n```\n\n## Resources\n\nResources are world-level data shared across all entities. Unlike components, resources aren't attached to specific entities.\n\n### Defining a Resource\n\n```java\nimport com.hypixel.hytale.component.Resource;\nimport com.hypixel.hytale.server.core.universe.world.storage.EntityStore;\n\npublic class WeatherResource implements Resource\u003CEntityStore> {\n    private String currentWeather = \"sunny\";\n    private float intensity = 1.0f;\n\n    public String getCurrentWeather() { return currentWeather; }\n    public void setCurrentWeather(String weather) { this.currentWeather = weather; }\n\n    public float getIntensity() { return intensity; }\n    public void setIntensity(float intensity) { this.intensity = intensity; }\n\n    @Override\n    public Resource\u003CEntityStore> clone() {\n        WeatherResource copy = new WeatherResource();\n        copy.currentWeather = this.currentWeather;\n        copy.intensity = this.intensity;\n        return copy;\n    }\n}\n```\n\n### Registering a Resource\n\n```java\n@Override\nprotected void setup() {\n    ResourceType\u003CEntityStore, WeatherResource> weatherType =\n        getEntityStoreRegistry().registerResource(\n            WeatherResource.class,\n            WeatherResource::new\n        );\n}\n```\n\n### Accessing Resources\n\n```java\n// Get resource from store\nWeatherResource weather = store.getResource(weatherType);\nweather.setCurrentWeather(\"rain\");\n```\n\n## Systems\n\nSystems contain the logic that operates on entities. They query for entities with specific components and process them.\n\n### System Base Class\n\n```java\nimport com.hypixel.hytale.component.system.System;\nimport com.hypixel.hytale.server.core.universe.world.storage.EntityStore;\n\npublic class HealthRegenSystem extends System\u003CEntityStore> {\n\n    private ComponentType\u003CEntityStore, HealthComponent> healthType;\n\n    public HealthRegenSystem() {\n        // Register components this system needs\n        this.healthType = registerComponent(HealthComponent.class, HealthComponent::new);\n    }\n}\n```\n\n### System Types\n\n| System Type | Description |\n|-------------|-------------|\n| `TickingSystem` | Runs every tick |\n| `TickableSystem` | Ticking with enable/disable control |\n| `EntityTickingSystem` | Processes each matching entity per tick |\n| `ArchetypeTickingSystem` | Batch processes entities by archetype |\n| `ArchetypeChunkSystem` | Processes archetype chunks |\n| `EventSystem` | Responds to ECS events |\n| `EntityEventSystem` | Handles entity-specific events |\n| `WorldEventSystem` | Handles world-level events |\n| `QuerySystem` | Query-based entity iteration |\n| `RefSystem` | Tracks entity references |\n| `RefChangeSystem` | Detects reference changes |\n| `StoreSystem` | Store-level operations |\n| `HolderSystem` | Works with entity holders |\n\n### EntityTickingSystem Example\n\n```java\nimport com.hypixel.hytale.component.ArchetypeChunk;\nimport com.hypixel.hytale.component.CommandBuffer;\nimport com.hypixel.hytale.component.Store;\nimport com.hypixel.hytale.component.system.tick.EntityTickingSystem;\nimport com.hypixel.hytale.server.core.universe.world.storage.EntityStore;\n\npublic class HealthRegenSystem extends EntityTickingSystem\u003CEntityStore> {\n\n    private ComponentType\u003CEntityStore, HealthComponent> healthType;\n\n    public HealthRegenSystem() {\n        this.healthType = registerComponent(HealthComponent.class, HealthComponent::new);\n    }\n\n    @Override\n    public Query\u003CEntityStore> getQuery() {\n        return healthType;  // Only process entities with HealthComponent\n    }\n\n    @Override\n    public void tick(float dt, int index, ArchetypeChunk\u003CEntityStore> chunk,\n                     Store\u003CEntityStore> store, CommandBuffer\u003CEntityStore> commandBuffer) {\n        // Get component from the archetype chunk at the given index\n        HealthComponent health = chunk.getComponent(index, healthType);\n        if (health.getHealth() \u003C health.getMaxHealth()) {\n            health.setHealth(Math.min(health.getHealth() + 0.1f * dt, health.getMaxHealth()));\n        }\n    }\n}\n```\n\n### Registering Systems\n\n```java\n@Override\nprotected void setup() {\n    getEntityStoreRegistry().registerSystem(new HealthRegenSystem());\n}\n```\n\n## Queries\n\nQueries filter entities based on their component composition.\n\n### Query Types\n\n| Query | Description |\n|-------|-------------|\n| `ComponentType` | Entities that have this component |\n| `AndQuery` | Entities with ALL specified components |\n| `OrQuery` | Entities with ANY of the specified components |\n| `NotQuery` | Entities that DON'T have the component |\n| `AnyQuery` | Matches any entity |\n| `ExactArchetypeQuery` | Matches exact archetype |\n\n### Using Queries\n\n```java\nimport com.hypixel.hytale.component.query.AndQuery;\nimport com.hypixel.hytale.component.query.NotQuery;\n\n// Entities with both Position and Velocity\nQuery\u003CEntityStore> movingEntities = new AndQuery\u003C>(positionType, velocityType);\n\n// Entities with Health but NOT Dead\nQuery\u003CEntityStore> aliveEntities = new AndQuery\u003C>(\n    healthType,\n    new NotQuery\u003C>(deadType)\n);\n\n// Use in system\n@Override\npublic Query\u003CEntityStore> getQuery() {\n    return new AndQuery\u003C>(healthType, hungerType);\n}\n```\n\n## Entity References (Refs)\n\n`Ref\u003CECS_TYPE>` is a reference to an entity in a store.\n\n### Working with Refs\n\n```java\n// Check if ref is valid\nif (ref.isValid()) {\n    // Get component\n    HealthComponent health = store.getComponent(ref, healthType);\n\n    // Check if entity has component\n    if (store.hasComponent(ref, healthType)) {\n        // ...\n    }\n}\n```\n\n### Creating Entities\n\n```java\n// Create a holder with components\nHolder\u003CEntityStore> holder = store.getRegistry().newHolder();\nholder.addComponent(positionType, new PositionComponent(x, y, z));\nholder.addComponent(healthType, new HealthComponent());\n\n// Spawn entity from holder\nRef\u003CEntityStore> ref = store.spawn(holder);\n```\n\n### Removing Entities\n\n```java\nstore.destroy(ref);\n```\n\n## Holders\n\n`Holder\u003CECS_TYPE>` is a temporary container for entity components, used when creating entities or transferring component data.\n\n```java\n// Create holder\nHolder\u003CEntityStore> holder = store.getRegistry().newHolder();\n\n// Add components\nholder.addComponent(componentType, component);\n\n// Get component\nComponent comp = holder.getComponent(componentType);\n\n// Check for component\nif (holder.getArchetype().contains(componentType)) {\n    // ...\n}\n\n// Clone holder\nHolder\u003CEntityStore> cloned = holder.clone();\n```\n\n## Component Serialization\n\nFor components that need to be saved/loaded, define a codec:\n\n```java\npublic class PersistentComponent implements Component\u003CEntityStore> {\n    private int level;\n    private String name;\n\n    public static final BuilderCodec\u003CPersistentComponent> CODEC = BuilderCodec\n        .builder(PersistentComponent.class, PersistentComponent::new)\n        .append(new KeyedCodec\u003C>(\"Level\", Codec.INTEGER),\n                (c, v) -> c.level = v, c -> c.level)\n        .add()\n        .append(new KeyedCodec\u003C>(\"Name\", Codec.STRING),\n                (c, v) -> c.name = v, c -> c.name)\n        .add()\n        .build();\n\n    // ... getters, setters, clone\n}\n```\n\nRegister with serialization:\n\n```java\ngetEntityStoreRegistry().registerComponent(\n    PersistentComponent.class,\n    \"myplugin:persistent\",\n    PersistentComponent.CODEC\n);\n```\n\n## Best Practices\n\n1. **Keep components pure data**: No game logic in components\n2. **Systems do the work**: All behavior goes in systems\n3. **Use appropriate queries**: Only query for what you need\n4. **Cache ComponentTypes**: Store them as fields, not in methods\n5. **Check ref validity**: Always check `ref.isValid()` before use\n6. **Clone when copying**: Use `clone()` for component copies\n7. **Register in setup()**: All registrations happen during plugin setup\n\n## Complete Example\n\n```java\npublic class DamagePlugin extends JavaPlugin {\n\n    private ComponentType\u003CEntityStore, HealthComponent> healthType;\n    private ComponentType\u003CEntityStore, DamageOverTimeComponent> dotType;\n\n    public DamagePlugin(JavaPluginInit init) {\n        super(init);\n    }\n\n    @Override\n    protected void setup() {\n        // Register components\n        this.healthType = getEntityStoreRegistry().registerComponent(\n            HealthComponent.class,\n            HealthComponent::new\n        );\n\n        this.dotType = getEntityStoreRegistry().registerComponent(\n            DamageOverTimeComponent.class,\n            DamageOverTimeComponent::new\n        );\n\n        // Register system\n        getEntityStoreRegistry().registerSystem(new DamageOverTimeSystem(healthType, dotType));\n    }\n}\n\npublic class DamageOverTimeSystem extends EntityTickingSystem\u003CEntityStore> {\n\n    private final ComponentType\u003CEntityStore, HealthComponent> healthType;\n    private final ComponentType\u003CEntityStore, DamageOverTimeComponent> dotType;\n\n    public DamageOverTimeSystem(\n        ComponentType\u003CEntityStore, HealthComponent> healthType,\n        ComponentType\u003CEntityStore, DamageOverTimeComponent> dotType\n    ) {\n        this.healthType = healthType;\n        this.dotType = dotType;\n    }\n\n    @Override\n    public Query\u003CEntityStore> getQuery() {\n        return new AndQuery\u003C>(healthType, dotType);\n    }\n\n    @Override\n    public void tick(float dt, int index, ArchetypeChunk\u003CEntityStore> chunk,\n                     Store\u003CEntityStore> store, CommandBuffer\u003CEntityStore> commandBuffer) {\n        HealthComponent health = chunk.getComponent(index, healthType);\n        DamageOverTimeComponent dot = chunk.getComponent(index, dotType);\n\n        health.setHealth(health.getHealth() - dot.getDamagePerTick());\n\n        dot.decrementDuration();\n        if (dot.getDuration() \u003C= 0) {\n            // Use command buffer for structural changes\n            commandBuffer.removeComponent(chunk.getRef(index), dotType);\n        }\n    }\n}\n```\n\n## Related\n\n- [Plugin Registries](/core-concepts/registries/) - ECS registration methods\n- [Entity System](/api-reference/entities/overview/) - Entity types and spawning\n- [World System](/api-reference/world/overview/) - World and chunk management","src/content/docs/core-concepts/ecs-overview.mdx","effed9b794911aca","core-concepts/event-system",{"id":558,"data":560,"body":565,"filePath":566,"digest":567,"deferredRender":16},{"title":561,"editUrl":16,"head":562,"template":52,"sidebar":563,"pagefind":16,"draft":42},"Event System",[],{"hidden":42,"attrs":564},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# Event System\n\nHytale's event system allows plugins to react to game events, from player connections to block breaks. The system supports both synchronous and asynchronous events, with features like priority ordering, keyed events, and cancellation.\n\n## Package Location\n\n- Event interfaces: `com.hypixel.hytale.event`\n- Event registry: `com.hypixel.hytale.event.EventRegistry`\n- Built-in events: `com.hypixel.hytale.server.core.event.events`\n\n## Core Concepts\n\n### Event Types\n\nThe event system has two primary event interfaces:\n\n| Interface | Description |\n|-----------|-------------|\n| `IEvent\u003CKeyType>` | Synchronous events processed immediately |\n| `IAsyncEvent\u003CKeyType>` | Asynchronous events processed with futures |\n\nBoth interfaces are generic over a `KeyType`:\n- `Void` for non-keyed events (most common)\n- A specific type for keyed events (e.g., `String` for chat channels)\n\n### Event Interfaces\n\n```java\n// Synchronous event - most common\npublic interface IEvent\u003CKeyType> extends IBaseEvent\u003CKeyType> {}\n\n// Asynchronous event - for operations that may need async processing\npublic interface IAsyncEvent\u003CKeyType> extends IBaseEvent\u003CKeyType> {}\n\n// Cancellable mixin - allows handlers to prevent default behavior\npublic interface ICancellable {\n    boolean isCancelled();\n    void setCancelled(boolean cancelled);\n}\n```\n\n## Registering Event Handlers\n\n### Basic Registration\n\n```java\n@Override\nprotected void setup() {\n    // Simple event registration (default priority: NORMAL)\n    getEventRegistry().register(\n        PlayerConnectEvent.class,\n        this::onPlayerConnect\n    );\n}\n\nprivate void onPlayerConnect(PlayerConnectEvent event) {\n    // Handle the event\n    World world = event.getWorld();\n    PlayerRef player = event.getPlayerRef();\n}\n```\n\n### Registration with Priority\n\n```java\n@Override\nprotected void setup() {\n    // Register with specific priority\n    getEventRegistry().register(\n        EventPriority.FIRST,      // Process early\n        PlayerChatEvent.class,\n        this::onChatFirst\n    );\n\n    getEventRegistry().register(\n        EventPriority.LAST,       // Process late (monitoring)\n        PlayerChatEvent.class,\n        this::onChatLast\n    );\n}\n```\n\n### Event Priorities\n\nEvents are processed in priority order from lowest to highest:\n\n| Priority | Value | Typical Use |\n|----------|-------|-------------|\n| `FIRST` | -21844 | Modify event data before others see it |\n| `EARLY` | -10922 | Early processing, setup |\n| `NORMAL` | 0 | Default, general handling |\n| `LATE` | 10922 | React after modifications |\n| `LAST` | 21844 | Final processing, logging, monitoring |\n\nYou can also use raw `short` values for fine-grained control:\n\n```java\ngetEventRegistry().register(\n    (short) 5000,  // Custom priority between NORMAL and LATE\n    SomeEvent.class,\n    this::onEvent\n);\n```\n\n## Keyed Events\n\nSome events are \"keyed\" - they have an associated key that handlers can filter on.\n\n### Registering for a Specific Key\n\n```java\n// Only receive events for a specific key\ngetEventRegistry().register(\n    SomeKeyedEvent.class,\n    \"my-channel\",           // The key to filter on\n    this::onMyChannelEvent\n);\n```\n\n### Registering Globally (All Keys)\n\n```java\n// Receive all keyed events regardless of key\ngetEventRegistry().registerGlobal(\n    SomeKeyedEvent.class,\n    this::onAnyKeyedEvent\n);\n```\n\n### Unhandled Events\n\nRegister a handler that only fires if no keyed handler processed the event:\n\n```java\ngetEventRegistry().registerUnhandled(\n    SomeKeyedEvent.class,\n    this::onUnhandledEvent  // Only called if no key-specific handler matched\n);\n```\n\n## Async Events\n\nAsync events support asynchronous processing chains:\n\n```java\n@Override\nprotected void setup() {\n    getEventRegistry().registerAsync(\n        PlayerChatEvent.class,\n        future -> future.thenApply(event -> {\n            // Process asynchronously\n            if (containsBannedWord(event.getContent())) {\n                event.setCancelled(true);\n            }\n            return event;\n        })\n    );\n}\n```\n\n### Async with Priority\n\n```java\ngetEventRegistry().registerAsync(\n    EventPriority.EARLY,\n    PlayerChatEvent.class,\n    future -> future.thenApply(this::processChat)\n);\n```\n\n### Async Global and Unhandled\n\n```java\n// Async global listener\ngetEventRegistry().registerAsyncGlobal(\n    SomeAsyncKeyedEvent.class,\n    future -> future.thenApply(this::handleGlobally)\n);\n\n// Async unhandled listener\ngetEventRegistry().registerAsyncUnhandled(\n    SomeAsyncKeyedEvent.class,\n    future -> future.thenApply(this::handleUnhandled)\n);\n```\n\n## Cancellable Events\n\nEvents implementing `ICancellable` can be cancelled to prevent their default behavior:\n\n```java\nprivate void onPlayerChat(PlayerChatEvent event) {\n    if (event.getContent().contains(\"badword\")) {\n        event.setCancelled(true);  // Message won't be sent\n    }\n}\n```\n\n### Checking Cancellation\n\n```java\nprivate void onPlayerChat(PlayerChatEvent event) {\n    if (event.isCancelled()) {\n        return;  // Skip if already cancelled by another handler\n    }\n\n    // Process the event\n}\n```\n\n**Note:** `LAST` priority handlers can still observe cancelled events for logging purposes.\n\n## Built-in Events\n\n### Player Events\n\nLocated in `com.hypixel.hytale.server.core.event.events.player`:\n\n| Event | Async | Cancellable | Description |\n|-------|-------|-------------|-------------|\n| `PlayerConnectEvent` | No | No | Player connected to server |\n| `PlayerDisconnectEvent` | No | No | Player disconnected |\n| `PlayerReadyEvent` | No | No | Player fully loaded |\n| `PlayerChatEvent` | Yes | Yes | Player sent chat message |\n| `PlayerInteractEvent` | No | No | Player interaction |\n| `PlayerCraftEvent` | No | No | Player crafted item |\n| `PlayerMouseMotionEvent` | No | No | Player mouse movement |\n| `PlayerMouseButtonEvent` | No | No | Player mouse click |\n| `PlayerSetupConnectEvent` | No | No | Pre-connection setup |\n| `PlayerSetupDisconnectEvent` | No | No | Pre-disconnect setup |\n| `DrainPlayerFromWorldEvent` | No | No | Player leaving world |\n| `AddPlayerToWorldEvent` | No | No | Player entering world |\n\n### Entity Events\n\nLocated in `com.hypixel.hytale.server.core.event.events.entity`:\n\n| Event | Description |\n|-------|-------------|\n| `EntityEvent` | Base entity event |\n| `EntityRemoveEvent` | Entity removed from world |\n| `LivingEntityInventoryChangeEvent` | Entity inventory changed |\n| `LivingEntityUseBlockEvent` | Entity used a block |\n\n### ECS Events\n\nLocated in `com.hypixel.hytale.server.core.event.events.ecs`:\n\n| Event | Description |\n|-------|-------------|\n| `BreakBlockEvent` | Block broken |\n| `PlaceBlockEvent` | Block placed |\n| `DamageBlockEvent` | Block damaged |\n| `UseBlockEvent` | Block used/interacted |\n| `DropItemEvent` | Item dropped |\n| `InteractivelyPickupItemEvent` | Item picked up |\n| `CraftRecipeEvent` | Recipe crafted |\n| `ChangeGameModeEvent` | Game mode changed |\n| `SwitchActiveSlotEvent` | Active inventory slot changed |\n| `DiscoverZoneEvent` | Zone discovered |\n\n### Permission Events\n\nLocated in `com.hypixel.hytale.server.core.event.events.permissions`:\n\n| Event | Description |\n|-------|-------------|\n| `PlayerPermissionChangeEvent` | Player permissions changed |\n| `GroupPermissionChangeEvent` | Permission group changed |\n| `PlayerGroupEvent` | Player added/removed from group |\n\n### Server Events\n\n| Event | Description |\n|-------|-------------|\n| `ShutdownEvent` | Server shutting down |\n| `PrepareUniverseEvent` | Universe being prepared |\n| `BootEvent` | Server booting up |\n\n## Working with Events\n\n### Modifying Event Data\n\nMany events allow modification:\n\n```java\nprivate void onPlayerChat(PlayerChatEvent event) {\n    // Modify the message\n    String filtered = filterProfanity(event.getContent());\n    event.setContent(filtered);\n\n    // Change message targets\n    List\u003CPlayerRef> newTargets = event.getTargets().stream()\n        .filter(this::canReceive)\n        .toList();\n    event.setTargets(newTargets);\n\n    // Custom formatting\n    event.setFormatter((player, msg) ->\n        Message.translation(\"custom.chat.format\")\n            .param(\"name\", player.getUsername())\n            .param(\"msg\", msg)\n    );\n}\n```\n\n### Accessing Event Context\n\nEvents provide context about what happened:\n\n```java\nprivate void onPlayerConnect(PlayerConnectEvent event) {\n    // Get the player reference\n    PlayerRef playerRef = event.getPlayerRef();\n\n    // Get the ECS holder for components\n    Holder\u003CEntityStore> holder = event.getHolder();\n\n    // Get/set the target world\n    World world = event.getWorld();\n    event.setWorld(differentWorld);  // Change spawn world\n\n    // Access player component (deprecated, prefer holder)\n    Player player = event.getPlayer();\n}\n```\n\n### Creating Custom Events\n\n```java\n// Synchronous event\npublic class MyCustomEvent implements IEvent\u003CVoid> {\n    private final String data;\n\n    public MyCustomEvent(String data) {\n        this.data = data;\n    }\n\n    public String getData() {\n        return data;\n    }\n}\n\n// Cancellable async event\npublic class MyAsyncEvent implements IAsyncEvent\u003CVoid>, ICancellable {\n    private boolean cancelled = false;\n\n    @Override\n    public boolean isCancelled() {\n        return cancelled;\n    }\n\n    @Override\n    public void setCancelled(boolean cancelled) {\n        this.cancelled = cancelled;\n    }\n}\n```\n\n### Dispatching Custom Events\n\n```java\n// Get the event bus from the server\nIEventBus eventBus = HytaleServer.get().getEventBus();\n\n// Dispatch a sync event\nIEventDispatcher\u003CMyEvent, MyEvent> dispatcher =\n    eventBus.dispatchFor(MyEvent.class, null);\nMyEvent result = dispatcher.dispatch(new MyEvent(\"data\"));\n\n// Dispatch an async event\nIEventDispatcher\u003CMyAsyncEvent, CompletableFuture\u003CMyAsyncEvent>> asyncDispatcher =\n    eventBus.dispatchForAsync(MyAsyncEvent.class, null);\nCompletableFuture\u003CMyAsyncEvent> future = asyncDispatcher.dispatch(new MyAsyncEvent());\n```\n\n## Best Practices\n\n1. **Choose the right priority**: Use `FIRST` for modifications, `LAST` for monitoring\n2. **Check cancellation**: Early-exit if the event is already cancelled (unless monitoring)\n3. **Don't block**: Keep handlers fast; use async events for slow operations\n4. **Handle exceptions**: Wrap risky code in try-catch to avoid breaking other handlers\n5. **Use appropriate granularity**: Register for specific keys when possible\n\n```java\nprivate void onEvent(SomeEvent event) {\n    if (event instanceof ICancellable c && c.isCancelled()) {\n        return;  // Skip cancelled events\n    }\n\n    try {\n        // Handler logic\n    } catch (Exception e) {\n        getLogger().at(Level.WARNING).withCause(e).log(\"Error handling event\");\n    }\n}\n```\n\n## Automatic Cleanup\n\nAll event registrations made through `getEventRegistry()` are automatically unregistered when your plugin shuts down. You don't need to manually unregister handlers.\n\n## Related\n\n- [Plugin Registries](/core-concepts/registries/) - All available registries\n- [Plugin Lifecycle](/getting-started/plugin-lifecycle/) - Registration timing\n- [Built-in Events Catalog](/appendix/glossary/) - Complete event reference","src/content/docs/core-concepts/event-system.mdx","8d5c756b4de2f3b7","core-concepts/registries",{"id":568,"data":570,"body":575,"filePath":576,"digest":577,"deferredRender":16},{"title":571,"editUrl":16,"head":572,"template":52,"sidebar":573,"pagefind":16,"draft":42},"Plugin Registries",[],{"hidden":42,"attrs":574},{},"{/* [VERIFIED: 2026-01-19] */}\n\nimport { Aside, FileTree, Steps, Tabs, TabItem, Badge } from '@astrojs/starlight/components';\n\n# Plugin Registries\n\nHytale provides a comprehensive registry system for plugins to register their components, events, commands, and other features. All registries are accessed through your plugin's base class and automatically handle cleanup when your plugin is disabled.\n\n## Package Location\n\n- Plugin base: `com.hypixel.hytale.server.core.plugin.PluginBase`\n- Component registry: `com.hypixel.hytale.component.ComponentRegistryProxy`\n- Event registry: `com.hypixel.hytale.event.EventRegistry`\n- Command registry: `com.hypixel.hytale.server.core.command.system.CommandRegistry`\n\n## Overview\n\nThe following registries are available:\n\n| Registry | Method | Purpose |\n|----------|--------|---------|\n| Command Registry | `getCommandRegistry()` | Register commands |\n| Event Registry | `getEventRegistry()` | Register event listeners |\n| Entity Store Registry | `getEntityStoreRegistry()` | Register entity ECS components/systems |\n| Chunk Store Registry | `getChunkStoreRegistry()` | Register chunk ECS components/systems |\n| Block State Registry | `getBlockStateRegistry()` | Register custom block states |\n| Entity Registry | `getEntityRegistry()` | Register entity types |\n| Task Registry | `getTaskRegistry()` | Register scheduled tasks |\n| Asset Registry | `getAssetRegistry()` | Register asset types |\n| Client Feature Registry | `getClientFeatureRegistry()` | Register client feature flags |\n| Codec Registry | `getCodecRegistry(codec)` | Register to codec maps |\n\n## Command Registry\n\nRegister commands that players and console can execute.\n\n```java\n@Override\nprotected void setup() {\n    getCommandRegistry().registerCommand(new MyCommand());\n}\n```\n\n### Methods\n\n| Method | Description |\n|--------|-------------|\n| `registerCommand(AbstractCommand)` | Register a command with the server |\n\nCommands are automatically unregistered when the plugin shuts down.\n\n**See also:** [Command System](/core-concepts/commands/)\n\n## Event Registry\n\nRegister listeners for server events.\n\n```java\n@Override\nprotected void setup() {\n    // Basic registration\n    getEventRegistry().register(PlayerConnectEvent.class, this::onConnect);\n\n    // With priority\n    getEventRegistry().register(EventPriority.LATE, PlayerChatEvent.class, this::onChat);\n\n    // Keyed events (filtered by key)\n    getEventRegistry().register(SomeKeyedEvent.class, myKey, this::onKeyedEvent);\n\n    // Global listener (receives all keyed events)\n    getEventRegistry().registerGlobal(SomeKeyedEvent.class, this::onAnyKeyedEvent);\n\n    // Unhandled listener (only if no other handler processed it)\n    getEventRegistry().registerUnhandled(SomeEvent.class, this::onUnhandled);\n}\n```\n\n### Methods\n\n| Method | Description |\n|--------|-------------|\n| `register(Class, Consumer)` | Register for event with default priority |\n| `register(EventPriority, Class, Consumer)` | Register with specific priority |\n| `register(Class, Key, Consumer)` | Register for keyed event with specific key |\n| `registerGlobal(Class, Consumer)` | Register to receive all keyed events |\n| `registerUnhandled(Class, Consumer)` | Register fallback handler |\n| `registerAsync(...)` | Async variants of above methods |\n\n### Event Priorities\n\nEvents are processed in priority order:\n\n| Priority | Value | Use Case |\n|----------|-------|----------|\n| `FIRST` | -21844 | Modify event before others see it |\n| `EARLY` | -10922 | Early processing |\n| `NORMAL` | 0 | Default priority |\n| `LATE` | 10922 | React after modifications |\n| `LAST` | 21844 | Final processing, monitoring |\n\nYou can also use raw `short` values for fine-grained control.\n\n**See also:** [Event System](/core-concepts/event-system/)\n\n## Entity Store Registry\n\nRegister ECS components, resources, and systems for entities.\n\n```java\n@Override\nprotected void setup() {\n    // Register a component type\n    ComponentType\u003CEntityStore, MyComponent> componentType =\n        getEntityStoreRegistry().registerComponent(MyComponent.class, MyComponent::new);\n\n    // Register with serialization (for saving/loading)\n    ComponentType\u003CEntityStore, SavedComponent> savedType =\n        getEntityStoreRegistry().registerComponent(SavedComponent.class, \"my_saved\", SavedComponent.CODEC);\n\n    // Register a resource (world-level data)\n    ResourceType\u003CEntityStore, MyResource> resourceType =\n        getEntityStoreRegistry().registerResource(MyResource.class, MyResource::new);\n\n    // Register a system\n    getEntityStoreRegistry().registerSystem(new MyTickingSystem());\n\n    // Register an ECS event type\n    EntityEventType\u003CEntityStore, MyEcsEvent> eventType =\n        getEntityStoreRegistry().registerEntityEventType(MyEcsEvent.class);\n}\n```\n\n### Methods\n\n| Method | Description |\n|--------|-------------|\n| `registerComponent(Class, Supplier)` | Register a component type |\n| `registerComponent(Class, String, BuilderCodec)` | Register serializable component |\n| `registerResource(Class, Supplier)` | Register a resource type |\n| `registerResource(Class, String, BuilderCodec)` | Register serializable resource |\n| `registerSystem(ISystem)` | Register an ECS system |\n| `registerSystemType(Class)` | Register a system type |\n| `registerSystemGroup()` | Create a system group |\n| `registerEntityEventType(Class)` | Register an entity event type |\n| `registerWorldEventType(Class)` | Register a world event type |\n| `registerSpatialResource(Supplier)` | Register spatial index resource |\n\n**See also:** [ECS Overview](/core-concepts/ecs-overview/)\n\n## Chunk Store Registry\n\nRegister ECS components, resources, and systems for chunks. API mirrors Entity Store Registry.\n\n```java\n@Override\nprotected void setup() {\n    ComponentType\u003CChunkStore, ChunkData> chunkDataType =\n        getChunkStoreRegistry().registerComponent(ChunkData.class, ChunkData::new);\n\n    getChunkStoreRegistry().registerSystem(new ChunkProcessingSystem());\n}\n```\n\n## Block State Registry\n\nRegister custom block states for block types.\n\n```java\n@Override\nprotected void setup() {\n    getBlockStateRegistry().register(/* block state registration */);\n}\n```\n\n## Entity Registry\n\nRegister custom entity types.\n\n```java\n@Override\nprotected void setup() {\n    getEntityRegistry().register(/* entity type registration */);\n}\n```\n\n## Task Registry\n\nRegister scheduled and async tasks that should be managed by the plugin lifecycle.\n\n```java\n@Override\nprotected void setup() {\n    CompletableFuture\u003CVoid> asyncTask = CompletableFuture.runAsync(() -> {\n        // Background work\n    });\n    getTaskRegistry().registerTask(asyncTask);\n\n    ScheduledFuture\u003CVoid> scheduledTask = scheduler.schedule(() -> {\n        // Delayed work\n    }, 5, TimeUnit.SECONDS);\n    getTaskRegistry().registerTask(scheduledTask);\n}\n```\n\n### Methods\n\n| Method | Description |\n|--------|-------------|\n| `registerTask(CompletableFuture)` | Register an async task |\n| `registerTask(ScheduledFuture)` | Register a scheduled task |\n\nRegistered tasks are automatically cancelled when the plugin shuts down.\n\n## Asset Registry\n\nRegister custom asset types and modifiers.\n\n```java\n@Override\nprotected void setup() {\n    getAssetRegistry().register(/* asset registration */);\n}\n```\n\n**See also:** [Asset System](/api-reference/assets/overview/)\n\n## Client Feature Registry\n\nRegister client feature flags that affect client behavior.\n\n```java\n@Override\nprotected void setup() {\n    getClientFeatureRegistry().register(/* client feature */);\n}\n```\n\n## Codec Registry\n\nRegister entries to codec maps for serialization.\n\n```java\n@Override\nprotected void setup() {\n    // Register to a string-keyed codec map\n    getCodecRegistry(SomeType.CODEC_MAP).register(\"my_type\", MyType.class, MyType.CODEC);\n\n    // Register to an asset codec map\n    getCodecRegistry(SomeAsset.CODEC_MAP).register(/* asset registration */);\n}\n```\n\n### Variants\n\n| Method | Type | Description |\n|--------|------|-------------|\n| `getCodecRegistry(StringCodecMapCodec)` | `CodecMapRegistry` | String-keyed registrations |\n| `getCodecRegistry(AssetCodecMapCodec)` | `CodecMapRegistry.Assets` | Asset-type registrations |\n| `getCodecRegistry(MapKeyMapCodec)` | `MapKeyMapRegistry` | Map-key registrations |\n\n## Plugin Utilities\n\nIn addition to registries, your plugin has access to these utility methods:\n\n### Logger\n\n```java\n// Get the plugin's logger\nHytaleLogger logger = getLogger();\n\n// Log at different levels\nlogger.at(Level.INFO).log(\"Plugin loaded!\");\nlogger.at(Level.WARNING).log(\"Something might be wrong\");\nlogger.at(Level.SEVERE).withCause(exception).log(\"Error occurred: %s\", message);\n```\n\n### Data Directory\n\n```java\n// Get the plugin's data folder\nPath dataDir = getDataDirectory();\n\n// Example: save a file\nPath configFile = dataDir.resolve(\"custom-data.json\");\n```\n\n### Identifier\n\n```java\n// Get the plugin's unique identifier\nPluginIdentifier id = getIdentifier();\nString fullId = id.toString(); // \"Group/Name\"\n```\n\n### Manifest\n\n```java\n// Access manifest data\nPluginManifest manifest = getManifest();\nString version = manifest.getVersion().toString();\nString description = manifest.getDescription();\n```\n\n### Permissions\n\n```java\n// Get the base permission node\nString basePerm = getBasePermission(); // \"group.name\"\n\n// Use for custom permissions\nString myPerm = basePerm + \".myfeature\"; // \"group.name.myfeature\"\n```\n\n### State Checking\n\n```java\n// Check plugin state\nif (isEnabled()) {\n    // Plugin is active\n}\n\nif (isDisabled()) {\n    // Plugin is inactive\n}\n\nPluginState state = getState();\n```\n\n## Automatic Cleanup\n\nAll registrations made through these registries are automatically cleaned up when your plugin shuts down. You don't need to manually unregister:\n\n- Event listeners\n- Commands\n- ECS components, resources, and systems\n- Tasks\n- Codec registrations\n\nThe cleanup happens in reverse order of registration, ensuring proper dependency handling.\n\n## Best Practices\n\n1. **Register in `setup()`**: Perform all registrations in the `setup()` method\n2. **Store references**: Keep references to component/resource types for later use\n3. **Use appropriate priorities**: Choose event priorities based on your needs\n4. **Let cleanup happen automatically**: Don't manually unregister unless necessary\n\n## Related\n\n- [Plugin Lifecycle](/getting-started/plugin-lifecycle/)\n- [Event System](/core-concepts/event-system/)\n- [Command System](/core-concepts/commands/)\n- [ECS Overview](/core-concepts/ecs-overview/)","src/content/docs/core-concepts/registries.mdx","e8850890a11abc4a","api-reference/assets/items/armor",{"id":578,"data":580,"body":585,"filePath":586,"digest":587,"deferredRender":16},{"title":581,"editUrl":16,"head":582,"template":52,"sidebar":583,"pagefind":16,"draft":42},"Armor",[],{"hidden":42,"attrs":584},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Card, CardGrid, LinkCard, Tabs, TabItem, FileTree, Badge } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of 119 armor definition files in `/Assets/Server/Item/Items/Armor/`.\nVerify all information against actual asset files before use in production.\n\u003C/Aside>\n\nArmor items provide defensive stats through damage resistance and health bonuses. Armor pieces equip to specific slots on the player character and can hide certain cosmetic elements when worn.\n\n## Asset Location\n\n**Server Definitions:** `Assets/Server/Item/Items/Armor/[Material]/`\n**Client Models:** `Assets/Common/Items/Armors/[Material]/`\n\n## Armor Slots\n\nEach armor piece equips to one of four slots:\n\n| Slot | Piece Name | Protection Weight | Example |\n|------|------------|-------------------|---------|\n| `Head` | Helmet | 20% | `Armor_Iron_Head` |\n| `Chest` | Chestplate | 36% | `Armor_Iron_Chest` |\n| `Hands` | Gauntlets | 16% | `Armor_Iron_Hands` |\n| `Legs` | Leggings | 28% | `Armor_Iron_Legs` |\n\n## Armor Materials (30 Sets)\n\n### Heavy Armor (Metal)\n\n| Material | Quality | Item Level | Durability | Description |\n|----------|---------|------------|------------|-------------|\n| Copper | Common | 15 | 80 | Early-game metal |\n| Bronze | Common | 17 | 90 | Copper alloy |\n| Iron | Uncommon | 20 | 100 | Standard metal |\n| Steel | Uncommon | 25 | 110 | Reinforced iron |\n| Cobalt | Rare | 30 | 120 | Blue metal |\n| Mithril | Rare | 35 | 130 | Lightweight metal |\n| Thorium | Epic | 40 | 140 | Radioactive metal |\n| Onyxium | Epic | 45 | 145 | Dark metal |\n| Adamantite | Legendary | 50 | 150 | Ultimate metal |\n\n### Medium Armor (Leather)\n\n| Material | Quality | Item Level | Durability | Description |\n|----------|---------|------------|------------|-------------|\n| Leather_Soft | Common | 10 | 100 | Basic hide |\n| Leather_Light | Common | 15 | 120 | Treated leather |\n| Leather_Medium | Uncommon | 20 | 130 | Reinforced leather |\n| Leather_Heavy | Rare | 25 | 140 | Hardened leather |\n| Leather_Raven | Epic | 30 | 150 | Dark leather |\n\n### Light Armor (Cloth)\n\n| Material | Quality | Item Level | Durability | Description |\n|----------|---------|------------|------------|-------------|\n| Cloth_Linen | Common | 10 | 120 | Basic fabric |\n| Cloth_Cotton | Common | 15 | 130 | Woven cotton |\n| Cloth_Wool | Uncommon | 20 | 140 | Warm wool |\n| Cloth_Silk | Rare | 25 | 150 | Fine silk |\n| Cloth_Cindercloth | Epic | 30 | 160 | Fire-resistant |\n\n### Special Armor\n\n| Material | Quality | Description |\n|----------|---------|-------------|\n| Bronze_Ornate | Uncommon | Decorative bronze |\n| Steel_Ancient | Rare | Ancient steel set |\n| Diving_Crude | Common | Underwater gear |\n| Kweebec | Uncommon | Kweebec-styled |\n| Trork_Warrior | Uncommon | Trork tribal |\n| Trooper | Rare | Military set |\n| Prisma | Epic | Crystalline armor |\n| Wood | Common | Wooden armor |\n| Wool | Common | Padded wool |\n\n## JSON Schema Reference\n\n### Core Armor Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Parent` | `string` | Template to inherit from (often `Armor_Iron_*`) |\n| `TranslationProperties` | `object` | Localization configuration |\n| `Model` | `string` | Path to `.blockymodel` file |\n| `Texture` | `string` | Path to texture file |\n| `Icon` | `string` | Path to inventory icon |\n| `Quality` | `string` | Quality tier |\n| `ItemLevel` | `integer` | Level requirement |\n| `Categories` | `string[]` | Should include `\"Items.Armors\"` |\n\n### Armor-Specific Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Armor` | `object` | Armor configuration block |\n| `Armor.ArmorSlot` | `string` | Equipment slot: `Head`, `Chest`, `Hands`, `Legs` |\n| `Armor.BaseDamageResistance` | `number` | Base resistance value (usually 0) |\n| `Armor.DamageResistance` | `object` | Damage reduction by type |\n| `Armor.StatModifiers` | `object` | Stat bonuses (Health, etc.) |\n| `Armor.CosmeticsToHide` | `string[]` | Cosmetic slots hidden by armor |\n| `Armor.DamageClassEnhancement` | `object` | Damage type buffs |\n\n### Durability Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `MaxDurability` | `number` | `100` | Maximum durability |\n| `DurabilityLossOnHit` | `number` | `0.5` | Durability lost when damaged |\n\n## Armor Configuration Block\n\nThe `Armor` object contains all armor-specific stats:\n\n```json title=\"Armor configuration structure\"\n{\n  \"Armor\": {\n    \"ArmorSlot\": \"Chest\",\n    \"BaseDamageResistance\": 0,\n    \"CosmeticsToHide\": [\"Overtop\", \"Cape\"],\n    \"DamageResistance\": {\n      \"Physical\": [\n        { \"Amount\": 0.09, \"CalculationType\": \"Multiplicative\" }\n      ],\n      \"Projectile\": [\n        { \"Amount\": 0.09, \"CalculationType\": \"Multiplicative\" }\n      ]\n    },\n    \"StatModifiers\": {\n      \"Health\": [\n        { \"Amount\": 17, \"CalculationType\": \"Additive\" }\n      ]\n    }\n  }\n}\n```\n\n## Damage Resistance System\n\nArmor reduces incoming damage through percentage-based resistance:\n\n### Resistance Formula\n\n```\nFinal Damage = Base Damage  (1 - Resistance)\n```\n\n### Resistance by Slot (Iron Tier)\n\n| Slot | Physical Resistance | Health Bonus |\n|------|---------------------|--------------|\n| Head | 5% | +9 |\n| Chest | 9% | +17 |\n| Hands | 4% | +7 |\n| Legs | 7% | +13 |\n| **Full Set** | **25%** | **+46** |\n\n### Resistance Scaling by Material\n\n| Material Tier | Chest Resistance | Full Set Resistance |\n|---------------|------------------|---------------------|\n| Cloth/Leather (Tier 1) | 6% | 15-18% |\n| Copper/Bronze (Tier 2) | 7% | 18-20% |\n| Iron (Tier 3) | 9% | 25% |\n| Steel (Tier 4) | 10% | 28% |\n| Cobalt (Tier 5) | 11% | 31% |\n| Mithril (Tier 6) | 12% | 34% |\n| Adamantite (Tier 7) | 14.4% | 40%+ |\n\n## Complete Armor Examples\n\n### Iron Chestplate\n\n```json title=\"Armor_Iron_Chest.json\" {70-99}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Armor_Iron_Chest.name\"\n  },\n  \"Quality\": \"Uncommon\",\n  \"ItemLevel\": 20,\n  \"PlayerAnimationsId\": \"Block\",\n  \"ItemSoundSetId\": \"ISS_Armor_Heavy\",\n  \"Categories\": [\"Items.Armors\"],\n  \"Icon\": \"Icons/ItemsGenerated/Armor_Iron_Chest.png\",\n  \"IconProperties\": {\n    \"Rotation\": [22.5, 45, 22.5],\n    \"Scale\": 0.45,\n    \"Translation\": [0, -13.2]\n  },\n  \"Model\": \"Items/Armors/Iron/Chest.blockymodel\",\n  \"Texture\": \"Items/Armors/Iron/Chest_Texture.png\",\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 16 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 7 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 6 }\n    ],\n    \"BenchRequirement\": [{\n      \"Id\": \"Armor_Bench\",\n      \"Type\": \"Crafting\",\n      \"Categories\": [\"Armor_Chest\"]\n    }],\n    \"KnowledgeRequired\": false,\n    \"TimeSeconds\": 3\n  },\n  \"Interactions\": {\n    \"Primary\": {\n      \"Interactions\": [{ \"Type\": \"EquipItem\" }]\n    },\n    \"Secondary\": {\n      \"Interactions\": [{ \"Type\": \"EquipItem\" }]\n    }\n  },\n  \"Armor\": {\n    \"ArmorSlot\": \"Chest\",\n    \"BaseDamageResistance\": 0,\n    \"CosmeticsToHide\": [\"Overtop\", \"Cape\"],\n    \"DamageResistance\": {\n      \"Physical\": [\n        { \"Amount\": 0.09, \"CalculationType\": \"Multiplicative\" }\n      ],\n      \"Projectile\": [\n        { \"Amount\": 0.09, \"CalculationType\": \"Multiplicative\" }\n      ]\n    },\n    \"StatModifiers\": {\n      \"Health\": [\n        { \"Amount\": 17, \"CalculationType\": \"Additive\" }\n      ]\n    }\n  },\n  \"MaxDurability\": 100,\n  \"DurabilityLossOnHit\": 0.5,\n  \"Tags\": {\n    \"Type\": [\"Armor\"],\n    \"Family\": [\"Iron\"]\n  }\n}\n```\n\n### Complete Iron Set\n\n\u003CTabs>\n  \u003CTabItem label=\"Head\">\n```json title=\"Armor_Iron_Head.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Armor_Iron_Head.name\"\n  },\n  \"Quality\": \"Uncommon\",\n  \"ItemLevel\": 20,\n  \"PlayerAnimationsId\": \"Block\",\n  \"ItemSoundSetId\": \"ISS_Armor_Heavy\",\n  \"Categories\": [\"Items.Armors\"],\n  \"Icon\": \"Icons/ItemsGenerated/Armor_Iron_Head.png\",\n  \"Model\": \"Items/Armors/Iron/Head.blockymodel\",\n  \"Texture\": \"Items/Armors/Iron/Head_Texture.png\",\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 9 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 4 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [{\n      \"Id\": \"Armor_Bench\",\n      \"Type\": \"Crafting\",\n      \"Categories\": [\"Armor_Head\"]\n    }],\n    \"KnowledgeRequired\": false,\n    \"TimeSeconds\": 3\n  },\n  \"Interactions\": {\n    \"Primary\": { \"Interactions\": [{ \"Type\": \"EquipItem\" }] },\n    \"Secondary\": { \"Interactions\": [{ \"Type\": \"EquipItem\" }] }\n  },\n  \"Armor\": {\n    \"ArmorSlot\": \"Head\",\n    \"BaseDamageResistance\": 0,\n    \"CosmeticsToHide\": [\"EarAccessory\", \"Ear\", \"Haircut\", \"HeadAccessory\"],\n    \"DamageResistance\": {\n      \"Physical\": [{ \"Amount\": 0.05, \"CalculationType\": \"Multiplicative\" }],\n      \"Projectile\": [{ \"Amount\": 0.05, \"CalculationType\": \"Multiplicative\" }]\n    },\n    \"StatModifiers\": {\n      \"Health\": [{ \"Amount\": 9, \"CalculationType\": \"Additive\" }]\n    }\n  },\n  \"MaxDurability\": 100,\n  \"DurabilityLossOnHit\": 0.5,\n  \"Tags\": { \"Type\": [\"Armor\"], \"Family\": [\"Iron\"] }\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Hands\">\n```json title=\"Armor_Iron_Hands.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Armor_Iron_Hands.name\"\n  },\n  \"Quality\": \"Uncommon\",\n  \"ItemLevel\": 20,\n  \"PlayerAnimationsId\": \"Block\",\n  \"ItemSoundSetId\": \"ISS_Armor_Heavy\",\n  \"Categories\": [\"Items.Armors\"],\n  \"Icon\": \"Icons/ItemsGenerated/Armor_Iron_Hands.png\",\n  \"Model\": \"Items/Armors/Iron/Hands.blockymodel\",\n  \"Texture\": \"Items/Armors/Iron/Hands_Texture.png\",\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 7 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 3 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [{\n      \"Id\": \"Armor_Bench\",\n      \"Type\": \"Crafting\",\n      \"Categories\": [\"Armor_Hands\"]\n    }],\n    \"KnowledgeRequired\": false,\n    \"TimeSeconds\": 3\n  },\n  \"Interactions\": {\n    \"Primary\": { \"Interactions\": [{ \"Type\": \"EquipItem\" }] },\n    \"Secondary\": { \"Interactions\": [{ \"Type\": \"EquipItem\" }] }\n  },\n  \"Armor\": {\n    \"ArmorSlot\": \"Hands\",\n    \"BaseDamageResistance\": 0,\n    \"DamageResistance\": {\n      \"Physical\": [{ \"Amount\": 0.04, \"CalculationType\": \"Multiplicative\" }],\n      \"Projectile\": [{ \"Amount\": 0.04, \"CalculationType\": \"Multiplicative\" }]\n    },\n    \"StatModifiers\": {\n      \"Health\": [{ \"Amount\": 7, \"CalculationType\": \"Additive\" }]\n    }\n  },\n  \"MaxDurability\": 100,\n  \"DurabilityLossOnHit\": 0.5,\n  \"Tags\": { \"Type\": [\"Armor\"], \"Family\": [\"Iron\"] }\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Legs\">\n```json title=\"Armor_Iron_Legs.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Armor_Iron_Legs.name\"\n  },\n  \"Quality\": \"Uncommon\",\n  \"ItemLevel\": 20,\n  \"PlayerAnimationsId\": \"Block\",\n  \"ItemSoundSetId\": \"ISS_Armor_Heavy\",\n  \"Categories\": [\"Items.Armors\"],\n  \"Icon\": \"Icons/ItemsGenerated/Armor_Iron_Legs.png\",\n  \"Model\": \"Items/Armors/Iron/Legs.blockymodel\",\n  \"Texture\": \"Items/Armors/Iron/Legs_Texture.png\",\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 13 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 6 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 4 }\n    ],\n    \"BenchRequirement\": [{\n      \"Id\": \"Armor_Bench\",\n      \"Type\": \"Crafting\",\n      \"Categories\": [\"Armor_Legs\"]\n    }],\n    \"KnowledgeRequired\": false,\n    \"TimeSeconds\": 3\n  },\n  \"Interactions\": {\n    \"Primary\": { \"Interactions\": [{ \"Type\": \"EquipItem\" }] },\n    \"Secondary\": { \"Interactions\": [{ \"Type\": \"EquipItem\" }] }\n  },\n  \"Armor\": {\n    \"ArmorSlot\": \"Legs\",\n    \"BaseDamageResistance\": 0,\n    \"CosmeticsToHide\": [\"Pants\", \"Shoes\"],\n    \"DamageResistance\": {\n      \"Physical\": [{ \"Amount\": 0.07, \"CalculationType\": \"Multiplicative\" }],\n      \"Projectile\": [{ \"Amount\": 0.07, \"CalculationType\": \"Multiplicative\" }]\n    },\n    \"StatModifiers\": {\n      \"Health\": [{ \"Amount\": 13, \"CalculationType\": \"Additive\" }]\n    }\n  },\n  \"MaxDurability\": 100,\n  \"DurabilityLossOnHit\": 0.5,\n  \"Tags\": { \"Type\": [\"Armor\"], \"Family\": [\"Iron\"] }\n}\n```\n  \u003C/TabItem>\n\u003C/Tabs>\n\n### Advanced Armor (Adamantite)\n\n```json title=\"Armor_Adamantite_Chest.json\" {51-86}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Armor_Adamantite_Chest.name\"\n  },\n  \"Parent\": \"Armor_Iron_Chest\",\n  \"Quality\": \"Rare\",\n  \"ItemLevel\": 40,\n  \"Icon\": \"Icons/ItemsGenerated/Armor_Adamantite_Chest.png\",\n  \"IconProperties\": {\n    \"Rotation\": [22.5, 45, 22.5],\n    \"Scale\": 0.335,\n    \"Translation\": [0.3, 0.3]\n  },\n  \"Model\": \"Items/Armors/Adamantite/Chest.blockymodel\",\n  \"Texture\": \"Items/Armors/Adamantite/Chest_Texture.png\",\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Adamantite\", \"Quantity\": 28 },\n      { \"ItemId\": \"Ingredient_Leather_Heavy\", \"Quantity\": 8 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Cindercloth\", \"Quantity\": 7 }\n    ],\n    \"BenchRequirement\": [{\n      \"Id\": \"Armor_Bench\",\n      \"Type\": \"Crafting\",\n      \"Categories\": [\"Armor_Chest\"],\n      \"RequiredTierLevel\": 3\n    }],\n    \"KnowledgeRequired\": false,\n    \"TimeSeconds\": 3\n  },\n  \"Armor\": {\n    \"ArmorSlot\": \"Chest\",\n    \"BaseDamageResistance\": 0,\n    \"CosmeticsToHide\": [\"Overtop\"],\n    \"StatModifiers\": {\n      \"Health\": [{ \"Amount\": 24, \"CalculationType\": \"Additive\" }]\n    },\n    \"DamageResistance\": {\n      \"Physical\": [{ \"Amount\": 0.144, \"CalculationType\": \"Multiplicative\" }],\n      \"Projectile\": [{ \"Amount\": 0.144, \"CalculationType\": \"Multiplicative\" }]\n    },\n    \"DamageClassEnhancement\": {\n      \"Light\": [{ \"Amount\": 0.06, \"CalculationType\": \"Multiplicative\" }]\n    }\n  },\n  \"MaxDurability\": 150,\n  \"Tags\": { \"Type\": [\"Armor\"], \"Family\": [\"Adamantite\"] },\n  \"ItemSoundSetId\": \"ISS_Armor_Heavy\",\n  \"DurabilityLossOnHit\": 0.5\n}\n```\n\n### Light Armor (Leather)\n\n```json title=\"Armor_Leather_Light_Chest.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Armor_Leather_Light_Chest.name\"\n  },\n  \"Parent\": \"Armor_Iron_Chest\",\n  \"Quality\": \"Common\",\n  \"ItemLevel\": 15,\n  \"Icon\": \"Icons/ItemsGenerated/Armor_Leather_Light_Chest.png\",\n  \"Model\": \"Items/Armors/Leather_Light/Chest.blockymodel\",\n  \"Texture\": \"Items/Armors/Leather_Light/Chest_Texture.png\",\n  \"Recipe\": {\n    \"TimeSeconds\": 2,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 6 },\n      { \"ResourceTypeId\": \"Wood_Trunk\", \"Quantity\": 2 },\n      { \"ItemId\": \"Ingredient_Bolt_Wool\", \"Quantity\": 2 }\n    ],\n    \"BenchRequirement\": [{\n      \"Id\": \"Armor_Bench\",\n      \"Type\": \"Crafting\",\n      \"Categories\": [\"Armor_Chest\"]\n    }],\n    \"KnowledgeRequired\": false\n  },\n  \"Armor\": {\n    \"ArmorSlot\": \"Chest\",\n    \"BaseDamageResistance\": 0,\n    \"CosmeticsToHide\": [\"Overtop\"],\n    \"StatModifiers\": {\n      \"Health\": [{ \"Amount\": 17, \"CalculationType\": \"Additive\" }]\n    },\n    \"DamageResistance\": {\n      \"Physical\": [{ \"Amount\": 0.09, \"CalculationType\": \"Multiplicative\" }],\n      \"Projectile\": [{ \"Amount\": 0.09, \"CalculationType\": \"Multiplicative\" }]\n    }\n  },\n  \"Tags\": { \"Type\": [\"Armor\"], \"Family\": [\"Leather\"] },\n  \"MaxDurability\": 120,\n  \"ItemSoundSetId\": \"ISS_Armor_Leather\"\n}\n```\n\n## Cosmetics Hidden by Armor\n\nArmor hides certain cosmetic slots when equipped:\n\n| Armor Slot | Hidden Cosmetics |\n|------------|------------------|\n| Head | `EarAccessory`, `Ear`, `Haircut`, `HeadAccessory` |\n| Chest | `Overtop`, `Cape` |\n| Hands | (None) |\n| Legs | `Pants`, `Shoes` |\n\n## Damage Class Enhancement\n\nHigher-tier armor can enhance specific damage types:\n\n```json title=\"Light damage enhancement\"\n{\n  \"DamageClassEnhancement\": {\n    \"Light\": [\n      { \"Amount\": 0.06, \"CalculationType\": \"Multiplicative\" }\n    ]\n  }\n}\n```\n\nThis provides a 6% bonus to Light-type damage dealt while wearing the armor.\n\n## Sound Sets\n\nArmor uses weight-specific sound sets:\n\n| Sound Set | Armor Types |\n|-----------|-------------|\n| `ISS_Armor_Heavy` | Metal armors (Iron, Steel, Adamantite) |\n| `ISS_Armor_Leather` | Leather armors |\n| `ISS_Armor_Cloth` | Cloth armors |\n\n## Crafting Requirements\n\nArmor is crafted at the `Armor_Bench` station:\n\n| Category | Produces |\n|----------|----------|\n| `Armor_Head` | Helmets |\n| `Armor_Chest` | Chestplates |\n| `Armor_Hands` | Gauntlets |\n| `Armor_Legs` | Leggings |\n\nHigher-tier materials require higher bench tiers:\n\n| Material Tier | Required Bench Tier |\n|---------------|---------------------|\n| Copper-Iron | Tier 1 |\n| Steel-Mithril | Tier 2 |\n| Adamantite+ | Tier 3 |\n\n## Accessing Armor in Code\n\n```java title=\"ArmorExample.java\"\nimport com.hypixel.hytale.server.core.asset.type.item.config.Item;\nimport com.hypixel.hytale.server.core.asset.type.item.config.ItemArmor;\n\npublic class ArmorExample {\n    public void accessArmor() {\n        Item chestplate = Item.getAssetMap().get(\"Armor_Iron_Chest\");\n\n        if (chestplate != null) {\n            // Get armor configuration\n            ItemArmor armorConfig = chestplate.getArmor();\n\n            if (armorConfig != null) {\n                // Get slot\n                String slot = armorConfig.getArmorSlot();  // \"Chest\"\n\n                // Get damage resistance\n                Map\u003CString, List\u003CModifier>> resistance = armorConfig.getDamageResistance();\n\n                // Get stat modifiers\n                Map\u003CString, List\u003CModifier>> stats = armorConfig.getStatModifiers();\n\n                // Get cosmetics to hide\n                String[] hiddenCosmetics = armorConfig.getCosmeticsToHide();\n            }\n\n            // Get durability\n            double maxDurability = chestplate.getMaxDurability();\n        }\n    }\n}\n```\n\n## Creating Custom Armor\n\n### Using Parent Inheritance\n\n```json title=\"MyPlugin_Armor_Custom_Chest.json\"\n{\n  \"Parent\": \"Armor_Iron_Chest\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.MyPlugin_Armor_Custom_Chest.name\"\n  },\n  \"Quality\": \"Epic\",\n  \"ItemLevel\": 45,\n  \"Icon\": \"Icons/ItemsGenerated/MyPlugin_Armor_Custom_Chest.png\",\n  \"Model\": \"MyPlugin/Armors/Custom/Chest.blockymodel\",\n  \"Texture\": \"MyPlugin/Armors/Custom/Chest_Texture.png\",\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"MyPlugin_Custom_Ingot\", \"Quantity\": 20 },\n      { \"ItemId\": \"Ingredient_Leather_Heavy\", \"Quantity\": 8 }\n    ],\n    \"BenchRequirement\": [{\n      \"Id\": \"Armor_Bench\",\n      \"Type\": \"Crafting\",\n      \"Categories\": [\"Armor_Chest\"],\n      \"RequiredTierLevel\": 2\n    }],\n    \"TimeSeconds\": 4\n  },\n  \"Armor\": {\n    \"ArmorSlot\": \"Chest\",\n    \"BaseDamageResistance\": 0,\n    \"CosmeticsToHide\": [\"Overtop\", \"Cape\"],\n    \"DamageResistance\": {\n      \"Physical\": [{ \"Amount\": 0.12, \"CalculationType\": \"Multiplicative\" }],\n      \"Projectile\": [{ \"Amount\": 0.12, \"CalculationType\": \"Multiplicative\" }]\n    },\n    \"StatModifiers\": {\n      \"Health\": [{ \"Amount\": 22, \"CalculationType\": \"Additive\" }],\n      \"Stamina\": [{ \"Amount\": 10, \"CalculationType\": \"Additive\" }]\n    }\n  },\n  \"MaxDurability\": 140,\n  \"DurabilityLossOnHit\": 0.4,\n  \"Tags\": { \"Type\": [\"Armor\"], \"Family\": [\"MyPlugin_Custom\"] },\n  \"ItemSoundSetId\": \"ISS_Armor_Heavy\"\n}\n```\n\n### Creating a Full Custom Set\n\nFor a complete armor set, create four pieces with consistent naming:\n\n```\nMyPlugin_Armor_[Material]_Head.json\nMyPlugin_Armor_[Material]_Chest.json\nMyPlugin_Armor_[Material]_Hands.json\nMyPlugin_Armor_[Material]_Legs.json\n```\n\nEach piece should use the same `Family` tag to group them as a set.\n\n## Best Practices\n\n1. **Use parent inheritance**: Base custom armor on `Armor_Iron_*` pieces\n2. **Balance resistance values**: Follow the slot protection weights (Head 20%, Chest 36%, etc.)\n3. **Scale stats with tier**: Higher tiers should provide better resistance and health\n4. **Include all slots**: Create complete 4-piece sets for consistency\n5. **Match sound sets**: Use appropriate `ISS_Armor_*` sounds for armor weight\n6. **Set cosmetic hiding**: Specify which cosmetics are hidden appropriately\n7. **Prefix IDs**: Use plugin name prefix for all custom armor\n8. **Test durability**: Balance `MaxDurability` and `DurabilityLossOnHit` for gameplay feel\n\n## Related\n\n- [Item System Overview](/api-reference/assets/items/overview/) - General item documentation\n- [Weapons](/api-reference/assets/items/weapons/) - Combat item documentation\n- [Blockbench Setup](/tutorials/blockbench/setup/) - Creating armor models\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Including assets in plugins","src/content/docs/api-reference/assets/items/armor.mdx","88405917d1137844","api-reference/assets/items/combat",{"id":588,"data":590,"body":595,"filePath":596,"digest":597,"deferredRender":16},{"title":591,"editUrl":16,"head":592,"template":52,"sidebar":593,"pagefind":16,"draft":42},"Combat System",[],{"hidden":42,"attrs":594},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nThe combat system defines weapon attacks, damage calculations, and effects through a layered interaction architecture. Items override base interactions using `InteractionVars` to customize damage, effects, and behavior.\n\n## System Architecture\n\n```\n\n                       Item Definition                        \n         \n     Interactions              InteractionVars          \n    Primary: Root        Swing_Left_Damage: {...}       \n    Secondary: Root      Swing_Right_Damage: {...}      \n         \n\n                                         \n                                         \n    \n   RootInteraction             Override Base Values       \n   Cooldown, Queueing          BaseDamage, Effects        \n    \n            \n            \n\n                  Interaction Chain                         \n  Charging  Chaining  Attack  Selector  Damage         \n\n```\n\n## Asset Locations\n\n\u003CFileTree>\n- Assets/Server/Item/\n  - Items/Weapon/\n    - Sword/\n      - Template_Weapon_Sword.json\n      - Weapon_Sword_Iron.json\n    - Mace/\n    - Dagger/\n    - Battleaxe/\n  - RootInteractions/\n    - Weapons/\n      - Sword/\n        - Root_Weapon_Sword_Primary.json\n        - Root_Weapon_Sword_Secondary_Guard.json\n        - Root_Weapon_Sword_Signature_Vortexstrike.json\n  - Interactions/\n    - Weapons/\n      - Sword/\n        - Attacks/\n          - Primary/\n          - Secondary/\n          - Signature/\n\u003C/FileTree>\n\n## Item Interactions\n\nItems define interaction bindings in the `Interactions` property:\n\n```json title=\"Template_Weapon_Sword.json (excerpt)\"\n{\n  \"Interactions\": {\n    \"Primary\": \"Root_Weapon_Sword_Primary\",\n    \"Secondary\": \"Root_Weapon_Sword_Secondary_Guard\",\n    \"Ability1\": \"Root_Weapon_Sword_Signature_Vortexstrike\"\n  }\n}\n```\n\n| Binding | Description |\n|---------|-------------|\n| `Primary` | Left-click / primary attack |\n| `Secondary` | Right-click / secondary action |\n| `Ability1` | Special/signature ability |\n| `Ability2` | Additional ability |\n\n## Root Interactions\n\nRoot interactions define the entry point for attack chains:\n\n```json title=\"Root_Weapon_Sword_Primary.json\"\n{\n  \"RequireNewClick\": true,\n  \"ClickQueuingTimeout\": 0.2,\n  \"Cooldown\": {\n    \"Cooldown\": 0.25\n  },\n  \"Interactions\": [\n    \"Weapon_Sword_Primary\"\n  ]\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `RequireNewClick` | `bool` | Require new input for each attack |\n| `ClickQueuingTimeout` | `float` | Input queue window (seconds) |\n| `Cooldown` | `object` | Cooldown configuration |\n| `Cooldown.Cooldown` | `float` | Cooldown duration (seconds) |\n| `Interactions` | `array` | Interaction chain to execute |\n\n## Interaction Types\n\n### Charging\n\nHold-to-charge mechanics with time-based thresholds:\n\n```json title=\"Weapon_Sword_Primary.json\"\n{\n  \"Type\": \"Charging\",\n  \"DisplayProgress\": false,\n  \"Next\": {\n    \"0\": \"Weapon_Sword_Primary_Chain\",\n    \"0.2\": {\n      \"Type\": \"Replace\",\n      \"Var\": \"Thrust_Stamina\",\n      \"DefaultOk\": true,\n      \"DefaultValue\": {\n        \"Interactions\": [\n          \"Weapon_Sword_Primary_Thrust_StaminaCondition\"\n        ]\n      }\n    }\n  }\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Type` | `\"Charging\"` | Charging interaction type |\n| `DisplayProgress` | `bool` | Show charge bar |\n| `Next` | `object` | Time-based branches (keys are seconds) |\n\n### Chaining\n\nCombo attack sequences:\n\n```json title=\"Weapon_Sword_Primary_Chain.json\"\n{\n  \"Type\": \"Chaining\",\n  \"ChainingAllowance\": 2,\n  \"ChainId\": \"Sword_Swings\",\n  \"Next\": [\n    {\n      \"Type\": \"Replace\",\n      \"DefaultOk\": true,\n      \"Var\": \"Swing_Left\",\n      \"DefaultValue\": {\n        \"Interactions\": [\n          \"Weapon_Sword_Primary_Swing_Left\"\n        ]\n      }\n    },\n    {\n      \"Type\": \"Replace\",\n      \"DefaultOk\": true,\n      \"Var\": \"Swing_Right\",\n      \"DefaultValue\": {\n        \"Interactions\": [\n          \"Weapon_Sword_Primary_Swing_Right\"\n        ]\n      }\n    },\n    {\n      \"Type\": \"Replace\",\n      \"DefaultOk\": true,\n      \"Var\": \"Swing_Down\",\n      \"DefaultValue\": {\n        \"Interactions\": [\n          \"Weapon_Sword_Primary_Swing_Down\"\n        ]\n      }\n    }\n  ]\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Type` | `\"Chaining\"` | Chaining interaction type |\n| `ChainingAllowance` | `int` | Max combo chain count |\n| `ChainId` | `string` | Unique chain identifier |\n| `Next` | `array` | Sequential attack options |\n\n### Simple\n\nBasic single-action interactions:\n\n```json title=\"Weapon_Sword_Primary_Swing_Left.json\"\n{\n  \"Type\": \"Simple\",\n  \"RunTime\": 0.117,\n  \"Effects\": {\n    \"ItemAnimationId\": \"SwingLeft\",\n    \"WorldSoundEventId\": \"SFX_Light_Melee_T2_Swing\",\n    \"LocalSoundEventId\": \"SFX_Sword_T2_Swing_RL_Local\"\n  },\n  \"Next\": {\n    \"Type\": \"Replace\",\n    \"Var\": \"Swing_Left_Selector\",\n    \"DefaultOk\": true,\n    \"DefaultValue\": {\n      \"Interactions\": [\n        \"Weapon_Sword_Primary_Swing_Left_Selector\"\n      ]\n    }\n  }\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Type` | `\"Simple\"` | Simple interaction type |\n| `RunTime` | `float` | Execution time (seconds) |\n| `Effects` | `object` | Visual/audio effects |\n| `Next` | `object` | Next interaction in chain |\n\n## Damage Interactions\n\nDamage interactions define damage calculations and hit effects:\n\n```json title=\"Weapon_Sword_Primary_Swing_Left_Damage.json\"\n{\n  \"Parent\": \"DamageEntityParent\",\n  \"DamageCalculator\": {\n    \"Class\": \"Light\"\n  },\n  \"Effects\": {\n    \"CameraEffect\": \"Impact\"\n  },\n  \"DamageEffects\": {\n    \"Knockback\": {\n      \"Type\": \"Force\",\n      \"VelocityConfig\": {\n        \"AirResistance\": 0.99,\n        \"AirResistanceMax\": 0.98,\n        \"GroundResistance\": 0.94,\n        \"GroundResistanceMax\": 0.3,\n        \"Threshold\": 3.0,\n        \"Style\": \"Linear\"\n      },\n      \"Direction\": {\n        \"X\": 0,\n        \"Y\": 1,\n        \"Z\": -1\n      },\n      \"Force\": 6.0,\n      \"VelocityType\": \"Add\"\n    },\n    \"WorldParticles\": [\n      {\n        \"SystemId\": \"Impact_Sword_Basic\"\n      }\n    ],\n    \"CameraEffect\": \"Impact_Light\"\n  },\n  \"EntityStatsOnHit\": [\n    {\n      \"EntityStatId\": \"SignatureEnergy\",\n      \"Amount\": 1\n    }\n  ]\n}\n```\n\n### DamageCalculator\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Class` | `string` | Damage class (Light, Normal, Heavy) |\n| `BaseDamage` | `object` | Damage by type |\n| `BaseDamage.Physical` | `float` | Physical damage amount |\n| `Type` | `string` | Calculation type (`Absolute`) |\n| `RandomPercentageModifier` | `float` | Damage variance (0.1 = 10%) |\n\n### DamageEffects\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Knockback` | `object` | Knockback configuration |\n| `WorldParticles` | `array` | Particles spawned on hit |\n| `WorldSoundEventId` | `string` | Sound played globally |\n| `LocalSoundEventId` | `string` | Sound played locally |\n| `CameraEffect` | `string` | Camera shake on hit |\n\n### Knockback Configuration\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Type` | `string` | Knockback type (`Force`) |\n| `Direction` | `object` | Knockback direction `{X, Y, Z}` |\n| `Force` | `float` | Knockback strength |\n| `VelocityType` | `string` | How velocity is applied (`Add`) |\n| `VelocityConfig` | `object` | Physics configuration |\n\n### EntityStatsOnHit\n\nStats modified when attack hits:\n\n```json\n\"EntityStatsOnHit\": [\n  {\n    \"EntityStatId\": \"SignatureEnergy\",\n    \"Amount\": 1\n  }\n]\n```\n\n## InteractionVars\n\nItems override base interactions using `InteractionVars`. This allows items to customize damage while sharing the same attack animations:\n\n```json title=\"Weapon_Sword_Iron.json (InteractionVars)\"\n{\n  \"InteractionVars\": {\n    \"Swing_Left_Damage\": {\n      \"Interactions\": [\n        {\n          \"Parent\": \"Weapon_Sword_Primary_Swing_Left_Damage\",\n          \"DamageCalculator\": {\n            \"BaseDamage\": {\n              \"Physical\": 9\n            }\n          },\n          \"DamageEffects\": {\n            \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n            \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\"\n          }\n        }\n      ]\n    },\n    \"Swing_Right_Damage\": {\n      \"Interactions\": [\n        {\n          \"Parent\": \"Weapon_Sword_Primary_Swing_Right_Damage\",\n          \"DamageCalculator\": {\n            \"BaseDamage\": {\n              \"Physical\": 10\n            }\n          }\n        }\n      ]\n    },\n    \"Swing_Down_Damage\": {\n      \"Interactions\": [\n        {\n          \"Parent\": \"Weapon_Sword_Primary_Swing_Down_Damage\",\n          \"DamageCalculator\": {\n            \"BaseDamage\": {\n              \"Physical\": 18\n            }\n          }\n        }\n      ]\n    },\n    \"Thrust_Damage\": {\n      \"Interactions\": [\n        {\n          \"Parent\": \"Weapon_Sword_Primary_Thrust_Damage\",\n          \"DamageCalculator\": {\n            \"BaseDamage\": {\n              \"Physical\": 26\n            }\n          },\n          \"EntityStatsOnHit\": [\n            {\n              \"EntityStatId\": \"SignatureEnergy\",\n              \"Amount\": 3\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n```\n\n### Var Names\n\nCommon InteractionVar names for weapons:\n\n| Var Name | Description |\n|----------|-------------|\n| `Swing_Left_Damage` | Left swing damage |\n| `Swing_Right_Damage` | Right swing damage |\n| `Swing_Down_Damage` | Overhead swing damage |\n| `Thrust_Damage` | Charged thrust damage |\n| `Guard_Wield` | Guard/block stance |\n| `Vortexstrike_Spin_Damage` | Signature spin damage |\n| `Vortexstrike_Stab_Damage` | Signature stab damage |\n\n### Override Properties\n\nProperties that can be overridden:\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `Parent` | `string` | Base interaction to inherit from |\n| `DamageCalculator` | `object` | Damage configuration |\n| `DamageEffects` | `object` | Hit effects |\n| `Effects` | `object` | Animation/sound effects |\n| `EntityStatsOnHit` | `array` | Stats modified on hit |\n| `StaminaCost` | `object` | Stamina cost |\n\n## Stamina System\n\nActions can cost stamina:\n\n```json\n\"Guard_Wield\": {\n  \"Interactions\": [\n    {\n      \"Parent\": \"Weapon_Sword_Secondary_Guard_Wield\",\n      \"StaminaCost\": {\n        \"Value\": 10,\n        \"CostType\": \"Damage\"\n      }\n    }\n  ]\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Value` | `float` | Stamina cost amount |\n| `CostType` | `string` | Cost type (`Damage`, `Flat`) |\n\n## Signature Energy\n\nWeapons can build signature energy for special attacks:\n\n```json title=\"Template_Weapon_Sword.json (Weapon section)\"\n{\n  \"Weapon\": {\n    \"EntityStatsToClear\": [\n      \"SignatureEnergy\"\n    ],\n    \"StatModifiers\": {\n      \"SignatureEnergy\": [\n        {\n          \"Amount\": 20,\n          \"CalculationType\": \"Additive\"\n        }\n      ]\n    }\n  }\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `EntityStatsToClear` | `array` | Stats reset on weapon switch |\n| `StatModifiers` | `object` | Stat modifications |\n| `Amount` | `int` | Max signature energy |\n| `CalculationType` | `string` | How modifier applies |\n\n### Appearance Conditions\n\nVisual effects when signature is ready:\n\n```json\n\"ItemAppearanceConditions\": {\n  \"SignatureEnergy\": [\n    {\n      \"Condition\": [100, 100],\n      \"ConditionValueType\": \"Percent\",\n      \"Particles\": [\n        {\n          \"SystemId\": \"Sword_Signature_Ready\",\n          \"TargetNodeName\": \"Handle\",\n          \"PositionOffset\": { \"X\": 0.8 },\n          \"TargetEntityPart\": \"PrimaryItem\"\n        }\n      ],\n      \"ModelVFXId\": \"Sword_Signature_Status\"\n    }\n  ]\n}\n```\n\n## Complete Sword Example\n\n\u003CTabs>\n\u003CTabItem label=\"Template\">\n\n```json title=\"Template_Weapon_Sword.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Template_Weapon_Sword.name\"\n  },\n  \"Model\": \"Items/Weapons/Sword/Iron.blockymodel\",\n  \"PlayerAnimationsId\": \"Sword\",\n  \"Reticle\": \"DefaultMelee\",\n  \"Categories\": [\"Items.Weapons\"],\n  \"Interactions\": {\n    \"Primary\": \"Root_Weapon_Sword_Primary\",\n    \"Secondary\": \"Root_Weapon_Sword_Secondary_Guard\",\n    \"Ability1\": \"Root_Weapon_Sword_Signature_Vortexstrike\"\n  },\n  \"Tags\": {\n    \"Type\": [\"Weapon\"],\n    \"Family\": [\"Sword\"]\n  },\n  \"Weapon\": {\n    \"EntityStatsToClear\": [\"SignatureEnergy\"],\n    \"StatModifiers\": {\n      \"SignatureEnergy\": [\n        { \"Amount\": 20, \"CalculationType\": \"Additive\" }\n      ]\n    }\n  },\n  \"ItemSoundSetId\": \"ISS_Weapons_Blade_Large\",\n  \"MaxDurability\": 80,\n  \"DurabilityLossOnHit\": 0.21\n}\n```\n\n\u003C/TabItem>\n\u003CTabItem label=\"Iron Sword\">\n\n```json title=\"Weapon_Sword_Iron.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Weapon_Sword_Iron.name\"\n  },\n  \"Model\": \"Items/Weapons/Sword/Iron.blockymodel\",\n  \"Quality\": \"Uncommon\",\n  \"ItemLevel\": 20,\n  \"Recipe\": {\n    \"TimeSeconds\": 3.5,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 6 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 3 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Categories\": [\"Weapon_Sword\"],\n        \"Id\": \"Weapon_Bench\"\n      }\n    ]\n  },\n  \"InteractionVars\": {\n    \"Swing_Left_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Left_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 9 } },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\"\n        }\n      }]\n    },\n    \"Swing_Right_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Right_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 10 } }\n      }]\n    },\n    \"Swing_Down_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Down_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 18 } }\n      }]\n    },\n    \"Thrust_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Thrust_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 26 } },\n        \"EntityStatsOnHit\": [\n          { \"EntityStatId\": \"SignatureEnergy\", \"Amount\": 3 }\n        ]\n      }]\n    }\n  },\n  \"MaxDurability\": 120\n}\n```\n\n\u003C/TabItem>\n\u003C/Tabs>\n\n## Damage Types\n\n| Type | Description |\n|------|-------------|\n| `Physical` | Standard physical damage |\n| `Fire` | Fire elemental damage |\n| `Frost` | Ice elemental damage |\n| `Poison` | Poison damage over time |\n| `Void` | Void/shadow damage |\n\n## Creating Custom Weapons\n\n### Basic Custom Sword\n\n```json title=\"MyPlugin_Weapon_Sword_Custom.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"TranslationProperties\": {\n    \"Name\": \"my_plugin.items.custom_sword.name\"\n  },\n  \"Model\": \"MyPlugin/Items/Weapons/Sword/Custom.blockymodel\",\n  \"Texture\": \"MyPlugin/Items/Weapons/Sword/Custom_Texture.png\",\n  \"Quality\": \"Rare\",\n  \"ItemLevel\": 35,\n  \"InteractionVars\": {\n    \"Swing_Left_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Left_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 15 }\n        }\n      }]\n    },\n    \"Swing_Right_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Right_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 17 }\n        }\n      }]\n    },\n    \"Swing_Down_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Down_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 28 }\n        }\n      }]\n    },\n    \"Thrust_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Thrust_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 42 }\n        }\n      }]\n    }\n  },\n  \"MaxDurability\": 180,\n  \"DurabilityLossOnHit\": 0.18\n}\n```\n\n### Elemental Weapon\n\n```json title=\"MyPlugin_Weapon_Sword_Fire.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"TranslationProperties\": {\n    \"Name\": \"my_plugin.items.fire_sword.name\"\n  },\n  \"Quality\": \"Epic\",\n  \"InteractionVars\": {\n    \"Swing_Left_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Left_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": {\n            \"Physical\": 8,\n            \"Fire\": 6\n          }\n        },\n        \"DamageEffects\": {\n          \"WorldParticles\": [\n            { \"SystemId\": \"Impact_Fire_Basic\" }\n          ]\n        }\n      }]\n    }\n  }\n}\n```\n\n## Best Practices\n\n1. **Inherit from templates** - Use `Parent` to share attack logic\n2. **Override only needed values** - InteractionVars can be minimal\n3. **Scale damage consistently** - Higher tiers = more damage\n4. **Use appropriate sound tiers** - T1, T2, T3 match item quality\n5. **Balance signature energy** - More on heavy attacks\n6. **Test knockback values** - Ensure combat feels right\n7. **Match particles to element** - Fire weapons use fire particles\n\n## Related\n\n- [Weapons](/api-reference/assets/items/weapons/) - Weapon definitions\n- [Trail Effects](/api-reference/assets/vfx/trails/) - Attack trail effects\n- [Model Effects](/api-reference/assets/vfx/model-effects/) - Visual effects\n- [Sound Events](/api-reference/assets/audio/sound-events/) - Combat sounds","src/content/docs/api-reference/assets/items/combat.mdx","e044e3a6c60e04a4","api-reference/assets/items/consumables",{"id":598,"data":600,"body":605,"filePath":606,"digest":607,"deferredRender":16},{"title":601,"editUrl":16,"head":602,"template":52,"sidebar":603,"pagefind":16,"draft":42},"Consumables",[],{"hidden":42,"attrs":604},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Card, CardGrid, LinkCard, Tabs, TabItem, FileTree, Badge } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of 31 food and 38 potion files in `/Assets/Server/Item/Items/`.\nVerify all information against actual asset files before use in production.\n\u003C/Aside>\n\nConsumables are items that are used up when activated, providing effects such as health restoration, stat buffs, or transformations. Hytale has two main consumable categories: **Food** and **Potions**.\n\n## Asset Location\n\n**Food Definitions:** `Assets/Server/Item/Items/Food/`\n**Potion Definitions:** `Assets/Server/Item/Items/Potion/`\n**Client Models:** `Assets/Common/Items/Consumables/`\n\n## Consumable Categories\n\n### Food Items (31 files)\n\n| Category | Description | Examples |\n|----------|-------------|----------|\n| Raw Meat | Uncooked animal products | Beef, Chicken, Pork, Wildmeat |\n| Fish | Aquatic food items | Fish Raw (5 quality tiers) |\n| Cooked Food | Prepared dishes | Grilled Fish, Cooked Wildmeat |\n| Baked Goods | Oven-prepared food | Bread |\n| Prepared Meals | Complex recipes | Kebabs, Pies, Salads |\n| Special | Holiday items | Candy Cane, Popcorn |\n\n### Potions (38 files)\n\n| Category | Description | Examples |\n|----------|-------------|----------|\n| Health | Restore health instantly | Health, Health Greater, Health Lesser |\n| Stamina | Restore stamina instantly | Stamina, Stamina Greater, Stamina Lesser |\n| Mana | Restore mana instantly | Mana, Mana Large, Mana Small |\n| Signature | Restore signature energy | Signature Greater, Signature Lesser |\n| Regeneration | Heal over time | Regen Health, Regen Mana, Regen Stamina |\n| Morph | Transform into creatures | Morph Dog, Morph Frog, Morph Mouse, Morph Pigeon |\n| Utility | Special effects | Antidote, Purify, Poison |\n| Empty | Crafting containers | Empty, Empty Large, Empty Small |\n\n## JSON Schema Reference\n\n### Core Consumable Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Parent` | `string` | Template to inherit from (`Template_Food`, `Potion_Template`) |\n| `TranslationProperties` | `object` | Localization configuration |\n| `Model` | `string` | Path to `.blockymodel` file |\n| `Texture` | `string` | Path to texture file |\n| `Icon` | `string` | Path to inventory icon |\n| `Quality` | `string` | Quality tier |\n| `Categories` | `string[]` | `\"Items.Foods\"` or `\"Items.Potions\"` |\n| `Consumable` | `boolean` | Must be `true` for consumables |\n\n### Consumable-Specific Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `Consumable` | `boolean` | `false` | Marks item as consumed on use |\n| `MaxStack` | `integer` | `25` (food), `10` (potion) | Stack size limit |\n| `DropOnDeath` | `boolean` | `true` | Whether item drops when player dies |\n| `Scale` | `number` | `1.0` | Model display scale |\n\n### Effect Properties (InteractionVars)\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Effect` | `object` | Applied effect when consumed |\n| `Stat_Check` | `object` | Condition check before consumption |\n| `ConsumeSFX` | `object` | Sound while consuming |\n| `ConsumedSFX` | `object` | Sound after consumption |\n| `RemoveEffect` | `object` | Effect removal on use |\n\n## Food Template\n\nFood items inherit from `Template_Food`:\n\n```json title=\"Template_Food.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Template_Food.name\"\n  },\n  \"Quality\": \"Template\",\n  \"Icon\": \"Icons/ItemsGenerated/Plant_Crop_Corn.png\",\n  \"Categories\": [\"Items.Foods\"],\n  \"BlockType\": {\n    \"Material\": \"Empty\",\n    \"DrawType\": \"Model\",\n    \"HitboxType\": \"Food_Large\",\n    \"CustomModel\": \"Resources/Ingredients/Corn.blockymodel\",\n    \"CustomModelTexture\": [{\n      \"Texture\": \"Resources/Ingredients/Corn_Texture.png\",\n      \"Weight\": 1\n    }],\n    \"ParticleColor\": \"#cabc3f\",\n    \"RandomRotation\": \"YawStep1\",\n    \"Gathering\": { \"Harvest\": {}, \"Soft\": {} }\n  },\n  \"ItemLevel\": 10,\n  \"ResourceTypes\": [{ \"Id\": \"Foods\" }],\n  \"Utility\": { \"Compatible\": true },\n  \"PlayerAnimationsId\": \"Item\",\n  \"Scale\": 1.2,\n  \"Interactions\": {\n    \"Secondary\": \"Root_Secondary_Consume_Food_T1\"\n  },\n  \"InteractionVars\": {\n    \"Effect\": {\n      \"Interactions\": [{\n        \"Type\": \"ApplyEffect\",\n        \"EffectId\": \"Food_Health_Regen_Small\"\n      }]\n    },\n    \"ConsumeSFX\": {\n      \"Interactions\": [{\n        \"Parent\": \"Consume_SFX\",\n        \"Effects\": { \"LocalSoundEventId\": \"SFX_Consume_Bread_Local\" }\n      }]\n    },\n    \"ConsumedSFX\": {\n      \"Interactions\": [{\n        \"Parent\": \"Consumed_SFX\",\n        \"Effects\": { \"LocalSoundEventId\": \"SFX_Consume_Bread_Local\" }\n      }]\n    }\n  },\n  \"InteractionConfig\": {\n    \"Priorities\": { \"Secondary\": 1 }\n  },\n  \"Consumable\": true,\n  \"Tags\": { \"Type\": [\"Food\"] },\n  \"MaxStack\": 25\n}\n```\n\n## Potion Template\n\nPotions inherit from `Potion_Template`:\n\n```json title=\"Potion_Template.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Potion_Health.name\"\n  },\n  \"Quality\": \"Template\",\n  \"PlayerAnimationsId\": {\n    \"Parent\": \"Item\",\n    \"Animations\": {\n      \"Consume\": {\n        \"FirstPerson\": \"Characters/Animations/Items/Main_Handed/Item/Attacks/Drink/Drink_FPS.blockyanim\",\n        \"ThirdPerson\": \"Characters/Animations/Items/Main_Handed/Item/Attacks/Drink/Drink.blockyanim\",\n        \"Speed\": 1,\n        \"Looping\": true\n      }\n    }\n  },\n  \"Categories\": [\"Items.Potions\"],\n  \"Icon\": \"Icons/ItemsGenerated/Potion_Health.png\",\n  \"Interactions\": {\n    \"Secondary\": {\n      \"RequireNewClick\": false,\n      \"Interactions\": [{\n        \"Type\": \"Condition\",\n        \"RequiredGameMode\": \"Adventure\",\n        \"Crouching\": false,\n        \"Next\": {\n          \"Type\": \"Replace\",\n          \"DefaultValue\": { \"Interactions\": [\"Stat_Check\"] },\n          \"Var\": \"Stat_Check\"\n        },\n        \"Failed\": \"Block_Secondary\"\n      }]\n    }\n  },\n  \"InteractionVars\": {\n    \"RemoveEffect\": {\n      \"Interactions\": [{ \"Type\": \"Simple\" }]\n    },\n    \"Effect\": {\n      \"Interactions\": [{\n        \"Type\": \"ApplyEffect\",\n        \"EffectId\": {\n          \"StatModifiers\": { \"Health\": 10 },\n          \"StatusEffectIcon\": \"UI/StatusEffects/Health_Potion.png\",\n          \"OverlapBehavior\": \"Extend\"\n        }\n      }]\n    },\n    \"Stat_Check\": {\n      \"Interactions\": [{\n        \"Parent\": \"Stat_Check\",\n        \"Costs\": { \"Health\": 100 },\n        \"ValueType\": \"Percent\",\n        \"LessThan\": true\n      }]\n    }\n  },\n  \"Utility\": { \"Compatible\": false },\n  \"BlockType\": {\n    \"BlockParticleSetId\": \"GlassMagic\",\n    \"BlockSoundSetId\": \"Glass\",\n    \"CustomModel\": \"Items/Consumables/Potions/Potion.blockymodel\",\n    \"CustomModelTexture\": [{\n      \"Texture\": \"Items/Consumables/Potions/Potion_Textures/Pink.png\",\n      \"Weight\": 1\n    }],\n    \"CustomModelScale\": 0.5,\n    \"DrawType\": \"Model\",\n    \"Flags\": { \"IsUsable\": true },\n    \"Gathering\": { \"Harvest\": {}, \"Soft\": {} },\n    \"HitboxType\": \"Potion\",\n    \"Material\": \"Empty\",\n    \"RandomRotation\": \"YawStep1\",\n    \"Opacity\": \"Transparent\",\n    \"Support\": { \"Down\": [{ \"FaceType\": \"Full\" }] },\n    \"ParticleColor\": \"#ff3730\",\n    \"Light\": { \"Color\": \"#522\" }\n  },\n  \"Consumable\": true,\n  \"Tags\": { \"Type\": [\"Potion\"] },\n  \"Scale\": 2,\n  \"MaxStack\": 10\n}\n```\n\n## Complete Examples\n\n### Food Examples\n\n\u003CTabs>\n  \u003CTabItem label=\"Simple Food\">\n```json title=\"Food_Fish_Raw.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Food_Fish_Raw.name\",\n    \"Description\": \"server.items.Food_Fish_Raw.description\"\n  },\n  \"Parent\": \"Template_Food\",\n  \"Quality\": \"Common\",\n  \"Icon\": \"Icons/ItemsGenerated/Food_Fish_Raw.png\",\n  \"BlockType\": {\n    \"Material\": \"Empty\",\n    \"DrawType\": \"Model\",\n    \"CustomModel\": \"Resources/Ingredients/Fish_Piece.blockymodel\",\n    \"CustomModelTexture\": [{\n      \"Texture\": \"Resources/Ingredients/Fish_Piece_Raw_Texture.png\",\n      \"Weight\": 1\n    }],\n    \"ParticleColor\": \"#d97676\"\n  },\n  \"InteractionVars\": {\n    \"Effect\": {\n      \"Interactions\": [{\n        \"Type\": \"ApplyEffect\",\n        \"EffectId\": \"Food_Instant_Heal_T1\"\n      }]\n    }\n  },\n  \"Scale\": 1,\n  \"MaxStack\": 25,\n  \"Recipe\": {\n    \"TimeSeconds\": 1,\n    \"Input\": [{ \"ResourceTypeId\": \"Fish\" }],\n    \"BenchRequirement\": [{\n      \"Type\": \"Crafting\",\n      \"Id\": \"Cookingbench\",\n      \"Categories\": [\"Ingredients\"]\n    }]\n  },\n  \"DropOnDeath\": true,\n  \"ItemLevel\": 1\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Crafted Food\">\n```json title=\"Food_Bread.json\" {6-8,43-69}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Food_Bread.name\",\n    \"Description\": \"server.items.Food_Bread.description\"\n  },\n  \"Parent\": \"Template_Food\",\n  \"Interactions\": {\n    \"Secondary\": \"Root_Secondary_Consume_Food_T2\"\n  },\n  \"Quality\": \"Uncommon\",\n  \"Icon\": \"Icons/ItemsGenerated/Food_Bread.png\",\n  \"BlockType\": {\n    \"Material\": \"Empty\",\n    \"DrawType\": \"Model\",\n    \"Opacity\": \"Semitransparent\",\n    \"CustomModel\": \"Items/Consumables/Food/Bread.blockymodel\",\n    \"CustomModelTexture\": [{\n      \"Texture\": \"Items/Consumables/Food/Bread_Texture.png\",\n      \"Weight\": 1\n    }],\n    \"HitboxType\": \"Food_Medium\",\n    \"RandomRotation\": \"YawStep1\",\n    \"Gathering\": { \"Harvest\": {}, \"Soft\": {} },\n    \"CustomModelScale\": 0.5,\n    \"BlockParticleSetId\": \"Dust\",\n    \"ParticleColor\": \"#e4cb69\"\n  },\n  \"InteractionVars\": {\n    \"Effect\": {\n      \"Interactions\": [{\n        \"Type\": \"ApplyEffect\",\n        \"EffectId\": \"Food_Instant_Heal_Bread\"\n      }]\n    }\n  },\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Dough\", \"Quantity\": 1 },\n      { \"ResourceTypeId\": \"Fuel\", \"Quantity\": 3 }\n    ],\n    \"Output\": [{ \"ItemId\": \"Food_Bread\" }],\n    \"BenchRequirement\": [{\n      \"Type\": \"Crafting\",\n      \"Id\": \"Cookingbench\",\n      \"Categories\": [\"Baked\"]\n    }],\n    \"TimeSeconds\": 5\n  },\n  \"Scale\": 1.5,\n  \"ItemLevel\": 7,\n  \"MaxStack\": 25,\n  \"DropOnDeath\": true\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Complex Recipe\">\n```json title=\"Food_Kebab_Meat.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Food_Kebab_Meat.name\",\n    \"Description\": \"server.items.Food_Kebab_Meat.description\"\n  },\n  \"Parent\": \"Template_Food\",\n  \"Interactions\": {\n    \"Secondary\": \"Root_Secondary_Consume_Food_T2\"\n  },\n  \"Quality\": \"Uncommon\",\n  \"Icon\": \"Icons/ItemsGenerated/Food_Skewer_Meat.png\",\n  \"PlayerAnimationsId\": {\n    \"Parent\": \"Item\",\n    \"Animations\": {\n      \"Consume\": {\n        \"FirstPerson\": \"Characters/Animations/Items/Main_Handed/Item/Attacks/Eat_Side/Eat_Side_FPS.blockyanim\",\n        \"ThirdPerson\": \"Characters/Animations/Items/Main_Handed/Item/Attacks/Eat_Side/Eat_Side.blockyanim\",\n        \"Speed\": 1,\n        \"Looping\": true\n      }\n    }\n  },\n  \"BlockType\": {\n    \"Material\": \"Empty\",\n    \"DrawType\": \"Model\",\n    \"CustomModel\": \"Items/Consumables/Food/Meat_Skewer.blockymodel\",\n    \"CustomModelTexture\": [{\n      \"Texture\": \"Items/Consumables/Food/Meat_Skewer_Texture.png\",\n      \"Weight\": 1\n    }],\n    \"ParticleColor\": \"#f2de88\"\n  },\n  \"InteractionVars\": {\n    \"Effect\": {\n      \"Interactions\": [\n        { \"Type\": \"ApplyEffect\", \"EffectId\": \"Food_Instant_Heal_T2\" },\n        \"HealthRegen_TierCheck_T2\",\n        \"Meat_TierCheck_T2\"\n      ]\n    }\n  },\n  \"Recipe\": {\n    \"TimeSeconds\": 1,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Stick\" },\n      { \"ResourceTypeId\": \"Meats\", \"Quantity\": 4 }\n    ],\n    \"Output\": [{ \"ItemId\": \"Food_Kebab_Meat\" }],\n    \"BenchRequirement\": [{\n      \"Type\": \"Crafting\",\n      \"Id\": \"Cookingbench\",\n      \"Categories\": [\"Prepared\"]\n    }]\n  },\n  \"ItemLevel\": 3,\n  \"MaxStack\": 25,\n  \"DropOnDeath\": true\n}\n```\n  \u003C/TabItem>\n\u003C/Tabs>\n\n### Potion Examples\n\n\u003CTabs>\n  \u003CTabItem label=\"Health Potion\">\n```json title=\"Potion_Health.json\" {54-75}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Potion_Health.name\"\n  },\n  \"PlayerAnimationsId\": {\n    \"Parent\": \"Item\",\n    \"Animations\": {\n      \"Consume\": {\n        \"FirstPerson\": \"Characters/Animations/Items/Main_Handed/Item/Attacks/Drink/Drink_FPS.blockyanim\",\n        \"ThirdPerson\": \"Characters/Animations/Items/Main_Handed/Item/Attacks/Drink/Drink.blockyanim\",\n        \"Speed\": 1,\n        \"Looping\": true\n      }\n    }\n  },\n  \"Categories\": [\"Items.Potions\"],\n  \"Icon\": \"Icons/ItemsGenerated/Potion_Health.png\",\n  \"Interactions\": {\n    \"Secondary\": {\n      \"RequireNewClick\": false,\n      \"Interactions\": [{\n        \"Type\": \"Condition\",\n        \"RequiredGameMode\": \"Adventure\",\n        \"Crouching\": false,\n        \"Next\": {\n          \"Type\": \"Replace\",\n          \"DefaultValue\": { \"Interactions\": [\"Stat_Check\"] },\n          \"Var\": \"Stat_Check\"\n        },\n        \"Failed\": \"Block_Secondary\"\n      }]\n    }\n  },\n  \"InteractionVars\": {\n    \"RemoveEffect\": {\n      \"Interactions\": [{ \"Type\": \"Simple\" }]\n    },\n    \"Effect\": {\n      \"Interactions\": [{\n        \"Type\": \"ApplyEffect\",\n        \"EffectId\": {\n          \"StatModifiers\": { \"Health\": 40 },\n          \"ValueType\": \"Percent\",\n          \"StatusEffectIcon\": \"UI/StatusEffects/Health_Potion.png\",\n          \"OverlapBehavior\": \"Extend\"\n        }\n      }]\n    },\n    \"Stat_Check\": {\n      \"Interactions\": [{\n        \"Parent\": \"Stat_Check\",\n        \"Costs\": { \"Health\": 100 },\n        \"ValueType\": \"Percent\",\n        \"LessThan\": true\n      }]\n    },\n    \"ConsumeSFX\": {\n      \"Interactions\": [{\n        \"Parent\": \"Consume_SFX\",\n        \"Effects\": { \"LocalSoundEventId\": \"SFX_Health_Potion_Low_Drink\" }\n      }]\n    },\n    \"ConsumedSFX\": {\n      \"Interactions\": [{\n        \"Parent\": \"Consumed_SFX\",\n        \"Effects\": { \"LocalSoundEventId\": \"SFX_Potion_Drink_Success\" }\n      }]\n    }\n  },\n  \"Utility\": { \"Compatible\": false },\n  \"BlockType\": {\n    \"BlockParticleSetId\": \"Dust\",\n    \"CustomModel\": \"Items/Consumables/Potions/Potion.blockymodel\",\n    \"CustomModelTexture\": [{\n      \"Texture\": \"Items/Consumables/Potions/Potion_Textures/Red.png\",\n      \"Weight\": 1\n    }],\n    \"CustomModelScale\": 0.5,\n    \"DrawType\": \"Model\",\n    \"Flags\": { \"IsUsable\": true },\n    \"Gathering\": { \"Harvest\": {}, \"Soft\": {} },\n    \"HitboxType\": \"Potion\",\n    \"Material\": \"Empty\",\n    \"RandomRotation\": \"YawStep1\",\n    \"Opacity\": \"Transparent\",\n    \"Support\": { \"Down\": [{ \"FaceType\": \"Full\" }] },\n    \"ParticleColor\": \"#ff3730\",\n    \"Light\": { \"Color\": \"#522\" }\n  },\n  \"Consumable\": true,\n  \"Tags\": { \"Type\": [\"Potion\"] },\n  \"Scale\": 2,\n  \"MaxStack\": 10,\n  \"ItemLevel\": 1,\n  \"DropOnDeath\": true\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Regen Potion\">\n```json title=\"Potion_Regen_Health.json\" {7-29}\n{\n  \"Parent\": \"Potion_Template\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Potion_Regen_Health.name\"\n  },\n  \"Icon\": \"Icons/ItemsGenerated/Potion_Regen_Health.png\",\n  \"InteractionVars\": {\n    \"RemoveEffect\": {\n      \"Interactions\": [{ \"Type\": \"Simple\" }]\n    },\n    \"Effect\": {\n      \"Interactions\": [{\n        \"Type\": \"ApplyEffect\",\n        \"EffectId\": {\n          \"StatModifiers\": { \"Health\": 5 },\n          \"Duration\": 2,\n          \"DamageCalculatorCooldown\": 4,\n          \"Debuff\": true,\n          \"StatusEffectIcon\": \"UI/StatusEffects/Health_Potion.png\",\n          \"OverlapBehavior\": \"Extend\"\n        }\n      }]\n    },\n    \"Stat_Check\": {\n      \"Interactions\": [{\n        \"Parent\": \"Stat_Check\",\n        \"Costs\": { \"Health\": 100 },\n        \"ValueType\": \"Percent\",\n        \"LessThan\": true\n      }]\n    }\n  },\n  \"BlockType\": {\n    \"CustomModel\": \"Items/Consumables/Potions/Potion.blockymodel\",\n    \"CustomModelTexture\": [{\n      \"Texture\": \"Items/Consumables/Potions/Potion_Textures/Pink.png\",\n      \"Weight\": 1\n    }],\n    \"ParticleColor\": \"#f977be\",\n    \"Light\": { \"Color\": \"#414\" }\n  },\n  \"MaxStack\": 10,\n  \"DropOnDeath\": true\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Morph Potion\">\n```json title=\"Potion_Morph_Dog.json\" {8-10,38-52}\n{\n  \"Parent\": \"Potion_Template\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Potion_Morph_Dog.name\"\n  },\n  \"Icon\": \"Icons/ItemsGenerated/Potion_Purify.png\",\n  \"Recipe\": {\n    \"TimeSeconds\": 1,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ItemId\": \"Potion_Empty\", \"Quantity\": 1 },\n      { \"ItemId\": \"Ingredient_Life_Essence\", \"Quantity\": 10 },\n      { \"ItemId\": \"Ingredient_Bone_Fragment\", \"Quantity\": 1 }\n    ],\n    \"BenchRequirement\": [{\n      \"Id\": \"Alchemybench\",\n      \"Type\": \"Crafting\",\n      \"Categories\": [\"Alchemy_Potions_Misc\"]\n    }],\n    \"RequiredMemoriesLevel\": 4\n  },\n  \"Interactions\": {\n    \"Primary\": \"Block_Primary\",\n    \"Secondary\": \"Root_Secondary_Consume_Potion_Morph\"\n  },\n  \"InteractionVars\": {\n    \"RemoveEffect\": {\n      \"Interactions\": [{ \"Type\": \"Simple\" }]\n    },\n    \"Effect\": {\n      \"Interactions\": [{\n        \"Type\": \"ApplyEffect\",\n        \"EffectId\": \"Potion_Morph_Dog\"\n      }]\n    },\n    \"Stat_Check\": {\n      \"Interactions\": [{\n        \"Parent\": \"Stat_Check\",\n        \"Costs\": { \"Health\": 1 },\n        \"ValueType\": \"Percent\",\n        \"LessThan\": false\n      }]\n    }\n  },\n  \"BlockType\": {\n    \"CustomModel\": \"Items/Consumables/Potions/Potion.blockymodel\",\n    \"CustomModelTexture\": [{\n      \"Texture\": \"Items/Consumables/Potions/Potion_Textures/White.png\",\n      \"Weight\": 1\n    }],\n    \"ParticleColor\": \"#fafafb\"\n  },\n  \"MaxStack\": 10,\n  \"ItemLevel\": 50,\n  \"DropOnDeath\": true\n}\n```\n  \u003C/TabItem>\n\u003C/Tabs>\n\n## Effect System\n\nConsumables apply effects through the `ApplyEffect` interaction type.\n\n### Instant Effects\n\n```json title=\"Instant heal effect\"\n{\n  \"Type\": \"ApplyEffect\",\n  \"EffectId\": {\n    \"StatModifiers\": { \"Health\": 40 },\n    \"ValueType\": \"Percent\",\n    \"StatusEffectIcon\": \"UI/StatusEffects/Health_Potion.png\",\n    \"OverlapBehavior\": \"Extend\"\n  }\n}\n```\n\n### Duration Effects (Regeneration)\n\n```json title=\"Health regeneration over time\"\n{\n  \"Type\": \"ApplyEffect\",\n  \"EffectId\": {\n    \"StatModifiers\": { \"Health\": 5 },\n    \"Duration\": 2,\n    \"DamageCalculatorCooldown\": 4,\n    \"Debuff\": true,\n    \"StatusEffectIcon\": \"UI/StatusEffects/Health_Potion.png\",\n    \"OverlapBehavior\": \"Extend\"\n  }\n}\n```\n\n### Effect Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `StatModifiers` | `object` | Stats to modify (Health, Mana, Stamina) |\n| `Duration` | `number` | Effect duration in seconds |\n| `DamageCalculatorCooldown` | `number` | Cooldown between effect ticks |\n| `ValueType` | `string` | `\"Percent\"` or absolute |\n| `StatusEffectIcon` | `string` | Icon shown in status bar |\n| `OverlapBehavior` | `string` | How multiple effects interact (`\"Extend\"`, etc.) |\n| `Debuff` | `boolean` | Whether effect is negative |\n\n### Named Effects\n\nEffects can reference predefined effect IDs:\n\n| Effect ID | Description |\n|-----------|-------------|\n| `Food_Instant_Heal_T1` | Small instant heal |\n| `Food_Instant_Heal_T2` | Medium instant heal |\n| `Food_Instant_Heal_Bread` | Bread-specific healing |\n| `Food_Health_Regen_Small` | Small health regeneration |\n| `Potion_Morph_Dog` | Transform into dog |\n| `Potion_Morph_Frog` | Transform into frog |\n\n## Consume Interaction Tiers\n\nFood uses tiered consume interactions:\n\n| Interaction | Tier | Typical Use |\n|-------------|------|-------------|\n| `Root_Secondary_Consume_Food_T1` | Basic | Raw foods, simple items |\n| `Root_Secondary_Consume_Food_T2` | Standard | Cooked foods, prepared meals |\n| `Root_Secondary_Consume_Potion_Morph` | Special | Morph potions |\n\n## Stat Check System\n\nPotions can check stats before consumption:\n\n```json title=\"Stat check preventing overhealing\"\n{\n  \"Stat_Check\": {\n    \"Interactions\": [{\n      \"Parent\": \"Stat_Check\",\n      \"Costs\": { \"Health\": 100 },\n      \"ValueType\": \"Percent\",\n      \"LessThan\": true\n    }]\n  }\n}\n```\n\nThis prevents consuming health potions when already at full health.\n\n### Stat Check Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `Costs` | `object` | Stat threshold to check |\n| `ValueType` | `string` | `\"Percent\"` for percentage check |\n| `LessThan` | `boolean` | `true` = use only when below threshold |\n\n## Crafting Stations\n\nConsumables use specific crafting stations:\n\n| Station | Categories | Produces |\n|---------|------------|----------|\n| `Cookingbench` | `Baked`, `Prepared`, `Ingredients` | Food items |\n| `Alchemybench` | `Alchemy_Potions_*` | Potions |\n| `Farmingbench` | `Farming` | Basic ingredients |\n\n## Potion Colors\n\nPotions use color-coded textures in `Items/Consumables/Potions/Potion_Textures/`:\n\n| Color | Texture | Potion Type |\n|-------|---------|-------------|\n| Red | `Red.png` | Health |\n| Blue | `Blue.png` | Mana |\n| Green | `Green.png` | Stamina |\n| Pink | `Pink.png` | Regeneration, Signature |\n| White | `White.png` | Morph, Purify |\n| Purple | `Purple.png` | Poison |\n\n## Accessing Consumables in Code\n\n```java title=\"ConsumableExample.java\"\nimport com.hypixel.hytale.server.core.asset.type.item.config.Item;\n\npublic class ConsumableExample {\n    public void accessConsumables() {\n        // Get food item\n        Item bread = Item.getAssetMap().get(\"Food_Bread\");\n\n        // Get potion\n        Item healthPotion = Item.getAssetMap().get(\"Potion_Health\");\n\n        if (bread != null) {\n            // Check if consumable\n            boolean isConsumable = bread.isConsumable();\n            int maxStack = bread.getMaxStack();\n\n            // Get categories\n            String[] categories = bread.getCategories();\n            // Should contain \"Items.Foods\"\n        }\n\n        if (healthPotion != null) {\n            // Potions have \"Items.Potions\" category\n            boolean isPotion = Arrays.asList(healthPotion.getCategories())\n                .contains(\"Items.Potions\");\n        }\n    }\n}\n```\n\n## Creating Custom Consumables\n\n### Custom Food Item\n\n```json title=\"MyPlugin_Food_Custom.json\"\n{\n  \"Parent\": \"Template_Food\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.MyPlugin_Food_Custom.name\",\n    \"Description\": \"server.items.MyPlugin_Food_Custom.description\"\n  },\n  \"Quality\": \"Rare\",\n  \"Icon\": \"Icons/ItemsGenerated/MyPlugin_Food_Custom.png\",\n  \"Interactions\": {\n    \"Secondary\": \"Root_Secondary_Consume_Food_T2\"\n  },\n  \"BlockType\": {\n    \"Material\": \"Empty\",\n    \"DrawType\": \"Model\",\n    \"CustomModel\": \"MyPlugin/Food/Custom_Food.blockymodel\",\n    \"CustomModelTexture\": [{\n      \"Texture\": \"MyPlugin/Food/Custom_Food_Texture.png\",\n      \"Weight\": 1\n    }],\n    \"ParticleColor\": \"#ffcc00\"\n  },\n  \"InteractionVars\": {\n    \"Effect\": {\n      \"Interactions\": [{\n        \"Type\": \"ApplyEffect\",\n        \"EffectId\": {\n          \"StatModifiers\": { \"Health\": 25 },\n          \"ValueType\": \"Percent\",\n          \"StatusEffectIcon\": \"UI/StatusEffects/Health_Potion.png\",\n          \"OverlapBehavior\": \"Extend\"\n        }\n      }]\n    }\n  },\n  \"Recipe\": {\n    \"TimeSeconds\": 3,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Custom\", \"Quantity\": 2 },\n      { \"ResourceTypeId\": \"Fuel\", \"Quantity\": 1 }\n    ],\n    \"BenchRequirement\": [{\n      \"Type\": \"Crafting\",\n      \"Id\": \"Cookingbench\",\n      \"Categories\": [\"Prepared\"]\n    }]\n  },\n  \"Scale\": 1.2,\n  \"ItemLevel\": 15,\n  \"MaxStack\": 20,\n  \"DropOnDeath\": true\n}\n```\n\n### Custom Potion\n\n```json title=\"MyPlugin_Potion_Custom.json\"\n{\n  \"Parent\": \"Potion_Template\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.MyPlugin_Potion_Custom.name\"\n  },\n  \"Icon\": \"Icons/ItemsGenerated/MyPlugin_Potion_Custom.png\",\n  \"InteractionVars\": {\n    \"RemoveEffect\": {\n      \"Interactions\": [{ \"Type\": \"Simple\" }]\n    },\n    \"Effect\": {\n      \"Interactions\": [{\n        \"Type\": \"ApplyEffect\",\n        \"EffectId\": {\n          \"StatModifiers\": {\n            \"Health\": 20,\n            \"Stamina\": 30\n          },\n          \"Duration\": 5,\n          \"StatusEffectIcon\": \"UI/StatusEffects/MyPlugin_Custom_Buff.png\",\n          \"OverlapBehavior\": \"Extend\"\n        }\n      }]\n    },\n    \"Stat_Check\": {\n      \"Interactions\": [{\n        \"Parent\": \"Stat_Check\",\n        \"Costs\": { \"Health\": 100 },\n        \"ValueType\": \"Percent\",\n        \"LessThan\": true\n      }]\n    }\n  },\n  \"Recipe\": {\n    \"TimeSeconds\": 2,\n    \"Input\": [\n      { \"ItemId\": \"Potion_Empty\", \"Quantity\": 1 },\n      { \"ItemId\": \"MyPlugin_Ingredient\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [{\n      \"Id\": \"Alchemybench\",\n      \"Type\": \"Crafting\",\n      \"Categories\": [\"Alchemy_Potions_Misc\"]\n    }]\n  },\n  \"BlockType\": {\n    \"CustomModel\": \"Items/Consumables/Potions/Potion.blockymodel\",\n    \"CustomModelTexture\": [{\n      \"Texture\": \"MyPlugin/Potions/Custom_Texture.png\",\n      \"Weight\": 1\n    }],\n    \"ParticleColor\": \"#00ffaa\",\n    \"Light\": { \"Color\": \"#0a5\" }\n  },\n  \"MaxStack\": 10,\n  \"ItemLevel\": 25,\n  \"DropOnDeath\": true\n}\n```\n\n## Best Practices\n\n1. **Use templates**: Inherit from `Template_Food` or `Potion_Template`\n2. **Set appropriate MaxStack**: Food typically 25, potions typically 10\n3. **Include stat checks**: Prevent wasteful consumption at full stats\n4. **Provide consume sounds**: Use `ConsumeSFX` and `ConsumedSFX` for feedback\n5. **Balance healing values**: Follow tier progression (T1 \u003C T2 \u003C etc.)\n6. **Set DropOnDeath**: Most consumables should drop on death\n7. **Use color-coded textures**: Follow established potion color conventions\n8. **Prefix IDs**: Use plugin name prefix for all custom consumables\n\n## Related\n\n- [Item System Overview](/api-reference/assets/items/overview/) - General item documentation\n- [Weapons](/api-reference/assets/items/weapons/) - Combat item documentation\n- [Tools](/api-reference/assets/items/tools/) - Tool documentation\n- [Blockbench Setup](/tutorials/blockbench/setup/) - Creating consumable models\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Including assets in plugins","src/content/docs/api-reference/assets/items/consumables.mdx","dba9c4a5256ba24e","api-reference/assets/items/durability",{"id":608,"data":610,"body":615,"filePath":616,"digest":617,"deferredRender":16},{"title":611,"editUrl":16,"head":612,"template":52,"sidebar":613,"pagefind":16,"draft":42},"Durability & Quality",[],{"hidden":42,"attrs":614},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nThe durability and quality systems control item wear mechanics and rarity classification. Durability determines how long items last before breaking, while quality affects visual effects and inventory sorting.\n\n## Durability System\n\n### Core Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `MaxDurability` | `float` |  | Maximum durability points |\n| `DurabilityLossOnHit` | `float` |  | Durability lost per use |\n\n### Weapon Durability\n\nWeapons lose durability when hitting targets. The `DurabilityLossOnHit` value is subtracted from current durability on each successful hit.\n\n```json title=\"Weapon_Sword_Mithril.json (durability section)\"\n{\n  \"MaxDurability\": 220,\n  \"DurabilityLossOnHit\": 0.21\n}\n```\n\n**Calculation**: Hits until broken = `MaxDurability / DurabilityLossOnHit`\n- Mithril Sword: 220 / 0.21 = ~1048 hits\n\n### Tool Durability\n\nTools use a more complex durability system with per-block-type loss rates.\n\n```json title=\"Tool_Pickaxe_Mithril.json (durability section)\"\n{\n  \"MaxDurability\": 400.0,\n  \"Tool\": {\n    \"DurabilityLossBlockTypes\": [\n      {\n        \"BlockSets\": [\"Stone\", \"Rock\", \"Ores\", \"Soil\"],\n        \"DurabilityLossOnHit\": 0.25\n      }\n    ]\n  }\n}\n```\n\nTool-specific properties:\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `DurabilityLossBlockTypes` | `array` | Per-block-set durability loss |\n| `BlockSets` | `array` | Block categories that trigger this loss rate |\n| `DurabilityLossOnHit` | `float` | Loss when mining these blocks |\n\n### Armor Durability\n\nArmor pieces have durability that decreases when taking damage.\n\n```json title=\"Armor_Mithril_Chest.json (durability)\"\n{\n  \"MaxDurability\": 180\n}\n```\n\n### Durability by Tier\n\n#### Weapon Durability Progression\n\n| Material | MaxDurability | DurabilityLossOnHit | Approximate Hits |\n|----------|---------------|---------------------|------------------|\n| Scrap | 50 | 0.21 | ~238 |\n| Crude | 80 | 0.21 | ~381 |\n| Copper | 100 | 0.21 | ~476 |\n| Iron | 120 | 0.21 | ~571 |\n| Cobalt | 150 | 0.21 | ~714 |\n| Adamantite | 180 | 0.21 | ~857 |\n| Mithril | 220 | 0.21 | ~1048 |\n\n#### Tool Durability Progression\n\n| Material | MaxDurability |\n|----------|---------------|\n| Crude | 100 |\n| Copper | 150 |\n| Iron | 200 |\n| Steel | 280 |\n| Mithril | 400 |\n\n## Quality System\n\n### Quality Tiers\n\n| Quality | Description | Drop Effect Color |\n|---------|-------------|-------------------|\n| `Common` | Basic items |  |\n| `Uncommon` | Improved items | Green (`#e0ff7d`) |\n| `Rare` | Advanced items | Blue (`#7db2ff`) |\n| `Epic` | High-tier items | Purple (`#cb91ff`) |\n| `Legendary` | Top-tier items | Gold (`#ffdb91`) |\n| `Template` | Base templates (not for items) |  |\n\n### Quality in Item Definitions\n\n```json title=\"Weapon_Sword_Copper.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"Quality\": \"Common\",\n  \"ItemLevel\": 10,\n  \"MaxDurability\": 100\n}\n```\n\n```json title=\"Weapon_Sword_Mithril.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"Quality\": \"Epic\",\n  \"ItemLevel\": 50,\n  \"MaxDurability\": 220\n}\n```\n\n```json title=\"Weapon_Longsword_Flame.json\"\n{\n  \"Quality\": \"Legendary\",\n  \"ItemLevel\": 30,\n  \"DurabilityLossOnHit\": 0.52\n}\n```\n\n### Quality by Material\n\n#### Weapons\n\n| Material | Quality | Item Level |\n|----------|---------|------------|\n| Crude | Common | 8 |\n| Copper | Common | 10 |\n| Scrap | Uncommon | 15 |\n| Iron | Uncommon | 20 |\n| Bronze | Uncommon | 30 |\n| Steel | Uncommon | 30 |\n| Cobalt | Rare | 35 |\n| Adamantite | Rare | 40 |\n| Mithril | Epic | 50 |\n| Onyxium | Epic | 30 |\n| Flame (Special) | Legendary | 30 |\n\n#### Armor\n\n| Material | Quality |\n|----------|---------|\n| Cloth (Linen, Cotton, Wool, Silk) | Common |\n| Bronze | Uncommon |\n| Iron | Uncommon |\n| Steel | Uncommon |\n| Cobalt | Rare |\n| Adamantite | Rare |\n| Cindercloth | Rare |\n| Mithril | Epic |\n| Onyxium | Epic |\n\n### Item Level\n\nThe `ItemLevel` field indicates the relative power/tier of an item. Higher levels typically correlate with better stats and higher quality.\n\n| Item Level Range | Typical Quality |\n|------------------|-----------------|\n| 1-10 | Common |\n| 11-25 | Uncommon |\n| 26-39 | Rare |\n| 40-50+ | Epic/Legendary |\n\n## Visual Effects by Quality\n\nDropped items display visual effects based on their quality tier.\n\n### Drop Effects\n\n```json title=\"Drop_Uncommon.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"PostColorOpacity\": 0.0,\n  \"AnimationDuration\": 1.0,\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationRange\": { \"Y\": 1.0 },\n  \"UseBloomOnHighlight\": true,\n  \"HighlightThickness\": 0.5,\n  \"HighlightColor\": \"#e0ff7d\",\n  \"LoopOption\": \"Loop\"\n}\n```\n\n```json title=\"Drop_Rare.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"PostColorOpacity\": 0.0,\n  \"AnimationDuration\": 1.0,\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationRange\": { \"Y\": 1.0 },\n  \"UseBloomOnHighlight\": true,\n  \"HighlightThickness\": 1.0,\n  \"HighlightColor\": \"#7db2ff\",\n  \"LoopOption\": \"Loop\"\n}\n```\n\n```json title=\"Drop_Legendary.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"PostColorOpacity\": 0.0,\n  \"AnimationDuration\": 1.0,\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationRange\": { \"Y\": 1.0 },\n  \"UseBloomOnHighlight\": true,\n  \"HighlightThickness\": 5.0,\n  \"HighlightColor\": \"#ffdb91\",\n  \"LoopOption\": \"Loop\"\n}\n```\n\n### Effect Properties by Quality\n\n| Quality | Highlight Color | Thickness | Effect |\n|---------|-----------------|-----------|--------|\n| Common |  |  | No glow |\n| Uncommon | Green (`#e0ff7d`) | 0.5 | Subtle glow |\n| Rare | Blue (`#7db2ff`) | 1.0 | Medium glow |\n| Epic | Purple (`#cb91ff`) | 2.0 | Strong glow |\n| Legendary | Gold (`#ffdb91`) | 5.0 | Bright glow |\n\n## Creating Custom Items\n\n### Basic Durable Weapon\n\n```json title=\"MyPlugin_Weapon_Sword_Custom.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"Quality\": \"Rare\",\n  \"ItemLevel\": 35,\n  \"MaxDurability\": 160,\n  \"DurabilityLossOnHit\": 0.21,\n  \"Model\": \"MyPlugin/Weapons/Sword_Custom.blockymodel\",\n  \"Texture\": \"MyPlugin/Weapons/Sword_Custom_Texture.png\"\n}\n```\n\n### High-Durability Tool\n\n```json title=\"MyPlugin_Tool_Pickaxe_Custom.json\"\n{\n  \"Parent\": \"Tool_Pickaxe_Crude\",\n  \"Quality\": \"Epic\",\n  \"ItemLevel\": 45,\n  \"MaxDurability\": 500.0,\n  \"Tool\": {\n    \"DurabilityLossBlockTypes\": [\n      {\n        \"BlockSets\": [\"Stone\", \"Rock\", \"Ores\"],\n        \"DurabilityLossOnHit\": 0.15\n      },\n      {\n        \"BlockSets\": [\"Soil\"],\n        \"DurabilityLossOnHit\": 0.10\n      }\n    ]\n  }\n}\n```\n\n### Legendary Item with Custom Effects\n\n```json title=\"MyPlugin_Weapon_Special.json\"\n{\n  \"Quality\": \"Legendary\",\n  \"ItemLevel\": 50,\n  \"MaxDurability\": 300,\n  \"DurabilityLossOnHit\": 0.35,\n  \"InteractionVars\": {\n    \"Swing_Damage\": {\n      \"Interactions\": [\n        {\n          \"DamageCalculator\": {\n            \"BaseDamage\": { \"Fire\": 45 },\n            \"RandomPercentageModifier\": 0.15\n          }\n        }\n      ]\n    }\n  },\n  \"Light\": {\n    \"Radius\": 1,\n    \"Color\": \"#621\"\n  }\n}\n```\n\n## Durability Patterns\n\n### Balancing Guidelines\n\n1. **Durability scales with tier** - Higher-tier items last longer\n2. **Loss rate is consistent** - Most weapons use 0.21 loss per hit\n3. **Special items may vary** - Legendary items can have different loss rates\n4. **Tools use block-specific rates** - Different blocks cause different wear\n\n### Standard Loss Rates\n\n| Item Type | Typical DurabilityLossOnHit |\n|-----------|----------------------------|\n| Swords | 0.21 |\n| Maces | 0.21 |\n| Daggers | 0.21 |\n| Battleaxes | 0.21 |\n| Bows | 0.15 |\n| Pickaxes (Stone/Rock) | 0.25 |\n| Pickaxes (Soil) | 0.25 |\n| Axes (Wood) | 0.25 |\n\n### Formula Reference\n\n```\nHits Until Broken = MaxDurability / DurabilityLossOnHit\n\nExample:\nIron Sword: 120 / 0.21 = 571 hits\nMithril Sword: 220 / 0.21 = 1048 hits\n```\n\n## Best Practices\n\n1. **Match quality to power** - Higher ItemLevel items should have higher Quality\n2. **Scale durability appropriately** - More powerful items should last longer\n3. **Use consistent loss rates** - Follow game patterns for weapon types\n4. **Consider tool specialization** - Different loss rates for different block types\n5. **Test in-game** - Verify durability feels right during gameplay\n6. **Balance crafting costs** - Higher durability items should cost more to craft\n\n## Related\n\n- [Items Overview](/api-reference/assets/items/overview/) - Item definitions\n- [Weapons](/api-reference/assets/items/weapons/) - Weapon configurations\n- [Tools](/api-reference/assets/items/tools/) - Tool configurations\n- [Armor](/api-reference/assets/items/armor/) - Armor configurations\n- [Recipes](/api-reference/assets/items/recipes/) - Crafting recipes\n- [Model Effects](/api-reference/assets/vfx/model-effects/) - Visual effects for rarity","src/content/docs/api-reference/assets/items/durability.mdx","e12a7f1f68873aa0","api-reference/assets/items/overview",{"id":618,"data":620,"body":625,"filePath":626,"digest":627,"deferredRender":16},{"title":621,"editUrl":16,"head":622,"template":52,"sidebar":623,"pagefind":16,"draft":42},"Item System Overview",[],{"hidden":42,"attrs":624},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Card, CardGrid, LinkCard, Tabs, TabItem, FileTree, Badge } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of extracted game assets and decompiled source code.\nVerify all information against actual asset files before use in production.\n\u003C/Aside>\n\nThe Item System is the core framework for defining all holdable objects in Hytale, including weapons, tools, armor, consumables, and placeable blocks. Items are defined in JSON files and can include custom models, textures, interactions, and crafting recipes.\n\n## Package Location\n\n`com.hypixel.hytale.server.core.asset.type.item.config.Item`\n\n## Asset Directory Structure\n\n\u003CFileTree>\n- Assets/\n  - Server/\n    - Item/\n      - Items/              # Item definitions organized by category\n        - Armor/            # Armor pieces (helmets, chestplates, etc.)\n        - Bench/            # Crafting stations\n        - Consumables/      # Food and potions (implied)\n        - Tool/             # Pickaxes, shovels, hoes\n        - Weapon/           # Combat weapons (23 categories)\n          - Sword/\n          - Shortbow/\n          - Axe/\n          - ...\n      - Interactions/       # Behavior definitions (1,316 files)\n      - RootInteractions/   # Top-level interaction trees\n      - Categories/         # Category metadata\n      - Qualities/          # Quality tier definitions\n  - Common/\n    - Items/                # Client-side models and textures\n      - Weapons/\n        - Sword/\n        - Bow/\n        - ...\n    - Icons/\n      - ItemsGenerated/     # Auto-generated item icons\n\u003C/FileTree>\n\n## Item Categories\n\nHytale organizes items into 39 distinct categories:\n\n\u003CCardGrid>\n  \u003CCard title=\"Weapons\" icon=\"warning\">\n    23 weapon types including swords, bows, staves, and more. Combat-focused items with attack interactions.\n  \u003C/Card>\n  \u003CCard title=\"Tools\" icon=\"seti:config\">\n    Mining and utility tools: pickaxes, shovels, hoes, shears. Used for resource gathering.\n  \u003C/Card>\n  \u003CCard title=\"Armor\" icon=\"seti:less\">\n    Protective equipment: helmets, chestplates, leggings, boots. Provides defense stats.\n  \u003C/Card>\n  \u003CCard title=\"Consumables\" icon=\"heart\">\n    Food, potions, and other items that are consumed on use. Provides buffs or restores stats.\n  \u003C/Card>\n\u003C/CardGrid>\n\n### Complete Category List\n\n| Category | Description | Example |\n|----------|-------------|---------|\n| `Armor` | Protective equipment | Helmets, chestplates |\n| `Bench` | Crafting stations | Weapon_Bench, Forge |\n| `Bone` | Bone materials | Bone fragments |\n| `Container` | Storage items | Chests, bags |\n| `Deco` | Decorative items | Furniture, ornaments |\n| `Fish` | Caught fish | Various fish types |\n| `Food` | Edible items | Cooked meat, vegetables |\n| `Furniture` | Placeable furniture | Chairs, tables |\n| `Glider` | Flying equipment | Gliders |\n| `Ingredient` | Crafting materials | Bars, leather, fabric |\n| `Ore` | Raw minerals | Iron ore, copper ore |\n| `Plant` | Harvestable plants | Crops, flowers |\n| `Potion` | Consumable buffs | Health potions |\n| `Tool` | Utility tools | Pickaxe, shovel |\n| `Weapon` | Combat items | Swords, bows, staves |\n\n## JSON Schema Reference\n\n### Required Fields\n\n| Field | Type | Description |\n|-------|------|-------------|\n| *No required fields* | - | Items can inherit everything from `Parent` |\n\n### Core Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `Parent` | `string` | - | Template to inherit from |\n| `TranslationProperties` | `object` | - | Localization keys |\n| `Model` | `string` | - | Path to `.blockymodel` file |\n| `Texture` | `string` | `\"Items/Unknown.png\"` | Path to texture file |\n| `Icon` | `string` | - | Path to icon image |\n| `Quality` | `string` | - | Quality tier (Common, Uncommon, etc.) |\n| `ItemLevel` | `integer` | `0` | Level requirement |\n| `MaxStack` | `integer` | `100` or `1` | Maximum stack size |\n| `Categories` | `string[]` | - | Item categories for library menu |\n| `Tags` | `object` | - | Type and family classification |\n\n### Rendering Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `PlayerAnimationsId` | `string` | `\"Default\"` | Animation set for player |\n| `DroppedItemAnimation` | `string` | - | Animation when item is dropped |\n| `Scale` | `number` | `1.0` | Model scale factor |\n| `Particles` | `array` | - | Particle effects on item |\n| `Trails` | `array` | - | Trail effects |\n| `Light` | `object` | - | Emitted light color/intensity |\n| `Reticle` | `string` | - | Crosshair type when held |\n\n### Durability Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `MaxDurability` | `number` | `0` | Maximum durability (0 = unbreakable) |\n| `DurabilityLossOnHit` | `number` | `0` | Durability lost per hit |\n\n### Interaction Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Interactions` | `object` | Maps interaction types (Primary, Secondary, Ability1) to root interactions |\n| `InteractionVars` | `object` | Variables for damage, effects, and behaviors |\n| `InteractionConfig` | `object` | Additional interaction configuration |\n\n### Special Item Types\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Weapon` | `object` | Weapon-specific configuration |\n| `Tool` | `object` | Tool-specific configuration |\n| `Armor` | `object` | Armor stats and slots |\n| `Glider` | `object` | Glider configuration |\n| `Utility` | `object` | Utility item settings |\n| `Consumable` | `boolean` | Whether item is consumed on use |\n\n## Quality Tiers\n\nItems have quality tiers that affect their visual presentation and stats:\n\n| Quality | Color | Description |\n|---------|-------|-------------|\n| `Template` | - | Base template (not for players) |\n| `Common` | White | Basic items |\n| `Uncommon` | Green | Slightly better items |\n| `Rare` | Blue | Valuable items |\n| `Epic` | Purple | High-tier items |\n| `Legendary` | Orange | Best-in-class items |\n\n## Template Inheritance\n\nItems use a parent-child inheritance system via the `Parent` field:\n\n```json title=\"Weapon_Sword_Iron.json\" {2}\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Weapon_Sword_Iron.name\"\n  },\n  \"Model\": \"Items/Weapons/Sword/Iron.blockymodel\",\n  \"Texture\": \"Items/Weapons/Sword/Iron_Texture.png\",\n  \"Quality\": \"Uncommon\",\n  \"ItemLevel\": 20,\n  \"MaxDurability\": 120\n}\n```\n\nThe child item inherits all properties from the template and only needs to override specific values.\n\n### Template Files\n\nTemplates are located alongside regular items with the naming convention `Template_*.json`:\n\n| Template | Location | Purpose |\n|----------|----------|---------|\n| `Template_Weapon_Sword` | `Weapon/Sword/` | Base sword with attack patterns |\n| `Template_Weapon_Shortbow` | `Weapon/Shortbow/` | Base bow with charge mechanics |\n| `Template_Weapon_Mace` | `Weapon/Mace/` | Base mace with stun effects |\n| `Template_Weapon_Daggers` | `Weapon/Daggers/` | Base daggers with quick attacks |\n| `Template_Weapon_Shield` | `Weapon/Shield/` | Base shield with blocking |\n| `Template_Weapon_Crossbow` | `Weapon/Crossbow/` | Base crossbow mechanics |\n| `Template_Weapon_Battleaxe` | `Weapon/Battleaxe/` | Base battleaxe with heavy attacks |\n\n## Basic Item Example\n\n\u003CTabs>\n  \u003CTabItem label=\"Minimal Item\">\n```json title=\"MyPlugin_Simple_Item.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.MyPlugin_Simple_Item.name\"\n  },\n  \"Model\": \"Items/Misc/Simple_Item.blockymodel\",\n  \"Texture\": \"Items/Misc/Simple_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/MyPlugin_Simple_Item.png\",\n  \"Quality\": \"Common\",\n  \"MaxStack\": 64,\n  \"Categories\": [\"Items.Misc\"]\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"With Recipe\">\n```json title=\"MyPlugin_Crafted_Item.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.MyPlugin_Crafted_Item.name\"\n  },\n  \"Model\": \"Items/Misc/Crafted_Item.blockymodel\",\n  \"Texture\": \"Items/Misc/Crafted_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/MyPlugin_Crafted_Item.png\",\n  \"Quality\": \"Uncommon\",\n  \"MaxStack\": 32,\n  \"Categories\": [\"Items.Misc\"],\n  \"Recipe\": {\n    \"TimeSeconds\": 2.0,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 2 },\n      { \"ItemId\": \"Ingredient_Wood\", \"Quantity\": 4 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Categories\": [\"Basic\"],\n        \"Id\": \"Crafting_Table\"\n      }\n    ]\n  }\n}\n```\n  \u003C/TabItem>\n\u003C/Tabs>\n\n## Accessing Items in Code\n\n```java title=\"ItemExample.java\"\nimport com.hypixel.hytale.server.core.asset.type.item.config.Item;\nimport com.hypixel.hytale.assetstore.map.DefaultAssetMap;\n\npublic class ItemExample {\n    public void accessItems() {\n        // Get the item asset map\n        DefaultAssetMap\u003CString, Item> itemMap = Item.getAssetMap();\n\n        // Get a specific item by ID\n        Item ironSword = itemMap.get(\"Weapon_Sword_Iron\");\n\n        // Check if item exists\n        boolean exists = itemMap.containsKey(\"MyPlugin_Custom_Item\");\n\n        // Get all item IDs\n        Set\u003CString> allItems = itemMap.keySet();\n\n        // Get item properties\n        if (ironSword != null) {\n            String model = ironSword.getModel();\n            double durability = ironSword.getMaxDurability();\n            int maxStack = ironSword.getMaxStack();\n            String[] categories = ironSword.getCategories();\n        }\n    }\n}\n```\n\n## Icon Properties\n\nControl how items appear in the inventory UI:\n\n```json title=\"IconProperties example\"\n{\n  \"IconProperties\": {\n    \"Scale\": 0.35,\n    \"Translation\": [-22, -22],\n    \"Rotation\": [45, 90, 0]\n  }\n}\n```\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `Scale` | `number` | Icon size multiplier |\n| `Translation` | `[x, y]` | Pixel offset in UI |\n| `Rotation` | `[x, y, z]` | Euler rotation angles |\n\n## Item Appearance Conditions\n\nItems can change appearance based on entity stats:\n\n```json title=\"Appearance conditions for durability\"\n{\n  \"ItemAppearanceConditions\": {\n    \"Health\": [\n      {\n        \"Condition\": [0, 20],\n        \"Model\": \"Items/Weapons/Axe/Iron.blockymodel\",\n        \"Texture\": \"Items/Weapons/Axe/Iron_Texture.png\",\n        \"Particles\": [{ \"SystemId\": \"Torch_Fire\" }]\n      },\n      {\n        \"Condition\": [21, 40],\n        \"Texture\": \"Items/Weapons/Axe/Iron_Rusty_Texture.png\",\n        \"Particles\": [{ \"SystemId\": \"Torch_Fire\" }]\n      }\n    ]\n  }\n}\n```\n\nThis allows visual degradation as items lose durability, or special effects when signature abilities are charged.\n\n## Best Practices\n\n1. **Use plugin prefix**: Always prefix custom item IDs with your plugin name (e.g., `MyPlugin_Sword`)\n2. **Inherit from templates**: Use the `Parent` field to reduce duplication\n3. **Provide icons**: Always include an `Icon` path for inventory display\n4. **Set appropriate MaxStack**: Weapons/tools should be `1`, materials can be `100`\n5. **Use quality tiers**: Match quality to item power for consistent progression\n6. **Test durability**: Verify `MaxDurability` and `DurabilityLossOnHit` values feel balanced\n\n## Related\n\n- [Weapons](/api-reference/assets/items/weapons/) - Detailed weapon documentation\n- [Registries](/core-concepts/registries/) - How items are registered\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Including assets in plugins\n- [Blockbench Setup](/tutorials/blockbench/setup/) - Creating item models","src/content/docs/api-reference/assets/items/overview.mdx","d68e063338005f63","api-reference/assets/items/recipes",{"id":628,"data":630,"body":635,"filePath":636,"digest":637,"deferredRender":16},{"title":631,"editUrl":16,"head":632,"template":52,"sidebar":633,"pagefind":16,"draft":42},"Recipe System",[],{"hidden":42,"attrs":634},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nThe recipe system defines crafting requirements for items. Recipes are embedded directly in item definitions and specify input materials, output items, crafting bench requirements, and processing time.\n\n## Recipe Location\n\nRecipes are defined within item JSON files under the `Recipe` property:\n\n\u003CFileTree>\n- Assets/Server/Item/Items/\n  - Weapon/\n    - Sword/\n      - Weapon_Sword_Iron.json (contains Recipe)\n    - Mace/\n    - Dagger/\n  - Armor/\n    - Iron/\n      - Armor_Iron_Chest.json (contains Recipe)\n  - Food/\n    - Food_Bread.json (contains Recipe)\n    - Food_Pie_Apple.json (contains Recipe)\n  - Tool/\n  - Ingredient/\n\u003C/FileTree>\n\n## Recipe Schema\n\n### Core Properties\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `Input` | `array` | Yes | Required materials |\n| `Output` | `array` | No | Produced items (defaults to containing item) |\n| `BenchRequirement` | `array` | No | Required crafting stations |\n| `TimeSeconds` | `float` | No | Crafting duration in seconds |\n| `KnowledgeRequired` | `bool` | No | Requires recipe knowledge |\n\n### Input Entry\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `ItemId` | `string` | Item ID to consume |\n| `ResourceTypeId` | `string` | Resource type (e.g., `Fuel`) |\n| `Quantity` | `int` | Amount required |\n\n### Output Entry\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `ItemId` | `string` | Item ID to produce |\n| `Quantity` | `int` | Amount produced (default: 1) |\n\n### Bench Requirement\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Id` | `string` | Crafting bench ID |\n| `Type` | `string` | Requirement type |\n| `Categories` | `array` | Recipe categories this bench supports |\n| `RequiredTierLevel` | `int` | Minimum bench tier level |\n\n## Requirement Types\n\n| Type | Description |\n|------|-------------|\n| `Crafting` | Standard crafting bench |\n| `DiagramCrafting` | Requires unlocked diagram |\n\n## Examples\n\n### Weapon Recipe\n\n```json title=\"Weapon_Sword_Iron.json (Recipe section)\"\n{\n  \"Recipe\": {\n    \"TimeSeconds\": 3.5,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      {\n        \"ItemId\": \"Ingredient_Bar_Iron\",\n        \"Quantity\": 6\n      },\n      {\n        \"ItemId\": \"Ingredient_Leather_Light\",\n        \"Quantity\": 3\n      },\n      {\n        \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\",\n        \"Quantity\": 3\n      }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Categories\": [\"Weapon_Sword\"],\n        \"Id\": \"Weapon_Bench\"\n      }\n    ]\n  }\n}\n```\n\nKey elements:\n- **3.5 second** crafting time\n- **No knowledge required** - recipe is known by default\n- **Weapon Bench** required with sword crafting capability\n\n### Multiple Bench Options\n\n```json title=\"Weapon_Mace_Iron.json (Recipe section)\"\n{\n  \"Recipe\": {\n    \"TimeSeconds\": 3.5,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 10 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 4 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Categories\": [\"Weapon_Mace\"],\n        \"Id\": \"Weapon_Bench\"\n      },\n      {\n        \"Type\": \"DiagramCrafting\",\n        \"Categories\": [\"Weapons.Mace\"],\n        \"Id\": \"Armory\"\n      }\n    ]\n  }\n}\n```\n\nThis recipe can be crafted at:\n1. **Weapon_Bench** - standard crafting\n2. **Armory** - requires unlocked diagram\n\n### Armor Recipe\n\n```json title=\"Armor_Iron_Chest.json (Recipe section)\"\n{\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 16 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 7 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 6 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Id\": \"Armor_Bench\",\n        \"Type\": \"Crafting\",\n        \"Categories\": [\"Armor_Chest\"]\n      }\n    ],\n    \"KnowledgeRequired\": false,\n    \"TimeSeconds\": 3\n  }\n}\n```\n\n### Food Recipe with Resource Type\n\n```json title=\"Food_Bread.json (Recipe section)\"\n{\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Dough\", \"Quantity\": 1 },\n      { \"ResourceTypeId\": \"Fuel\", \"Quantity\": 3 }\n    ],\n    \"Output\": [\n      { \"ItemId\": \"Food_Bread\" }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Id\": \"Cookingbench\",\n        \"Categories\": [\"Baked\"]\n      }\n    ],\n    \"TimeSeconds\": 5\n  }\n}\n```\n\nKey features:\n- **ResourceTypeId** instead of ItemId - accepts any fuel type\n- **Explicit Output** - specifies what is produced\n\n### Complex Recipe with Knowledge\n\n```json title=\"Food_Pie_Apple.json (Recipe section)\"\n{\n  \"Recipe\": {\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Dough\", \"Quantity\": 1 },\n      { \"ItemId\": \"Plant_Fruit_Apple\", \"Quantity\": 3 },\n      { \"ItemId\": \"Ingredient_Spices\", \"Quantity\": 1 },\n      { \"ResourceTypeId\": \"Fuel\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Id\": \"Cookingbench\",\n        \"Categories\": [\"Baked\"]\n      }\n    ],\n    \"TimeSeconds\": 5,\n    \"KnowledgeRequired\": true\n  }\n}\n```\n\n**KnowledgeRequired: true** - Recipe must be discovered/unlocked before crafting.\n\n## Crafting Benches\n\n### Common Bench IDs\n\n| Bench ID | Description | Common Categories |\n|----------|-------------|-------------------|\n| `Weapon_Bench` | Weapon crafting | `Weapon_Sword`, `Weapon_Mace`, `Weapon_Dagger` |\n| `Armor_Bench` | Armor crafting | `Armor_Head`, `Armor_Chest`, `Armor_Legs`, `Armor_Hands` |\n| `Cookingbench` | Food preparation | `Baked`, `Cooked`, `Prepared` |\n| `Armory` | Advanced weapons | `Weapons.Sword`, `Weapons.Mace`, `Weapons.Bow` |\n| `Forgery` | Smithing | Various |\n| `Workbench` | General crafting | Various |\n\n### Bench Tiers\n\nBenches can have tier levels that unlock more advanced recipes:\n\n```json\n{\n  \"BenchRequirement\": [\n    {\n      \"Id\": \"Weapon_Bench\",\n      \"Type\": \"Crafting\",\n      \"RequiredTierLevel\": 1\n    }\n  ]\n}\n```\n\n## Resource Types\n\nResource types allow recipes to accept any item of a specific category:\n\n| ResourceTypeId | Description |\n|----------------|-------------|\n| `Fuel` | Coal, wood, or other fuel sources |\n\n```json\n{\n  \"Input\": [\n    {\n      \"ResourceTypeId\": \"Fuel\",\n      \"Quantity\": 3\n    }\n  ]\n}\n```\n\n## Recipe Categories\n\nCategories group recipes by type for bench filtering:\n\n### Weapon Categories\n- `Weapon_Sword`\n- `Weapon_Mace`\n- `Weapon_Dagger`\n- `Weapon_Battleaxe`\n- `Weapon_Bow`\n- `Weapon_Crossbow`\n- `Weapon_Shield`\n\n### Armor Categories\n- `Armor_Head`\n- `Armor_Chest`\n- `Armor_Legs`\n- `Armor_Hands`\n\n### Food Categories\n- `Baked`\n- `Cooked`\n- `Prepared`\n\n### Diagram Categories\n- `Weapons.Sword`\n- `Weapons.Mace`\n- `Weapons.Bow`\n- `Armors.Head`\n- `Armors.Chest`\n\n## Common Ingredients\n\n### Metals\n\n| Ingredient | Description |\n|------------|-------------|\n| `Ingredient_Bar_Copper` | Copper bar |\n| `Ingredient_Bar_Bronze` | Bronze bar |\n| `Ingredient_Bar_Iron` | Iron bar |\n| `Ingredient_Bar_Steel` | Steel bar |\n| `Ingredient_Bar_Cobalt` | Cobalt bar |\n| `Ingredient_Bar_Mithril` | Mithril bar |\n| `Ingredient_Bar_Adamantite` | Adamantite bar |\n| `Ingredient_Bar_Thorium` | Thorium bar |\n| `Ingredient_Bar_Onyxium` | Onyxium bar |\n\n### Materials\n\n| Ingredient | Description |\n|------------|-------------|\n| `Ingredient_Leather_Light` | Light leather |\n| `Ingredient_Leather_Medium` | Medium leather |\n| `Ingredient_Leather_Heavy` | Heavy leather |\n| `Ingredient_Fabric_Scrap_Linen` | Linen fabric |\n| `Ingredient_Fabric_Scrap_Wool` | Wool fabric |\n| `Ingredient_Fabric_Scrap_Silk` | Silk fabric |\n| `Ingredient_Fabric_Scrap_Cotton` | Cotton fabric |\n\n### Food\n\n| Ingredient | Description |\n|------------|-------------|\n| `Ingredient_Dough` | Bread dough |\n| `Ingredient_Spices` | Cooking spices |\n| `Ingredient_Flour` | Ground flour |\n\n## Creating Custom Recipes\n\n### Basic Recipe\n\n```json title=\"MyPlugin_Weapon_Custom.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"Recipe\": {\n    \"TimeSeconds\": 4.0,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 8 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 4 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Id\": \"Weapon_Bench\",\n        \"Categories\": [\"Weapon_Sword\"]\n      }\n    ]\n  }\n}\n```\n\n### Recipe with Multiple Outputs\n\n```json\n{\n  \"Recipe\": {\n    \"TimeSeconds\": 2.0,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Raw_Material\", \"Quantity\": 5 }\n    ],\n    \"Output\": [\n      { \"ItemId\": \"MyPlugin_Item_A\", \"Quantity\": 2 },\n      { \"ItemId\": \"MyPlugin_Item_B\", \"Quantity\": 1 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Id\": \"Workbench\",\n        \"Categories\": [\"General\"]\n      }\n    ]\n  }\n}\n```\n\n### Tiered Bench Recipe\n\n```json\n{\n  \"Recipe\": {\n    \"TimeSeconds\": 5.0,\n    \"KnowledgeRequired\": true,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Mithril\", \"Quantity\": 12 },\n      { \"ItemId\": \"Ingredient_Leather_Heavy\", \"Quantity\": 6 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Id\": \"Weapon_Bench\",\n        \"Categories\": [\"Weapon_Sword\"],\n        \"RequiredTierLevel\": 2\n      }\n    ]\n  }\n}\n```\n\n### Fuel-Based Recipe\n\n```json\n{\n  \"Recipe\": {\n    \"TimeSeconds\": 8.0,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Ore_Iron\", \"Quantity\": 3 },\n      { \"ResourceTypeId\": \"Fuel\", \"Quantity\": 5 }\n    ],\n    \"Output\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 1 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Id\": \"Forgery\",\n        \"Categories\": [\"Smelting\"]\n      }\n    ]\n  }\n}\n```\n\n## Recipe Patterns by Tier\n\n### Weapon Tier Progression\n\n| Tier | Metal | Leather | Fabric | Time |\n|------|-------|---------|--------|------|\n| T1 (Copper) | 4 | 2 | 2 | 2.5s |\n| T2 (Iron) | 6 | 3 | 3 | 3.5s |\n| T3 (Steel) | 8 | 4 | 4 | 4.5s |\n| T4 (Cobalt) | 10 | 5 | 5 | 5.5s |\n| T5 (Mithril) | 12 | 6 | 6 | 6.5s |\n\n### Armor Tier Progression\n\n| Piece | Metal Multiplier | Leather Multiplier |\n|-------|------------------|--------------------|\n| Head | 1.0x | 0.5x |\n| Chest | 2.0x | 1.0x |\n| Legs | 1.5x | 0.75x |\n| Hands | 0.5x | 0.25x |\n\n## Best Practices\n\n1. **Balance input costs** - Higher tier items should cost more\n2. **Scale crafting time** - Complex items take longer\n3. **Use appropriate benches** - Match bench to item type\n4. **Consider knowledge** - Advanced recipes should require discovery\n5. **Test resource availability** - Ensure ingredients are obtainable\n6. **Use resource types** - Allow flexibility with fuel types\n7. **Provide bench alternatives** - Multiple crafting paths when appropriate\n\n## Related\n\n- [Items Overview](/api-reference/assets/items/overview/) - Item definitions\n- [Weapons](/api-reference/assets/items/weapons/) - Weapon configurations\n- [Armor](/api-reference/assets/items/armor/) - Armor configurations\n- [Consumables](/api-reference/assets/items/consumables/) - Consumable items\n- [Combat System](/api-reference/assets/items/combat/) - Combat mechanics","src/content/docs/api-reference/assets/items/recipes.mdx","36baacae1d08a551","api-reference/assets/items/tools",{"id":638,"data":640,"body":645,"filePath":646,"digest":647,"deferredRender":16},{"title":641,"editUrl":16,"head":642,"template":52,"sidebar":643,"pagefind":16,"draft":42},"Tools",[],{"hidden":42,"attrs":644},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Card, CardGrid, LinkCard, Tabs, TabItem, FileTree, Badge } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of 48 tool definition files in `/Assets/Server/Item/Items/Tool/`.\nVerify all information against actual asset files before use in production.\n\u003C/Aside>\n\nTools are utility items designed for resource gathering, farming, and world interaction. Unlike weapons, tools have specialized `Tool` configuration that determines their effectiveness against different block types.\n\n## Asset Location\n\n**Server Definitions:** `Assets/Server/Item/Items/Tool/[Category]/`\n**Client Models:** `Assets/Common/Items/Tools/[Category]/`\n\n## Tool Categories\n\nHytale includes 13 tool categories with 48 total tool definitions:\n\n### Gathering Tools\n\n| Category | Files | Purpose |\n|----------|-------|---------|\n| Pickaxe | 7 | Mining rocks, ores, and stone blocks |\n| Hatchet | 10 | Chopping wood and wooden structures |\n| Shovel | 5 | Digging soil and soft ground |\n| Shears | 1 | Harvesting plants and wool |\n\n### Farming Tools\n\n| Category | Files | Purpose |\n|----------|-------|---------|\n| Hoe | 3 | Tilling soil for farming |\n| Sickle | 1 | Harvesting crops |\n| Watering Can | 1 | Watering plants |\n\n### Utility Tools\n\n| Category | Files | Purpose |\n|----------|-------|---------|\n| Hammer | 2 | Cycling through block variants |\n| Repair Kit | 3 | Repairing damaged items |\n| Capture Crate | 1 | Capturing NPCs |\n| Feedbag | 1 | Feeding animals |\n| Fishing Trap | 1 | Catching fish (placeable) |\n\n### Specialized\n\n| Category | Files | Purpose |\n|----------|-------|---------|\n| Prototype | 1 | Development/testing tool |\n| Misc | 5 | Map, Growth Potion, Sap Shunt, Trap Bait |\n\n## JSON Schema Reference\n\n### Core Tool Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Parent` | `string` | Template to inherit from |\n| `TranslationProperties` | `object` | Localization configuration |\n| `Model` | `string` | Path to `.blockymodel` file |\n| `Texture` | `string` | Path to texture file |\n| `Icon` | `string` | Path to inventory icon |\n| `Quality` | `string` | Quality tier |\n| `ItemLevel` | `integer` | Level requirement |\n| `Categories` | `string[]` | Should include `\"Items.Tools\"` |\n| `Tags` | `object` | Type classification |\n\n### Tool-Specific Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `Tool` | `object` | - | Tool configuration with `Specs` array |\n| `Tool.Specs` | `array` | - | Gathering power per block type |\n| `Tool.DurabilityLossBlockTypes` | `array` | - | Durability loss per block set |\n| `MaxDurability` | `number` | `100` | Maximum durability |\n| `PlayerAnimationsId` | `string` | - | Animation set (Pickaxe, Hoe, etc.) |\n| `Utility` | `object` | - | Utility item settings |\n\n### GatherType Values\n\nThe `Tool.Specs` array defines gathering effectiveness:\n\n| GatherType | Description | Primary Tool |\n|------------|-------------|--------------|\n| `SoftBlocks` | Soft blocks like plants | All tools (Power: 1) |\n| `Soils` | Dirt, sand, gravel | Shovel |\n| `Woods` | Trees, wooden blocks | Hatchet |\n| `Rocks` | Stone, rock formations | Pickaxe |\n| `Benches` | Crafting stations | All tools |\n| `VolcanicRocks` | Volcanic stone | Pickaxe (reduced) |\n| `Ores` | Ore deposits | Pickaxe |\n\n## Tool Specs System\n\nThe `Tool.Specs` array determines how effective a tool is against different block types:\n\n```json title=\"Tool Specs structure\"\n{\n  \"Tool\": {\n    \"Specs\": [\n      {\n        \"Power\": 1,\n        \"GatherType\": \"SoftBlocks\"\n      },\n      {\n        \"Power\": 0.5,\n        \"GatherType\": \"Rocks\",\n        \"HitSoundLayer\": \"SFX_Pickaxe_T2_Impact_Nice\"\n      }\n    ],\n    \"DurabilityLossBlockTypes\": [\n      {\n        \"BlockSets\": [\"Stone\", \"Rock\", \"Ores\", \"Soil\"],\n        \"DurabilityLossOnHit\": 0.25\n      }\n    ]\n  }\n}\n```\n\n### Power Values\n\n| Power | Effectiveness |\n|-------|---------------|\n| `1.0` | Full speed gathering |\n| `0.5` | Half speed (secondary use) |\n| `0.25-0.35` | Reduced effectiveness |\n| `0.05` | Minimal (wrong tool type) |\n| `0.017-0.084` | Very low (volcanic rocks) |\n\n## Complete Tool Examples\n\n### Pickaxe (Mining Tool)\n\n\u003CTabs>\n  \u003CTabItem label=\"Iron Pickaxe\">\n```json title=\"Tool_Pickaxe_Iron.json\" {6,38-77}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Tool_Pickaxe_Iron.name\",\n    \"Description\": \"server.items.Tool_Pickaxe_Crude.description\"\n  },\n  \"Parent\": \"Tool_Pickaxe_Crude\",\n  \"Icon\": \"Icons/ItemsGenerated/Tool_Pickaxe_Iron.png\",\n  \"Quality\": \"Uncommon\",\n  \"ItemLevel\": 20,\n  \"Model\": \"Items/Tools/Pickaxe/Iron.blockymodel\",\n  \"Texture\": \"Items/Tools/Pickaxe/Iron_Texture.png\",\n  \"Recipe\": {\n    \"TimeSeconds\": 3.5,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 5 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 2 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 2 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Id\": \"Workbench\",\n        \"Type\": \"Crafting\",\n        \"Categories\": [\"Workbench_Tools\"]\n      }\n    ]\n  },\n  \"Tool\": {\n    \"Specs\": [\n      { \"Power\": 1, \"GatherType\": \"SoftBlocks\" },\n      { \"Power\": 0.5, \"GatherType\": \"Soils\" },\n      { \"Power\": 0.05, \"GatherType\": \"Woods\" },\n      {\n        \"Power\": 0.5,\n        \"GatherType\": \"Rocks\",\n        \"HitSoundLayer\": \"SFX_Pickaxe_T2_Impact_Nice\"\n      },\n      { \"Power\": 0.5, \"GatherType\": \"Benches\" },\n      { \"Power\": 0.17, \"GatherType\": \"VolcanicRocks\" }\n    ],\n    \"DurabilityLossBlockTypes\": [\n      {\n        \"BlockSets\": [\"Stone\", \"Rock\", \"Ores\", \"Soil\"],\n        \"DurabilityLossOnHit\": 0.25\n      }\n    ]\n  },\n  \"MaxDurability\": 250\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Crude Pickaxe (Template)\">\n```json title=\"Tool_Pickaxe_Crude.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Tool_Pickaxe_Crude.name\",\n    \"Description\": \"server.items.Tool_Pickaxe_Crude.description\"\n  },\n  \"Categories\": [\"Items.Tools\"],\n  \"Quality\": \"Common\",\n  \"ItemLevel\": 10,\n  \"Icon\": \"Icons/ItemsGenerated/Tool_Pickaxe_Crude.png\",\n  \"Model\": \"Items/Tools/Pickaxe/Crude.blockymodel\",\n  \"Texture\": \"Items/Tools/Pickaxe/Crude_Texture.png\",\n  \"Recipe\": {\n    \"TimeSeconds\": 1,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ResourceTypeId\": \"Rubble\", \"Quantity\": 2 },\n      { \"ItemId\": \"Ingredient_Fibre\", \"Quantity\": 2 },\n      { \"ItemId\": \"Ingredient_Stick\", \"Quantity\": 2 }\n    ],\n    \"BenchRequirement\": [\n      { \"Id\": \"Fieldcraft\", \"Type\": \"Crafting\", \"Categories\": [\"Tools\"] },\n      { \"Id\": \"Workbench\", \"Type\": \"Crafting\", \"Categories\": [\"Workbench_Tools\"] }\n    ]\n  },\n  \"Tool\": {\n    \"Specs\": [\n      { \"Power\": 1, \"GatherType\": \"SoftBlocks\" },\n      { \"Power\": 0.35, \"GatherType\": \"Soils\" },\n      { \"Power\": 0.05, \"GatherType\": \"Woods\" },\n      { \"Power\": 0.25, \"GatherType\": \"Rocks\" },\n      { \"Power\": 0.5, \"GatherType\": \"Benches\" },\n      { \"Power\": 0.084, \"GatherType\": \"VolcanicRocks\" }\n    ],\n    \"DurabilityLossBlockTypes\": [\n      {\n        \"BlockSets\": [\"Stone\", \"Rock\", \"Ores\", \"Soil\"],\n        \"DurabilityLossOnHit\": 0.25\n      }\n    ]\n  },\n  \"PlayerAnimationsId\": \"Pickaxe\",\n  \"Utility\": { \"Compatible\": true },\n  \"Interactions\": {\n    \"Primary\": \"Pickaxe_Attack\",\n    \"Secondary\": \"Pickaxe_Attack\"\n  },\n  \"InteractionVars\": {\n    \"Block_Hit_Camera_Effects\": {\n      \"Interactions\": [{\n        \"Type\": \"Simple\",\n        \"Effects\": { \"CameraEffect\": \"Pickaxe_Mine_Impact\" }\n      }]\n    },\n    \"Pickaxe_Mine_Effect\": {\n      \"Interactions\": [{\n        \"Parent\": \"Pickaxe_Mine_Effect\",\n        \"Effects\": {\n          \"WorldSoundEventId\": \"SFX_Tool_T1_Swing\",\n          \"LocalSoundEventId\": \"SFX_Pickaxe_T1_Swing_Down_Local\"\n        }\n      }]\n    },\n    \"Pickaxe_Mine_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Pickaxe_Mine_Damage\",\n        \"DamageCalculator\": {\n          \"Type\": \"Absolute\",\n          \"BaseDamage\": { \"Physical\": 1 }\n        },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Light_Melee_T1_Impact\"\n        }\n      }]\n    }\n  },\n  \"IconProperties\": {\n    \"Scale\": 0.45,\n    \"Translation\": [13.8, -14.4],\n    \"Rotation\": [45, 270, 0]\n  },\n  \"DroppedItemAnimation\": \"Items/Animations/Dropped/Dropped_Diagonal_Left.blockyanim\",\n  \"MaxDurability\": 150,\n  \"Tags\": { \"Type\": [\"Tool\"] },\n  \"ItemSoundSetId\": \"ISS_Weapons_Wood\"\n}\n```\n  \u003C/TabItem>\n\u003C/Tabs>\n\n### Hatchet (Woodcutting Tool)\n\n```json title=\"Tool_Hatchet_Iron.json\" {6,38-66}\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Tool_Hatchet_Iron.name\",\n    \"Description\": \"server.items.Tool_Hatchet_Crude.description\"\n  },\n  \"Parent\": \"Tool_Hatchet_Crude\",\n  \"Icon\": \"Icons/ItemsGenerated/Tool_Hatchet_Iron.png\",\n  \"Quality\": \"Uncommon\",\n  \"ItemLevel\": 20,\n  \"Model\": \"Items/Tools/Hatchet/Iron.blockymodel\",\n  \"Texture\": \"Items/Tools/Hatchet/Iron_Texture.png\",\n  \"Recipe\": {\n    \"TimeSeconds\": 3.5,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 5 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 2 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 2 }\n    ],\n    \"BenchRequirement\": [\n      { \"Type\": \"Crafting\", \"Categories\": [\"Workbench_Tools\"], \"Id\": \"Workbench\" }\n    ]\n  },\n  \"Tool\": {\n    \"Specs\": [\n      { \"Power\": 1, \"GatherType\": \"SoftBlocks\" },\n      { \"Power\": 0.05, \"GatherType\": \"Soils\" },\n      {\n        \"Power\": 0.3,\n        \"GatherType\": \"Woods\",\n        \"HitSoundLayer\": \"SFX_Hatchet_T2_Impact_Nice\"\n      },\n      { \"Power\": 0.05, \"GatherType\": \"Rocks\" },\n      {\n        \"Power\": 0.5,\n        \"GatherType\": \"Benches\",\n        \"HitSoundLayer\": \"SFX_Hatchet_T2_Impact_Nice\"\n      },\n      { \"Power\": 0.017, \"GatherType\": \"VolcanicRocks\" }\n    ],\n    \"DurabilityLossBlockTypes\": [\n      {\n        \"BlockSets\": [\"Stone\", \"Rock\", \"Ores\", \"Soil\"],\n        \"DurabilityLossOnHit\": 0.25\n      }\n    ]\n  },\n  \"MaxDurability\": 250\n}\n```\n\n### Farming Tools\n\n\u003CTabs>\n  \u003CTabItem label=\"Hoe\">\n```json title=\"Tool_Hoe_Crude.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Tool_Hoe_Crude.name\",\n    \"Description\": \"server.items.Tool_Hoe.description\"\n  },\n  \"Categories\": [\"Items.Tools\"],\n  \"Set\": \"Tool_Stone\",\n  \"Icon\": \"Icons/ItemsGenerated/Tool_Hoe_Crude.png\",\n  \"Quality\": \"Common\",\n  \"MaxStack\": 1,\n  \"ItemLevel\": 1,\n  \"Recipe\": {\n    \"TimeSeconds\": 1.5,\n    \"Input\": [\n      { \"ResourceTypeId\": \"Wood_Trunk\", \"Quantity\": 2 },\n      { \"ResourceTypeId\": \"Rock\", \"Quantity\": 1 }\n    ],\n    \"BenchRequirement\": [\n      { \"Type\": \"Crafting\", \"Categories\": [\"Farming\"], \"Id\": \"Farmingbench\" }\n    ]\n  },\n  \"Interactions\": {\n    \"Primary\": \"Hoe_Attack\",\n    \"Secondary\": \"Hoe_Till\"\n  },\n  \"InteractionVars\": {\n    \"Hoe_Swing_Left_Effect\": \"Hoe_Swing_Left_Effect\",\n    \"Hoe_Swing_Left_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Hoe_Swing_Left_Damage\",\n        \"DamageCalculator\": {\n          \"Type\": \"Dps\",\n          \"BaseDamage\": { \"Physical\": 1 }\n        }\n      }]\n    }\n  },\n  \"Model\": \"Items/Tools/Hoe/Crude.blockymodel\",\n  \"Texture\": \"Items/Tools/Hoe/Crude_Texture.png\",\n  \"MaxDurability\": 100,\n  \"PlayerAnimationsId\": \"Hoe\",\n  \"Tags\": { \"Type\": [\"Tool\"] },\n  \"ItemSoundSetId\": \"ISS_Weapons_Wood\"\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Sickle\">\n```json title=\"Tool_Sickle_Crude.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Tool_Sickle_Crude.name\",\n    \"Description\": \"server.items.Tool_Sickle.description\"\n  },\n  \"Categories\": [\"Items.Tools\"],\n  \"Set\": \"Tool_Stone\",\n  \"Model\": \"Items/Tools/Sickle/Crude.blockymodel\",\n  \"Texture\": \"Items/Tools/Sickle/Crude_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/Tool_Sickle_Crude.png\",\n  \"Quality\": \"Common\",\n  \"ItemLevel\": 20,\n  \"Recipe\": {\n    \"TimeSeconds\": 3,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ResourceTypeId\": \"Wood_Trunk\", \"Quantity\": 1 },\n      { \"ResourceTypeId\": \"Rock\", \"Quantity\": 2 },\n      { \"ItemId\": \"Ingredient_Fibre\", \"Quantity\": 2 }\n    ],\n    \"BenchRequirement\": [\n      { \"Type\": \"Crafting\", \"Categories\": [\"Workbench_Farming\"], \"Id\": \"Workbench\" }\n    ]\n  },\n  \"PlayerAnimationsId\": \"Sickle\",\n  \"Utility\": { \"Compatible\": true },\n  \"Interactions\": {\n    \"Primary\": \"Sickle_Attack\",\n    \"Secondary\": \"Sickle_Attack\"\n  },\n  \"InteractionVars\": {\n    \"Sickle_Swing_Left_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Sickle_Swing_Left_Damage\",\n        \"DamageCalculator\": {\n          \"Type\": \"Dps\",\n          \"BaseDamage\": { \"Physical\": 5 }\n        },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\"\n        }\n      }]\n    }\n  },\n  \"MaxDurability\": 60,\n  \"MaxStack\": 1,\n  \"Tags\": { \"Type\": [\"Tool\"] },\n  \"ItemSoundSetId\": \"ISS_Weapons_Wood\"\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Watering Can\">\n```json title=\"Tool_Watering_Can.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Tool_Watering_Can.name\",\n    \"Description\": \"server.items.Tool_Watering_Can.description\"\n  },\n  \"Categories\": [\"Items.Tools\"],\n  \"ItemLevel\": 4,\n  \"Recipe\": {\n    \"TimeSeconds\": 1,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [\n      { \"Type\": \"Crafting\", \"Categories\": [\"Farming\"], \"Id\": \"Farmingbench\" }\n    ]\n  },\n  \"Quality\": \"Common\",\n  \"Tool\": {},\n  \"PlayerAnimationsId\": \"Watering_Can\",\n  \"Texture\": \"Items/Tools/Watering_Can/Watering_Can_Texture.png\",\n  \"Model\": \"Items/Tools/Watering_Can/Watering_Can_Empty.blockymodel\",\n  \"Icon\": \"Icons/ItemsGenerated/Tool_Watering_Can.png\",\n  \"Interactions\": {\n    \"Primary\": \"Watering_Can_Fill\",\n    \"Secondary\": \"Watering_Can_Fill\"\n  },\n  \"State\": {\n    \"Filled_Water\": {\n      \"Variant\": true,\n      \"TranslationProperties\": {\n        \"Name\": \"server.items.Tool_Watering_Can_Full.name\"\n      },\n      \"Model\": \"Items/Tools/Watering_Can/Watering_Can.blockymodel\",\n      \"Icon\": \"Icons/ItemsGenerated/Tool_Watering_Can_Full.png\",\n      \"Interactions\": {\n        \"Primary\": {\n          \"Interactions\": [{\n            \"Parent\": \"Watering_Can_Fill\",\n            \"Failed\": \"Watering_Can_Use\"\n          }]\n        }\n      },\n      \"MaxDurability\": 20,\n      \"DurabilityLossOnHit\": 1\n    }\n  },\n  \"Tags\": { \"Type\": [\"Tool\"] },\n  \"ItemSoundSetId\": \"ISS_Weapons_Wood\"\n}\n```\n  \u003C/TabItem>\n\u003C/Tabs>\n\n### Utility Tools\n\n\u003CTabs>\n  \u003CTabItem label=\"Hammer\">\n```json title=\"Tool_Hammer_Crude.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Tool_Hammer_Crude.name\",\n    \"Description\": \"server.items.Tool_Hammer_Crude.description\"\n  },\n  \"Categories\": [\"Items.Tools\"],\n  \"Icon\": \"Icons/ItemsGenerated/Tool_Hammer_Crude.png\",\n  \"Quality\": \"Common\",\n  \"ItemLevel\": 2,\n  \"MaxStack\": 1,\n  \"Set\": \"Tool_Stone\",\n  \"Model\": \"Items/Tools/Hammer/Crude.blockymodel\",\n  \"Texture\": \"Items/Tools/Hammer/Crude_Texture.png\",\n  \"PlayerAnimationsId\": \"Pickaxe\",\n  \"Recipe\": {\n    \"TimeSeconds\": 1,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ResourceTypeId\": \"Rubble\", \"Quantity\": 2 },\n      { \"ItemId\": \"Ingredient_Fibre\", \"Quantity\": 3 },\n      { \"ItemId\": \"Ingredient_Stick\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [\n      { \"Id\": \"Workbench\", \"Type\": \"Crafting\", \"Categories\": [\"Workbench_Tools\"] }\n    ]\n  },\n  \"Interactions\": {\n    \"Primary\": {\n      \"Interactions\": [{\n        \"Type\": \"CycleBlockGroup\",\n        \"RunTime\": 0.1,\n        \"Effects\": { \"ItemAnimationId\": \"Mine\" }\n      }]\n    },\n    \"Secondary\": {\n      \"Interactions\": [{\n        \"Type\": \"CycleBlockGroup\",\n        \"RunTime\": 0.1,\n        \"Effects\": { \"ItemAnimationId\": \"Mine\" }\n      }]\n    }\n  },\n  \"MaxDurability\": 100,\n  \"Tags\": { \"Type\": [\"Tool\"] },\n  \"BlockSelectorTool\": {\n    \"DurabilityLossOnUse\": 1.0\n  },\n  \"ItemSoundSetId\": \"ISS_Weapons_Wood\"\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Repair Kit\">\n```json title=\"Tool_Repair_Kit_Iron.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Tool_Repair_Kit_Iron.name\",\n    \"Description\": \"server.items.Tool_Repair_Kit_Iron.description\"\n  },\n  \"Icon\": \"Icons/ItemsGenerated/Tool_Repair_Kit_Iron.png\",\n  \"Parent\": \"Tool_Repair_Kit_Crude\",\n  \"ItemLevel\": 1,\n  \"Model\": \"Items/Tools/Repair_Kit/Repair_Kit_Iron.blockymodel\",\n  \"Texture\": \"Items/Tools/Repair_Kit/Repair_Kit_Iron_Texture.png\",\n  \"Interactions\": {\n    \"Primary\": {\n      \"Interactions\": [{\n        \"Type\": \"OpenCustomUI\",\n        \"Page\": {\n          \"Id\": \"ItemRepair\",\n          \"RepairPenalty\": 0.1\n        }\n      }]\n    }\n  },\n  \"Recipe\": {\n    \"TimeSeconds\": 1,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 2 },\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 1 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 1 }\n    ],\n    \"BenchRequirement\": [\n      { \"Type\": \"Crafting\", \"Categories\": [\"Workbench_Tools\"], \"Id\": \"Workbench\" }\n    ]\n  },\n  \"Quality\": \"Common\"\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Capture Crate\">\n```json title=\"Tool_Capture_Crate.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Tool_Capture_Crate.name\",\n    \"Description\": \"server.items.Tool_Capture_Crate.description\"\n  },\n  \"Model\": \"Items/CaptureCrate/Capture_Crate.blockymodel\",\n  \"Texture\": \"Items/CaptureCrate/Capture_Crate_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/Tool_Capture_Crate.png\",\n  \"PlayerAnimationsId\": \"Block\",\n  \"MaxStack\": 1,\n  \"ItemLevel\": 9,\n  \"Recipe\": {\n    \"TimeSeconds\": 2,\n    \"Input\": [\n      { \"Quantity\": 4, \"ResourceTypeId\": \"Wood_All\" },\n      { \"ItemId\": \"Ingredient_Life_Essence\", \"Quantity\": 50 }\n    ],\n    \"BenchRequirement\": [\n      { \"Type\": \"Crafting\", \"Categories\": [\"Farming\"], \"Id\": \"Farmingbench\" }\n    ]\n  },\n  \"Interactions\": {\n    \"Primary\": {\n      \"Interactions\": [{\n        \"Type\": \"Simple\",\n        \"Effects\": { \"ItemAnimationId\": \"Interact\" },\n        \"RunTime\": 0.05,\n        \"Next\": {\n          \"Type\": \"UseCaptureCrate\",\n          \"AcceptedNpcGroups\": [\"Capture_Crate\"],\n          \"FullIcon\": \"Icons/ItemsGenerated/Tool_Capture_Crate_Full.png\",\n          \"Failed\": {\n            \"Type\": \"Simple\",\n            \"Effects\": {\n              \"LocalSoundEventId\": \"SFX_Capture_Crate_Capture_Fail_Local\"\n            }\n          },\n          \"Next\": {\n            \"Type\": \"Simple\",\n            \"Effects\": {\n              \"LocalSoundEventId\": \"SFX_Capture_Crate_Capture_Succeed_Local\",\n              \"WorldSoundEventId\": \"SFX_Capture_Crate_Capture_Succeed\"\n            }\n          }\n        }\n      }]\n    }\n  }\n}\n```\n  \u003C/TabItem>\n\u003C/Tabs>\n\n## Interaction Types for Tools\n\nTools use various interaction types:\n\n| Type | Description | Used By |\n|------|-------------|---------|\n| `Pickaxe_Attack` | Mining interaction | Pickaxes |\n| `Hoe_Attack` / `Hoe_Till` | Attack and till | Hoes |\n| `Sickle_Attack` | Crop harvesting | Sickles |\n| `Watering_Can_Fill` / `Watering_Can_Use` | Fill and water | Watering Cans |\n| `CycleBlockGroup` | Rotate block variants | Hammers |\n| `OpenCustomUI` | Open repair UI | Repair Kits |\n| `UseCaptureCrate` | Capture NPCs | Capture Crates |\n\n## Material Tiers\n\nTools follow a progression through material tiers:\n\n| Material | Quality | Item Level | Durability | Power Modifier |\n|----------|---------|------------|------------|----------------|\n| Crude/Stone | Common | 1-10 | 100-150 | Base |\n| Copper | Common | 15 | 175 | +15% |\n| Iron | Uncommon | 20 | 250 | +25% |\n| Cobalt | Rare | 30 | 350 | +40% |\n| Mithril | Rare | 40 | 450 | +60% |\n| Thorium | Epic | 50 | 550 | +80% |\n| Onyxium | Epic | 60 | 650 | +100% |\n| Adamantite | Legendary | 70 | 800 | +120% |\n\n## Animation Sets\n\nEach tool type uses a specific animation set:\n\n| Animation ID | Tool Types |\n|--------------|------------|\n| `Pickaxe` | Pickaxes, Hammers |\n| `Hoe` | Hoes |\n| `Sickle` | Sickles |\n| `Watering_Can` | Watering Cans |\n| `Block` | Capture Crates, placeable tools |\n| `Item` | Default / miscellaneous |\n\n## Accessing Tools in Code\n\n```java title=\"ToolExample.java\"\nimport com.hypixel.hytale.server.core.asset.type.item.config.Item;\nimport com.hypixel.hytale.server.core.asset.type.item.config.ItemTool;\n\npublic class ToolExample {\n    public void accessTools() {\n        Item pickaxe = Item.getAssetMap().get(\"Tool_Pickaxe_Iron\");\n\n        if (pickaxe != null) {\n            // Check if it's a tool\n            ItemTool toolConfig = pickaxe.getTool();\n            if (toolConfig != null) {\n                // Access tool-specific properties like Specs\n            }\n\n            // Get durability\n            double maxDurability = pickaxe.getMaxDurability();\n            String animationSet = pickaxe.getPlayerAnimationsId();\n\n            // Get interactions\n            Map\u003CInteractionType, String> interactions = pickaxe.getInteractions();\n        }\n    }\n}\n```\n\n## Creating Custom Tools\n\n### Using Parent Inheritance\n\n```json title=\"MyPlugin_Tool_Pickaxe_Custom.json\"\n{\n  \"Parent\": \"Tool_Pickaxe_Crude\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.MyPlugin_Tool_Pickaxe_Custom.name\"\n  },\n  \"Model\": \"MyPlugin/Tools/Pickaxe/Custom.blockymodel\",\n  \"Texture\": \"MyPlugin/Tools/Pickaxe/Custom_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/MyPlugin_Tool_Pickaxe_Custom.png\",\n  \"Quality\": \"Rare\",\n  \"ItemLevel\": 35,\n  \"Tool\": {\n    \"Specs\": [\n      { \"Power\": 1, \"GatherType\": \"SoftBlocks\" },\n      { \"Power\": 0.6, \"GatherType\": \"Soils\" },\n      { \"Power\": 0.1, \"GatherType\": \"Woods\" },\n      {\n        \"Power\": 0.7,\n        \"GatherType\": \"Rocks\",\n        \"HitSoundLayer\": \"SFX_Pickaxe_T2_Impact_Nice\"\n      },\n      { \"Power\": 0.6, \"GatherType\": \"Benches\" },\n      { \"Power\": 0.25, \"GatherType\": \"VolcanicRocks\" }\n    ],\n    \"DurabilityLossBlockTypes\": [\n      {\n        \"BlockSets\": [\"Stone\", \"Rock\", \"Ores\", \"Soil\"],\n        \"DurabilityLossOnHit\": 0.2\n      }\n    ]\n  },\n  \"MaxDurability\": 400,\n  \"Recipe\": {\n    \"TimeSeconds\": 5,\n    \"Input\": [\n      { \"ItemId\": \"MyPlugin_Custom_Ingot\", \"Quantity\": 5 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [\n      { \"Type\": \"Crafting\", \"Categories\": [\"Workbench_Tools\"], \"Id\": \"Workbench\" }\n    ]\n  }\n}\n```\n\n### Creating a New Tool Type\n\n```json title=\"MyPlugin_Tool_Multitool.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.MyPlugin_Tool_Multitool.name\",\n    \"Description\": \"server.items.MyPlugin_Tool_Multitool.description\"\n  },\n  \"Categories\": [\"Items.Tools\"],\n  \"Model\": \"MyPlugin/Tools/Multitool.blockymodel\",\n  \"Texture\": \"MyPlugin/Tools/Multitool_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/MyPlugin_Tool_Multitool.png\",\n  \"Quality\": \"Epic\",\n  \"ItemLevel\": 50,\n  \"PlayerAnimationsId\": \"Pickaxe\",\n  \"Tool\": {\n    \"Specs\": [\n      { \"Power\": 1, \"GatherType\": \"SoftBlocks\" },\n      { \"Power\": 0.4, \"GatherType\": \"Soils\" },\n      { \"Power\": 0.4, \"GatherType\": \"Woods\" },\n      { \"Power\": 0.4, \"GatherType\": \"Rocks\" },\n      { \"Power\": 0.5, \"GatherType\": \"Benches\" },\n      { \"Power\": 0.15, \"GatherType\": \"VolcanicRocks\" }\n    ],\n    \"DurabilityLossBlockTypes\": [\n      {\n        \"BlockSets\": [\"Stone\", \"Rock\", \"Ores\", \"Soil\", \"Wood\"],\n        \"DurabilityLossOnHit\": 0.35\n      }\n    ]\n  },\n  \"Utility\": { \"Compatible\": true },\n  \"Interactions\": {\n    \"Primary\": \"Pickaxe_Attack\",\n    \"Secondary\": \"Pickaxe_Attack\"\n  },\n  \"MaxDurability\": 300,\n  \"Tags\": { \"Type\": [\"Tool\"] },\n  \"ItemSoundSetId\": \"ISS_Weapons_Blunt_Small\"\n}\n```\n\n## Best Practices\n\n1. **Specialize tools**: Give each tool type clear strengths against specific block types\n2. **Balance power values**: Higher tier materials should have progressively better power\n3. **Match durability to tier**: More powerful tools should last longer\n4. **Use parent inheritance**: Inherit from existing tools to maintain consistency\n5. **Include appropriate sounds**: Use `HitSoundLayer` for satisfying feedback\n6. **Set correct categories**: Always include `\"Items.Tools\"` in categories\n7. **Prefix IDs**: Use plugin name prefix for all custom tools\n\n## Related\n\n- [Item System Overview](/api-reference/assets/items/overview/) - General item documentation\n- [Weapons](/api-reference/assets/items/weapons/) - Combat item documentation\n- [Blockbench Setup](/tutorials/blockbench/setup/) - Creating tool models\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Including assets in plugins","src/content/docs/api-reference/assets/items/tools.mdx","8775be94cd2e02e6","api-reference/assets/items/weapons",{"id":648,"data":650,"body":655,"filePath":656,"digest":657,"deferredRender":16},{"title":651,"editUrl":16,"head":652,"template":52,"sidebar":653,"pagefind":16,"draft":42},"Weapons",[],{"hidden":42,"attrs":654},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Card, CardGrid, LinkCard, Tabs, TabItem, FileTree, Badge } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of 241 weapon definition files in `/Assets/Server/Item/Items/Weapon/`.\nVerify all information against actual asset files before use in production.\n\u003C/Aside>\n\nWeapons are combat items that define attack patterns, damage values, and special abilities. Hytale features 23 distinct weapon categories with sophisticated interaction systems for melee and ranged combat.\n\n## Asset Location\n\n**Server Definitions:** `Assets/Server/Item/Items/Weapon/[Category]/`\n**Client Models:** `Assets/Common/Items/Weapons/[Category]/`\n**Interactions:** `Assets/Server/Item/Interactions/Weapons/[Category]/`\n\n## Weapon Categories\n\nHytale includes 23 weapon categories, each with unique mechanics:\n\n### Melee Weapons\n\n| Category | Files | Template | Description |\n|----------|-------|----------|-------------|\n| Sword | 24 | Yes | Balanced melee with signature \"Vortexstrike\" ability |\n| Axe | 13 | No | Heavy swings with 20% damage variance |\n| Battleaxe | 8 | Yes | Two-handed with powerful charged attacks |\n| Club | 6 | No | Blunt weapons with stun potential |\n| Daggers | 10 | Yes | Fast dual-wield attacks |\n| Longsword | 7 | No | Extended reach melee |\n| Mace | 9 | Yes | Heavy blunt damage with knockback |\n| Spear | 17 | No | Stackable throwable with stab attacks |\n| Claws | 3 | No | Close-range rapid attacks |\n\n### Ranged Weapons\n\n| Category | Files | Template | Description |\n|----------|-------|----------|-------------|\n| Shortbow | 19 | Yes | Charge-based arrows with \"Volley\" signature |\n| Crossbow | 8 | Yes | High-damage single shots |\n| Blowgun | 2 | No | Dart projectiles |\n| Gun | 4 | No | Firearm projectiles |\n\n### Magic Weapons\n\n| Category | Files | Template | Description |\n|----------|-------|----------|-------------|\n| Staff | 25 | No | Magic projectile casters |\n| Wand | 5 | No | Light magic weapons |\n| Spellbook | 3 | No | Spell casting items |\n\n### Thrown Weapons\n\n| Category | Files | Template | Description |\n|----------|-------|----------|-------------|\n| Bomb | 4 | No | Explosive thrown items |\n| Dart | 2 | No | Small thrown projectiles |\n| Kunai | 2 | No | Ninja throwing weapons |\n| Arrow | 15 | No | Ammunition for bows |\n\n### Defensive\n\n| Category | Files | Template | Description |\n|----------|-------|----------|-------------|\n| Shield | 12 | Yes | Blocking and bash attacks |\n\n### Special\n\n| Category | Files | Template | Description |\n|----------|-------|----------|-------------|\n| Deployable | 3 | No | Placeable combat items |\n| _Debug | 5 | No | Development/testing weapons |\n\n## JSON Schema Reference\n\n### Core Weapon Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Parent` | `string` | Template to inherit from |\n| `TranslationProperties` | `object` | Localization configuration |\n| `Model` | `string` | Path to `.blockymodel` file |\n| `Texture` | `string` | Path to texture file |\n| `Icon` | `string` | Path to inventory icon |\n| `Quality` | `string` | Quality tier |\n| `ItemLevel` | `integer` | Level requirement |\n| `Categories` | `string[]` | Always includes `\"Items.Weapons\"` |\n| `Tags` | `object` | Type and family classification |\n\n### Combat Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `MaxDurability` | `number` | `80` | Maximum durability points |\n| `DurabilityLossOnHit` | `number` | `0.21` | Durability lost per attack |\n| `PlayerAnimationsId` | `string` | - | Animation set (Sword, Bow, Axe, etc.) |\n| `Reticle` | `string` | `\"DefaultMelee\"` | Crosshair type |\n| `ItemSoundSetId` | `string` | - | Sound effect collection |\n\n### Interaction System\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Interactions` | `object` | Maps Primary, Secondary, Ability1 to root interactions |\n| `InteractionVars` | `object` | Damage values, effects, and behaviors per attack |\n| `Weapon` | `object` | Weapon-specific configuration (stats, modifiers) |\n\n## Weapon Templates\n\nSeven weapon types have official templates that define base mechanics:\n\n\u003CTabs>\n  \u003CTabItem label=\"Sword Template\">\n```json title=\"Template_Weapon_Sword.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Template_Weapon_Sword.name\"\n  },\n  \"DroppedItemAnimation\": \"Items/Animations/Dropped/Dropped_Diagonal_Left.blockyanim\",\n  \"Model\": \"Items/Weapons/Sword/Iron.blockymodel\",\n  \"Texture\": \"Items/Weapons/Sword/Iron_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/Weapon_Sword_Iron.png\",\n  \"PlayerAnimationsId\": \"Sword\",\n  \"Reticle\": \"DefaultMelee\",\n  \"Quality\": \"Template\",\n  \"ItemLevel\": 15,\n  \"Categories\": [\"Items.Weapons\"],\n  \"Interactions\": {\n    \"Primary\": \"Root_Weapon_Sword_Primary\",\n    \"Secondary\": \"Root_Weapon_Sword_Secondary_Guard\",\n    \"Ability1\": \"Root_Weapon_Sword_Signature_Vortexstrike\"\n  },\n  \"Tags\": {\n    \"Type\": [\"Weapon\"],\n    \"Family\": [\"Sword\"]\n  },\n  \"Weapon\": {\n    \"EntityStatsToClear\": [\"SignatureEnergy\"],\n    \"StatModifiers\": {\n      \"SignatureEnergy\": [{ \"Amount\": 20, \"CalculationType\": \"Additive\" }]\n    }\n  },\n  \"ItemSoundSetId\": \"ISS_Weapons_Blade_Large\",\n  \"MaxDurability\": 80,\n  \"DurabilityLossOnHit\": 0.21\n}\n```\n  \u003C/TabItem>\n  \u003CTabItem label=\"Shortbow Template\">\n```json title=\"Template_Weapon_Shortbow.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Template_Weapon_Shortbow.name\"\n  },\n  \"Model\": \"Items/Weapons/Bow/Iron.blockymodel\",\n  \"Texture\": \"Items/Weapons/Bow/Iron_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/Weapon_Bow_Crude.png\",\n  \"DroppedItemAnimation\": \"Items/Animations/Dropped/Dropped_Diagonal_Left.blockyanim\",\n  \"PlayerAnimationsId\": \"Bow\",\n  \"Reticle\": \"DefaultMelee\",\n  \"Quality\": \"Template\",\n  \"ItemLevel\": 5,\n  \"Categories\": [\"Items.Weapons\"],\n  \"Interactions\": {\n    \"Primary\": \"Root_Weapon_Shortbow_Primary_Shoot\",\n    \"Secondary\": \"Root_Weapon_Shortbow_Secondary_Guard\",\n    \"Ability1\": \"Root_Weapon_Shortbow_Signature_Volley\"\n  },\n  \"Tags\": {\n    \"Type\": [\"Weapon\"],\n    \"Family\": [\"Bow\"]\n  },\n  \"Weapon\": {\n    \"EntityStatsToClear\": [\"SignatureEnergy\", \"SignatureCharges\"],\n    \"StatModifiers\": {\n      \"SignatureEnergy\": [{ \"Amount\": 6, \"CalculationType\": \"Additive\" }],\n      \"SignatureCharges\": [{ \"Amount\": 1, \"CalculationType\": \"Additive\" }]\n    }\n  },\n  \"ItemSoundSetId\": \"ISS_Weapons_Wood\",\n  \"MaxDurability\": 80,\n  \"DurabilityLossOnHit\": 0.58\n}\n```\n  \u003C/TabItem>\n\u003C/Tabs>\n\n## Complete Weapon Examples\n\n### Sword (Melee with Template)\n\n```json title=\"Weapon_Sword_Iron.json\" {2,8-37}\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Weapon_Sword_Iron.name\"\n  },\n  \"Model\": \"Items/Weapons/Sword/Iron.blockymodel\",\n  \"Texture\": \"Items/Weapons/Sword/Iron_Texture.png\",\n  \"Quality\": \"Uncommon\",\n  \"Icon\": \"Icons/ItemsGenerated/Weapon_Sword_Iron.png\",\n  \"ItemLevel\": 20,\n  \"Recipe\": {\n    \"TimeSeconds\": 3.5,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 6 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 3 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Categories\": [\"Weapon_Sword\"],\n        \"Id\": \"Weapon_Bench\"\n      }\n    ]\n  },\n  \"InteractionVars\": {\n    \"Swing_Left_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Left_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 9 } },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\"\n        }\n      }]\n    },\n    \"Swing_Right_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Right_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 10 } },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\"\n        }\n      }]\n    },\n    \"Swing_Down_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Down_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 18 } },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\"\n        }\n      }]\n    },\n    \"Thrust_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Thrust_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 26 } },\n        \"EntityStatsOnHit\": [{ \"EntityStatId\": \"SignatureEnergy\", \"Amount\": 3 }],\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\"\n        }\n      }]\n    },\n    \"Vortexstrike_Spin_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Signature_Vortexstrike_Spin_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 19 } },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\"\n        }\n      }]\n    },\n    \"Vortexstrike_Stab_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Signature_Vortexstrike_Stab_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 56 } },\n        \"DamageEffects\": {\n          \"WorldSoundEventId\": \"SFX_Sword_T2_Impact\",\n          \"LocalSoundEventId\": \"SFX_Sword_T2_Impact\"\n        }\n      }]\n    },\n    \"Guard_Wield\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Secondary_Guard_Wield\",\n        \"StaminaCost\": { \"Value\": 10, \"CostType\": \"Damage\" }\n      }]\n    }\n  },\n  \"MaxDurability\": 120,\n  \"DurabilityLossOnHit\": 0.21\n}\n```\n\n### Axe (Melee without Template)\n\n```json title=\"Weapon_Axe_Iron.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Weapon_Axe_Iron.name\"\n  },\n  \"Categories\": [\"Items.Weapons\"],\n  \"Icon\": \"Icons/ItemsGenerated/Weapon_Axe_Iron.png\",\n  \"Quality\": \"Uncommon\",\n  \"ItemLevel\": 20,\n  \"Recipe\": {\n    \"TimeSeconds\": 3.5,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 4 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 3 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 4 }\n    ],\n    \"BenchRequirement\": [\n      { \"Type\": \"Crafting\", \"Categories\": [\"Weapon_Axe\"], \"Id\": \"Weapon_Bench\" }\n    ]\n  },\n  \"Model\": \"Items/Weapons/Axe/Iron.blockymodel\",\n  \"Texture\": \"Items/Weapons/Axe/Iron_Texture.png\",\n  \"PlayerAnimationsId\": \"Axe\",\n  \"Utility\": { \"Compatible\": true },\n  \"Interactions\": {\n    \"Primary\": \"Axe_Attack\"\n  },\n  \"InteractionVars\": {\n    \"Axe_Swing_Down_Left_Effect\": {\n      \"Interactions\": [{\n        \"Parent\": \"Axe_Swing_Down_Left_Effect\",\n        \"Effects\": { \"WorldSoundEventId\": \"SFX_Axe_Iron_Swing\" }\n      }]\n    },\n    \"Axe_Swing_Down_Left_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Axe_Swing_Down_Left_Damage\",\n        \"DamageCalculator\": {\n          \"Type\": \"Absolute\",\n          \"BaseDamage\": { \"Physical\": 17 },\n          \"RandomPercentageModifier\": 0.2\n        },\n        \"DamageEffects\": { \"WorldSoundEventId\": \"SFX_Axe_Iron_Impact\" }\n      }]\n    },\n    \"Axe_Swing_Up_Right_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Axe_Swing_Up_Right_Damage\",\n        \"DamageCalculator\": {\n          \"Type\": \"Absolute\",\n          \"BaseDamage\": { \"Physical\": 17 },\n          \"RandomPercentageModifier\": 0.2\n        },\n        \"DamageEffects\": { \"WorldSoundEventId\": \"SFX_Axe_Iron_Impact\" }\n      }]\n    },\n    \"Axe_Swing_Left_Charged_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Axe_Swing_Left_Charged_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 34 },\n          \"Type\": \"Absolute\",\n          \"RandomPercentageModifier\": 0.2\n        },\n        \"DamageEffects\": { \"WorldSoundEventId\": \"SFX_Axe_Iron_Impact\" }\n      }]\n    }\n  },\n  \"IconProperties\": {\n    \"Scale\": 0.45,\n    \"Translation\": [-26, -25],\n    \"Rotation\": [45, 90, 0]\n  },\n  \"DroppedItemAnimation\": \"Items/Animations/Dropped/Dropped_Diagonal_Left.blockyanim\",\n  \"MaxDurability\": 120,\n  \"DurabilityLossOnHit\": 0.56,\n  \"Tags\": { \"Type\": [\"Weapon\"], \"Family\": [\"Axe\"] },\n  \"Weapon\": {},\n  \"ItemAppearanceConditions\": {\n    \"Health\": [\n      {\n        \"Particles\": [{ \"SystemId\": \"Torch_Fire\" }],\n        \"Model\": \"Items/Weapons/Axe/Iron.blockymodel\",\n        \"Texture\": \"Items/Weapons/Axe/Iron_Texture.png\",\n        \"Condition\": [0, 20]\n      },\n      {\n        \"Particles\": [{ \"SystemId\": \"Torch_Fire\" }],\n        \"Texture\": \"Items/Weapons/Axe/Iron_Rusty_Texture.png\",\n        \"Condition\": [21, 40]\n      }\n    ]\n  },\n  \"ItemSoundSetId\": \"ISS_Weapons_Blunt_Small\"\n}\n```\n\n### Spear (Stackable Thrown)\n\n```json title=\"Weapon_Spear_Iron.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.Weapon_Spear_Iron.name\"\n  },\n  \"Categories\": [\"Items.Weapons\"],\n  \"Quality\": \"Uncommon\",\n  \"ItemLevel\": 20,\n  \"Model\": \"Items/Weapons/Spear/Iron.blockymodel\",\n  \"Texture\": \"Items/Weapons/Spear/Iron_Texture.png\",\n  \"MaxStack\": 30,\n  \"IconProperties\": {\n    \"Scale\": 0.24,\n    \"Translation\": [-58, -58],\n    \"Rotation\": [45, 90, 0]\n  },\n  \"Interactions\": {\n    \"Primary\": \"Spear_Attack\",\n    \"Secondary\": \"Spear_Block\"\n  },\n  \"InteractionVars\": {\n    \"Spear_Block_Damage\": \"Spear_Block_Damage\",\n    \"Spear_Stab_Effect\": {\n      \"Interactions\": [{\n        \"Parent\": \"Spear_Stab_Effect\",\n        \"Effects\": { \"WorldSoundEventId\": \"SFX_Axe_Special_Swing\" }\n      }]\n    },\n    \"Spear_Stab_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Spear_Stab_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 6 },\n          \"Type\": \"Absolute\"\n        },\n        \"DamageEffects\": { \"WorldSoundEventId\": \"SFX_Axe_Special_Impact\" }\n      }]\n    },\n    \"Spear_Throw_Charged_Projectile\": {\n      \"Interactions\": [{\n        \"Parent\": \"Spear_Throw_Charged_Projectile\",\n        \"ProjectileId\": \"Spear_Iron\"\n      }]\n    }\n  },\n  \"Icon\": \"Icons/ItemsGenerated/Weapon_Spear_Iron.png\",\n  \"DroppedItemAnimation\": \"Items/Animations/Dropped/Dropped_Diagonal_Left.blockyanim\",\n  \"PlayerAnimationsId\": \"Spear\",\n  \"Tags\": { \"Type\": [\"Weapon\"], \"Family\": [\"Spear\"] },\n  \"MaxDurability\": 30,\n  \"DurabilityLossOnHit\": 0.56,\n  \"Weapon\": {},\n  \"ItemSoundSetId\": \"ISS_Weapons_Wood\"\n}\n```\n\n## Damage Calculator System\n\nThe `DamageCalculator` object defines how damage is computed:\n\n```json title=\"DamageCalculator structure\"\n{\n  \"DamageCalculator\": {\n    \"BaseDamage\": {\n      \"Physical\": 17,\n      \"Projectile\": 0\n    },\n    \"Type\": \"Absolute\",\n    \"RandomPercentageModifier\": 0.2\n  }\n}\n```\n\n### Damage Types\n\n| Type | Description |\n|------|-------------|\n| `Physical` | Melee damage |\n| `Projectile` | Ranged damage |\n\n### Calculation Types\n\n| Type | Description |\n|------|-------------|\n| `Absolute` | Damage is used directly |\n| (default) | May apply modifiers |\n\n### Random Modifier\n\nThe `RandomPercentageModifier` adds variance to attacks:\n- `0.2` = 20% damage variance\n- A 17 base damage attack deals 13-21 damage\n\n## Interaction Variables\n\n`InteractionVars` define per-attack damage and effects:\n\n### Common Sword Variables\n\n| Variable | Purpose |\n|----------|---------|\n| `Swing_Left_Damage` | Left swing attack |\n| `Swing_Right_Damage` | Right swing attack |\n| `Swing_Down_Damage` | Overhead swing |\n| `Thrust_Damage` | Stabbing attack |\n| `Vortexstrike_Spin_Damage` | Signature spin phase |\n| `Vortexstrike_Stab_Damage` | Signature stab finisher |\n| `Guard_Wield` | Block stance |\n\n### Common Bow Variables\n\n| Variable | Purpose |\n|----------|---------|\n| `Primary_Shoot_Charge` | Charging sound/effects |\n| `Primary_Shoot_Strength_[0-4]` | Shot power levels (0s to 1.2s+ charge) |\n| `Primary_Shoot_Damage_Strength_[0-4]` | Damage per power level |\n| `Primary_Shoot_Impact_Strength_[0-4]` | Hit effects per power |\n| `Primary_Shoot_Miss_Strength_[0-4]` | Miss effects per power |\n| `Signature_Volley_*` | Volley ability variants |\n| `Guard_Wield` | Block with bow |\n| `Guard_Bash` | Melee attack while blocking |\n\n### Bow Damage Scaling\n\nBows deal increasing damage based on charge time:\n\n| Charge Level | Time | Projectile Damage |\n|--------------|------|-------------------|\n| 0 | 0.0s | 6 |\n| 1 | 0.3s | 10 |\n| 2 | 0.6s | 12 |\n| 3 | 0.9s | 14 |\n| 4 | 1.2s+ | 15 |\n\n## Signature Abilities\n\nWeapons with templates include signature abilities that charge over combat:\n\n### Sword: Vortexstrike\n\n- Charges `SignatureEnergy` stat through combat\n- At 100% energy, activates via `Ability1`\n- Two-phase attack: spinning AoE + powerful stab\n- Visual particles indicate charged status\n\n### Shortbow: Volley\n\n- Charges `SignatureEnergy` and `SignatureCharges`\n- Fires multiple arrows simultaneously\n- Model swaps to show triple arrows when ready\n- 25 projectile damage per arrow\n\n## Item Appearance Conditions\n\nWeapons can change visuals based on stats:\n\n```json title=\"Signature ability visual effects\"\n{\n  \"ItemAppearanceConditions\": {\n    \"SignatureEnergy\": [\n      {\n        \"Condition\": [100, 100],\n        \"ConditionValueType\": \"Percent\",\n        \"Particles\": [\n          {\n            \"SystemId\": \"Sword_Signature_Ready\",\n            \"TargetNodeName\": \"Handle\",\n            \"PositionOffset\": { \"X\": 0.8 },\n            \"TargetEntityPart\": \"PrimaryItem\"\n          },\n          {\n            \"SystemId\": \"Sword_Signature_Status\",\n            \"TargetNodeName\": \"Handle\",\n            \"PositionOffset\": { \"X\": 0.55 },\n            \"TargetEntityPart\": \"PrimaryItem\",\n            \"Scale\": 1.3\n          }\n        ],\n        \"ModelVFXId\": \"Sword_Signature_Status\"\n      }\n    ]\n  }\n}\n```\n\n### Condition Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `Condition` | `[min, max]` | Value range to match |\n| `ConditionValueType` | `string` | `\"Percent\"` or absolute |\n| `Model` | `string` | Override model path |\n| `Texture` | `string` | Override texture path |\n| `Particles` | `array` | Particle effects to spawn |\n| `ModelVFXId` | `string` | Visual effect to apply |\n| `LocalSoundEventId` | `string` | Sound to play |\n| `WorldSoundEventId` | `string` | World-audible sound |\n\n## Crafting Recipes\n\nWeapons include inline recipes:\n\n```json title=\"Recipe structure\"\n{\n  \"Recipe\": {\n    \"TimeSeconds\": 3.5,\n    \"KnowledgeRequired\": false,\n    \"Input\": [\n      { \"ItemId\": \"Ingredient_Bar_Iron\", \"Quantity\": 6 },\n      { \"ItemId\": \"Ingredient_Leather_Light\", \"Quantity\": 3 },\n      { \"ItemId\": \"Ingredient_Fabric_Scrap_Linen\", \"Quantity\": 3 }\n    ],\n    \"BenchRequirement\": [\n      {\n        \"Type\": \"Crafting\",\n        \"Categories\": [\"Weapon_Sword\"],\n        \"Id\": \"Weapon_Bench\"\n      }\n    ]\n  }\n}\n```\n\n### Recipe Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `TimeSeconds` | `number` | Crafting duration |\n| `KnowledgeRequired` | `boolean` | Whether recipe must be learned |\n| `Input` | `array` | Required materials |\n| `BenchRequirement` | `array` | Required crafting stations |\n\n## Sound Sets\n\nCommon weapon sound sets:\n\n| Sound Set | Weapon Types |\n|-----------|--------------|\n| `ISS_Weapons_Blade_Large` | Swords, longswords |\n| `ISS_Weapons_Blade_Small` | Daggers |\n| `ISS_Weapons_Blunt_Small` | Axes, maces, clubs |\n| `ISS_Weapons_Blunt_Large` | Battleaxes |\n| `ISS_Weapons_Wood` | Bows, staves, spears |\n\n## Animation Sets\n\nEach weapon type has a `PlayerAnimationsId`:\n\n| Animation ID | Used By |\n|--------------|---------|\n| `Sword` | Swords |\n| `Bow` | Shortbows, crossbows |\n| `Axe` | Axes, battleaxes |\n| `Spear` | Spears |\n| `Staff` | Staves, wands |\n| `Shield` | Shields |\n| `Dagger` | Daggers |\n| `Item` | Default items |\n\n## Accessing Weapons in Code\n\n```java title=\"WeaponExample.java\"\nimport com.hypixel.hytale.server.core.asset.type.item.config.Item;\nimport com.hypixel.hytale.server.core.asset.type.item.config.ItemWeapon;\n\npublic class WeaponExample {\n    public void accessWeapons() {\n        Item sword = Item.getAssetMap().get(\"Weapon_Sword_Iron\");\n\n        if (sword != null) {\n            // Check if it's a weapon\n            ItemWeapon weaponConfig = sword.getWeapon();\n            if (weaponConfig != null) {\n                // Access weapon-specific properties\n            }\n\n            // Get combat properties\n            double maxDurability = sword.getMaxDurability();\n            double durabilityLoss = sword.getDurabilityLossOnHit();\n            String animationSet = sword.getPlayerAnimationsId();\n\n            // Get interactions\n            Map\u003CInteractionType, String> interactions = sword.getInteractions();\n            String primaryAttack = interactions.get(InteractionType.Primary);\n        }\n    }\n}\n```\n\n## Creating Custom Weapons\n\n### Using a Template\n\n```json title=\"MyPlugin_Sword_Custom.json\"\n{\n  \"Parent\": \"Template_Weapon_Sword\",\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.MyPlugin_Sword_Custom.name\"\n  },\n  \"Model\": \"MyPlugin/Weapons/Sword/Custom.blockymodel\",\n  \"Texture\": \"MyPlugin/Weapons/Sword/Custom_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/MyPlugin_Sword_Custom.png\",\n  \"Quality\": \"Rare\",\n  \"ItemLevel\": 35,\n  \"MaxDurability\": 150,\n  \"InteractionVars\": {\n    \"Swing_Left_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Left_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 15 } }\n      }]\n    },\n    \"Swing_Right_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Right_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 16 } }\n      }]\n    },\n    \"Swing_Down_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Swing_Down_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 28 } }\n      }]\n    },\n    \"Thrust_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"Weapon_Sword_Primary_Thrust_Damage\",\n        \"DamageCalculator\": { \"BaseDamage\": { \"Physical\": 38 } }\n      }]\n    }\n  }\n}\n```\n\n### Without Template\n\nFor unique weapon behaviors, define all interactions manually:\n\n```json title=\"MyPlugin_Weapon_Unique.json\"\n{\n  \"TranslationProperties\": {\n    \"Name\": \"server.items.MyPlugin_Weapon_Unique.name\"\n  },\n  \"Model\": \"MyPlugin/Weapons/Unique.blockymodel\",\n  \"Texture\": \"MyPlugin/Weapons/Unique_Texture.png\",\n  \"Icon\": \"Icons/ItemsGenerated/MyPlugin_Weapon_Unique.png\",\n  \"Quality\": \"Epic\",\n  \"ItemLevel\": 50,\n  \"Categories\": [\"Items.Weapons\"],\n  \"PlayerAnimationsId\": \"Sword\",\n  \"Reticle\": \"DefaultMelee\",\n  \"Tags\": { \"Type\": [\"Weapon\"], \"Family\": [\"Unique\"] },\n  \"Interactions\": {\n    \"Primary\": \"MyPlugin_Unique_Primary\",\n    \"Secondary\": \"MyPlugin_Unique_Secondary\"\n  },\n  \"InteractionVars\": {\n    \"Primary_Attack_Damage\": {\n      \"Interactions\": [{\n        \"Parent\": \"MyPlugin_Unique_Primary_Damage\",\n        \"DamageCalculator\": {\n          \"BaseDamage\": { \"Physical\": 25 },\n          \"Type\": \"Absolute\"\n        }\n      }]\n    }\n  },\n  \"Weapon\": {},\n  \"MaxDurability\": 200,\n  \"DurabilityLossOnHit\": 0.15,\n  \"ItemSoundSetId\": \"ISS_Weapons_Blade_Large\"\n}\n```\n\n## Best Practices\n\n1. **Use templates**: Inherit from existing templates for consistent combat feel\n2. **Balance damage curves**: Follow existing patterns for material tiers\n3. **Include sound effects**: Use appropriate `ItemSoundSetId` and `DamageEffects`\n4. **Set proper durability**: Higher tier = higher durability\n5. **Test all attacks**: Verify each `InteractionVar` works correctly\n6. **Match animation set**: Use compatible `PlayerAnimationsId`\n7. **Prefix IDs**: Use plugin name prefix for all custom weapons\n\n## Related\n\n- [Item System Overview](/api-reference/assets/items/overview/) - General item documentation\n- [Custom Weapon Tutorial](/tutorials/examples/custom-weapon/) - Step-by-step weapon creation\n- [Blockbench Setup](/tutorials/blockbench/setup/) - Creating weapon models\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Including assets in plugins","src/content/docs/api-reference/assets/items/weapons.mdx","6dd51c2cd892de77","api-reference/assets/vfx/model-effects",{"id":658,"data":660,"body":665,"filePath":666,"digest":667,"deferredRender":16},{"title":661,"editUrl":16,"head":662,"template":52,"sidebar":663,"pagefind":16,"draft":42},"Model Effects",[],{"hidden":42,"attrs":664},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nModel effects apply visual shader modifications to entity models, creating effects like freezing, burning, poisoning, and highlighting. They animate color transitions, add bloom highlights, and apply post-processing to models.\n\n## Asset Location\n\n\u003CFileTree>\n- Assets/Server/Entity/ModelVFX/\n  - Status Effects/\n    - Burn.json\n    - Freeze.json\n    - Poison.json\n    - Stoneskin.json\n    - Death.json\n  - Item Rarity/\n    - Drop_Legendary.json\n    - Drop_Epic.json\n    - Drop_Rare.json\n    - Drop_Uncommon.json\n  - Weapon Abilities/\n    - Dagger_Dash.json\n    - Dagger_Signature.json\n    - Mace_Signature.json\n    - Sword_Signature_Status.json\n    - Bow_Signature_Status.json\n    - Crossbow_Signature_Status.json\n  - Special/\n    - Creative.json\n    - Creative_Tool.json\n    - Intangible.json\n    - Intangible_Dark.json\n    - Portal_Teleport.json\n    - Trinket.json\n    - Trinket_Empowered.json\n\u003C/FileTree>\n\n## ModelVFX Schema\n\n### Core Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `SwitchTo` | `string` | Target effect mode |\n| `EffectDirection` | `string` | Direction of effect animation |\n| `AnimationDuration` | `float` | Duration in seconds |\n| `AnimationRange` | `object` | Range of animation coverage `{X, Y}` |\n| `HighlightColor` | `string` | Highlight edge color (hex) |\n| `HighlightThickness` | `float` | Width of highlight edge |\n| `UseBloomOnHighlight` | `bool` | Enable bloom on highlight |\n| `PostColor` | `string` | Final tint color (hex) |\n| `PostColorOpacity` | `float` | Opacity of post-color (0-1) |\n\n### Noise Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `NoiseScale` | `object` | Noise texture scale `{X, Y}` |\n| `NoiseScrollSpeed` | `object` | Noise scroll velocity `{X, Y}` |\n| `UseProgessiveHighlight` | `bool` | Enable progressive highlight |\n\n### Animation Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `CurveType` | `string` | Animation easing curve |\n| `LoopOption` | `string` | Loop behavior |\n\n## Effect Modes\n\n### SwitchTo Values\n\n| Mode | Description |\n|------|-------------|\n| `PostColor` | Apply post-processing color tint |\n\n### Effect Direction Values\n\n| Direction | Description |\n|-----------|-------------|\n| `BottomUp` | Effect animates from bottom to top |\n\n### Loop Options\n\n| Option | Description |\n|--------|-------------|\n| `Loop` | Continuously repeat animation |\n| `PlayOnce` | Play animation once |\n\n### Curve Types\n\n| Curve | Description |\n|-------|-------------|\n| `QuartOut` | Quartic ease-out animation |\n\n## Status Effect Examples\n\n### Freeze Effect\n\nCreates a crystalline ice overlay with cyan/white tint.\n\n```json title=\"Freeze.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationDuration\": 0.7,\n  \"AnimationRange\": {\n    \"Y\": 0.58\n  },\n  \"HighlightColor\": \"#84ceff\",\n  \"UseBloomOnHighlight\": false,\n  \"NoiseScale\": {\n    \"X\": 200.0,\n    \"Y\": 250.0\n  },\n  \"PostColorOpacity\": 1.0,\n  \"UseProgessiveHighlight\": true,\n  \"NoiseScrollSpeed\": {\n    \"Y\": -0.1,\n    \"X\": 0.02\n  },\n  \"PostColor\": \"#e3fbff\",\n  \"HighlightThickness\": 1.0\n}\n```\n\nKey features:\n- **Cyan highlight** (`#84ceff`) with icy post-color (`#e3fbff`)\n- **High noise scale** - Creates crystalline texture\n- **Progressive highlight** - Gradual frost effect\n- **Slow scroll** - Subtle shimmer animation\n\n### Burn Effect\n\nCreates a charred appearance with orange glow.\n\n```json title=\"Burn.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationDuration\": 6.0,\n  \"AnimationRange\": {\n    \"Y\": 1.0\n  },\n  \"HighlightColor\": \"#ff9021\",\n  \"HighlightThickness\": 0.3,\n  \"UseBloomOnHighlight\": true,\n  \"NoiseScale\": {\n    \"X\": 29.0,\n    \"Y\": 25.0\n  },\n  \"PostColor\": \"#171313\",\n  \"PostColorOpacity\": 0.792,\n  \"UseProgessiveHighlight\": true\n}\n```\n\nKey features:\n- **Orange highlight** with bloom - Glowing ember effect\n- **Dark post-color** (`#171313`) - Charred appearance\n- **Long duration** (6s) - Gradual burn progression\n- **Full range** (`Y: 1.0`) - Covers entire model\n\n### Poison Effect\n\nCreates a sickly green overlay.\n\n```json title=\"Poison.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationDuration\": 6.0,\n  \"AnimationRange\": {\n    \"Y\": 1.0\n  },\n  \"HighlightColor\": \"#33aa33\",\n  \"HighlightThickness\": 0.3,\n  \"UseBloomOnHighlight\": true,\n  \"NoiseScale\": {\n    \"X\": 29.0,\n    \"Y\": 25.0\n  },\n  \"PostColor\": \"#082008\",\n  \"PostColorOpacity\": 0.792,\n  \"UseProgessiveHighlight\": true\n}\n```\n\nSimilar to burn but with green tones for poison effect.\n\n### Stoneskin Effect\n\nCreates a rocky/petrified appearance.\n\n```json title=\"Stoneskin.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationDuration\": 0.7,\n  \"AnimationRange\": {\n    \"Y\": 0.58\n  },\n  \"HighlightColor\": \"#72745e\",\n  \"UseBloomOnHighlight\": false,\n  \"NoiseScale\": {\n    \"X\": 200.0,\n    \"Y\": 250.0\n  },\n  \"PostColorOpacity\": 1.0,\n  \"UseProgessiveHighlight\": true,\n  \"NoiseScrollSpeed\": {\n    \"Y\": -0.1,\n    \"X\": 0.02\n  },\n  \"PostColor\": \"#888c8d\",\n  \"HighlightThickness\": 1.0\n}\n```\n\nKey features:\n- **Gray/brown tones** - Rocky texture\n- **No bloom** - Solid stone appearance\n- **High noise** - Rough surface texture\n\n## Item Rarity Effects\n\n### Legendary Drop\n\nCreates a glowing golden highlight for legendary items.\n\n```json title=\"Drop_Legendary.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"PostColorOpacity\": 0.0,\n  \"NoiseScale\": {\n    \"X\": 1.0,\n    \"Y\": 1.0\n  },\n  \"AnimationDuration\": 1.0,\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationRange\": {\n    \"Y\": 1.0\n  },\n  \"UseBloomOnHighlight\": true,\n  \"HighlightThickness\": 5.0,\n  \"HighlightColor\": \"#ffdb91\",\n  \"LoopOption\": \"Loop\"\n}\n```\n\nKey features:\n- **Thick highlight** (5.0) - Prominent glow\n- **Golden color** (`#ffdb91`)\n- **Bloom enabled** - Bright shine\n- **Looping** - Continuous effect\n- **No post-color** - Preserves original model colors\n\n## Weapon Ability Effects\n\n### Dagger Dash\n\nQuick transition effect for dash abilities.\n\n```json title=\"Dagger_Dash.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationDuration\": 0.4,\n  \"NoiseScale\": {\n    \"X\": 20.0,\n    \"Y\": 20.0\n  },\n  \"PostColorOpacity\": 0.304,\n  \"CurveType\": \"QuartOut\",\n  \"HighlightThickness\": 0.0,\n  \"UseBloomOnHighlight\": false,\n  \"HighlightColor\": \"#8ea1aa\",\n  \"PostColor\": \"#a7e8ff\"\n}\n```\n\nKey features:\n- **Fast animation** (0.4s)\n- **Eased curve** (QuartOut) - Smooth finish\n- **No highlight** - Just color tint\n- **Light blue tint** - Ethereal dash effect\n\n### Intangible\n\nGhost-like transparency effect.\n\n```json title=\"Intangible.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationDuration\": 0.4,\n  \"NoiseScale\": {\n    \"X\": 20.0,\n    \"Y\": 20.0\n  },\n  \"PostColorOpacity\": 0.304,\n  \"CurveType\": \"QuartOut\",\n  \"HighlightThickness\": 0.0,\n  \"UseBloomOnHighlight\": false,\n  \"HighlightColor\": \"#8ea1aa\",\n  \"PostColor\": \"#a7e8ff\"\n}\n```\n\n## Minimal Effects\n\n### Death\n\nSimple highlight for death state.\n\n```json title=\"Death.json\"\n{\n  \"AnimationDuration\": 4.0,\n  \"HighlightColor\": \"#c7c7ad\"\n}\n```\n\n### Portal Teleport\n\nQuick flash for teleportation.\n\n```json title=\"Portal_Teleport.json\"\n{\n  \"HighlightColor\": \"#2becff\",\n  \"AnimationDuration\": 0.3\n}\n```\n\n## Creative Mode Effects\n\n### Creative Mode Glow\n\nSpecial effect for creative mode entities.\n\n```json title=\"Creative.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationDuration\": 0.2,\n  \"AnimationRange\": {\n    \"Y\": 0.4\n  },\n  \"HighlightColor\": \"#84ceff\",\n  \"UseBloomOnHighlight\": true,\n  \"NoiseScale\": {\n    \"X\": 200.0,\n    \"Y\": 250.0\n  },\n  \"PostColorOpacity\": 0.0,\n  \"UseProgessiveHighlight\": false,\n  \"NoiseScrollSpeed\": {\n    \"Y\": -0.1,\n    \"X\": 0.02\n  },\n  \"HighlightThickness\": 1.0,\n  \"LoopOption\": \"PlayOnce\"\n}\n```\n\nKey features:\n- **Quick animation** (0.2s)\n- **Cyan glow** with bloom\n- **Play once** - Single pulse effect\n\n## Effect Categories\n\n### Status Effects\n\n| Effect | Colors | Use Case |\n|--------|--------|----------|\n| `Freeze` | Cyan/White | Ice damage, frozen state |\n| `Burn` | Orange/Black | Fire damage |\n| `Poison` | Green/Dark green | Poison damage over time |\n| `Stoneskin` | Gray/Brown | Petrification, defense buff |\n\n### Rarity Glow\n\n| Effect | Color | Rarity |\n|--------|-------|--------|\n| `Drop_Legendary` | Gold (`#ffdb91`) | Legendary items |\n| `Drop_Epic` | Purple | Epic items |\n| `Drop_Rare` | Blue | Rare items |\n| `Drop_Uncommon` | Green | Uncommon items |\n\n### Ability Effects\n\n| Effect | Use Case |\n|--------|----------|\n| `Dagger_Dash` | Dagger dash ability |\n| `Dagger_Signature` | Dagger signature move |\n| `Mace_Signature` | Mace signature attack |\n| `Intangible` | Phase/dodge ability |\n| `Intangible_Dark` | Dark phase ability |\n\n## Creating Custom Effects\n\n### Simple Highlight\n\n```json title=\"MyPlugin_Effect_Highlight.json\"\n{\n  \"HighlightColor\": \"#ff0000\",\n  \"AnimationDuration\": 0.5\n}\n```\n\n### Status Effect\n\n```json title=\"MyPlugin_Effect_Electrified.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationDuration\": 0.3,\n  \"AnimationRange\": {\n    \"Y\": 1.0\n  },\n  \"HighlightColor\": \"#00ffff\",\n  \"HighlightThickness\": 0.5,\n  \"UseBloomOnHighlight\": true,\n  \"NoiseScale\": {\n    \"X\": 50.0,\n    \"Y\": 50.0\n  },\n  \"NoiseScrollSpeed\": {\n    \"X\": 0.5,\n    \"Y\": 0.5\n  },\n  \"PostColor\": \"#001122\",\n  \"PostColorOpacity\": 0.3,\n  \"UseProgessiveHighlight\": true\n}\n```\n\n### Looping Glow\n\n```json title=\"MyPlugin_Effect_Empowered.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"EffectDirection\": \"BottomUp\",\n  \"AnimationDuration\": 1.5,\n  \"AnimationRange\": {\n    \"Y\": 1.0\n  },\n  \"HighlightColor\": \"#ffaa00\",\n  \"HighlightThickness\": 2.0,\n  \"UseBloomOnHighlight\": true,\n  \"PostColorOpacity\": 0.0,\n  \"LoopOption\": \"Loop\"\n}\n```\n\n### Ability Flash\n\n```json title=\"MyPlugin_Effect_Dash.json\"\n{\n  \"SwitchTo\": \"PostColor\",\n  \"AnimationDuration\": 0.25,\n  \"CurveType\": \"QuartOut\",\n  \"HighlightColor\": \"#ffffff\",\n  \"HighlightThickness\": 0.0,\n  \"PostColor\": \"#88ccff\",\n  \"PostColorOpacity\": 0.4,\n  \"UseBloomOnHighlight\": false\n}\n```\n\n## Best Practices\n\n1. **Match duration to gameplay** - Status effects should be visible but not distracting\n2. **Use bloom sparingly** - Excessive bloom can be overwhelming\n3. **Consider readability** - Effects shouldn't obscure important visual information\n4. **Test noise scales** - Higher values create more detailed patterns\n5. **Use progressive highlight** - Creates natural spread effects\n6. **Loop for persistent states** - Use `Loop` for ongoing effects\n7. **Short duration for abilities** - Quick flashes for action feedback\n\n## Related\n\n- [Particles](/api-reference/assets/vfx/particles/) - Particle effects\n- [Trail Effects](/api-reference/assets/vfx/trails/) - Motion trails\n- [Entity Effects](/api-reference/entities/effects/) - Entity effect system\n- [Items Overview](/api-reference/assets/items/overview/) - Item definitions","src/content/docs/api-reference/assets/vfx/model-effects.mdx","635590ba62aaf22b","api-reference/assets/vfx/particles",{"id":668,"data":670,"body":675,"filePath":676,"digest":677,"deferredRender":16},{"title":671,"editUrl":16,"head":672,"template":52,"sidebar":673,"pagefind":16,"draft":42},"Particle Systems",[],{"hidden":42,"attrs":674},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nParticle systems create visual effects like dust, smoke, fire, and weather. They consist of spawner configurations (`.particlespawner`) that define particle behavior, and system files (`.particlesystem`) that combine multiple spawners.\n\n## Asset Location\n\n\u003CFileTree>\n- Assets/Server/Particles/\n  - Block/\n  - Combat/\n  - Deployables/\n  - Drop/\n  - Explosion/\n  - Item/\n  - Memories/\n  - NPC/\n  - Projectile/\n  - Spell/\n  - Status_Effect/\n  - Weapon/\n  - Weather/\n    - Dust_Sparkles/\n    - Fog/\n    - Rain/\n    - Snow/\n  - Dust_Sparkles_Fine.particlespawner\n  - Dust_Sparkles_Fine.particlesystem\n\u003C/FileTree>\n\nParticle textures are in `Assets/Common/Particles/Textures/`.\n\n## File Types\n\n| Extension | Purpose |\n|-----------|---------|\n| `.particlespawner` | Individual particle emitter configuration |\n| `.particlesystem` | Combines multiple spawners into one effect |\n\n## Particle Spawner Schema\n\n### Core Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `RenderMode` | `string` | Rendering type (`Erosion`, `Additive`, etc.) |\n| `Particle` | `object` | Particle appearance configuration |\n| `SpawnRate` | `MinMax` | Particles per second |\n| `ParticleLifeSpan` | `MinMax` | Particle duration (seconds) |\n| `MaxConcurrentParticles` | `int` | Maximum active particles (0 = unlimited) |\n\n### Spawn Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `EmitOffset` | `XYZ MinMax` | Spawn position offset range |\n| `InitialVelocity` | `object` | Starting velocity (Yaw, Pitch, Speed) |\n| `ParticleRotateWithSpawner` | `bool` | Inherit spawner rotation |\n\n### Visual Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `ParticleRotationInfluence` | `string` | Rotation mode (`Billboard`, `None`) |\n| `LinearFiltering` | `bool` | Smooth texture filtering |\n| `LightInfluence` | `float` | World lighting effect (0-1) |\n\n### Physics Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Attractors` | `array` | Force attractors affecting particles |\n| `ParticleCollision` | `object` | Collision behavior |\n\n## Particle Object\n\nThe `Particle` object defines appearance:\n\n### Base Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Texture` | `string` | Path to particle texture |\n| `FrameSize` | `object` | Texture frame dimensions |\n| `ScaleRatioConstraint` | `string` | Aspect ratio (`OneToOne`, etc.) |\n\n### Animation Keyframes\n\nThe `Animation` object uses percentage keys (0-100) to animate:\n\n```json\n{\n  \"Animation\": {\n    \"0\": {\n      \"Scale\": { \"X\": { \"Min\": 0, \"Max\": 0 }, \"Y\": { \"Min\": 0, \"Max\": 0 } },\n      \"Opacity\": 0,\n      \"Color\": \"#222222\",\n      \"Rotation\": { \"X\": { \"Min\": 0, \"Max\": 0 }, \"Y\": { \"Min\": 0, \"Max\": 0 }, \"Z\": { \"Min\": 0, \"Max\": 0 } }\n    },\n    \"50\": {\n      \"Scale\": { \"X\": { \"Min\": 1, \"Max\": 1 }, \"Y\": { \"Min\": 1, \"Max\": 1 } },\n      \"Opacity\": 0.66,\n      \"Color\": \"#9e9e9e\"\n    },\n    \"100\": {\n      \"Scale\": { \"X\": { \"Min\": 0, \"Max\": 0 }, \"Y\": { \"Min\": 0, \"Max\": 0 } },\n      \"Opacity\": 0,\n      \"Color\": \"#1a1a1a\"\n    }\n  }\n}\n```\n\n### Animation Properties per Keyframe\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Scale` | `XY MinMax` | Particle size |\n| `Opacity` | `float` | Transparency (0-1) |\n| `Color` | `string` | Hex color tint |\n| `Rotation` | `XYZ MinMax` | Rotation angles |\n| `FrameIndex` | `MinMax` | Texture frame (for spritesheets) |\n\n## Example: Dust Sparkles\n\n```json title=\"Dust_Sparkles_Fine.particlespawner\"\n{\n  \"RenderMode\": \"Erosion\",\n  \"EmitOffset\": {\n    \"X\": { \"Min\": 2, \"Max\": 8 },\n    \"Y\": { \"Min\": 2, \"Max\": 8 },\n    \"Z\": { \"Min\": 2, \"Max\": 8 }\n  },\n  \"ParticleRotationInfluence\": \"Billboard\",\n  \"LinearFiltering\": true,\n  \"LightInfluence\": 1.0,\n  \"MaxConcurrentParticles\": 0,\n  \"ParticleLifeSpan\": { \"Min\": 1.5, \"Max\": 5.0 },\n  \"SpawnRate\": { \"Min\": 4000, \"Max\": 5000 },\n  \"InitialVelocity\": {\n    \"Yaw\": { \"Min\": 90, \"Max\": 180 },\n    \"Pitch\": { \"Min\": 0, \"Max\": 80 },\n    \"Speed\": { \"Min\": 0.015, \"Max\": 0.02 }\n  },\n  \"Attractors\": [\n    {\n      \"Position\": { \"X\": 0, \"Y\": 0, \"Z\": 0 },\n      \"RadialAxis\": { \"X\": 1, \"Y\": 1, \"Z\": 0 },\n      \"Radius\": 0,\n      \"RadialAcceleration\": -0.036,\n      \"RadialTangentAcceleration\": 0,\n      \"LinearAcceleration\": { \"X\": 0, \"Y\": 0, \"Z\": 0 }\n    }\n  ],\n  \"Particle\": {\n    \"Texture\": \"Particles/Textures/Weather/Dust.png\",\n    \"FrameSize\": { \"Width\": 32, \"Height\": 32 },\n    \"ScaleRatioConstraint\": \"OneToOne\",\n    \"Animation\": {\n      \"0\": {\n        \"Scale\": { \"X\": { \"Min\": 0, \"Max\": 0 } },\n        \"Opacity\": 0,\n        \"Color\": \"#222222\"\n      },\n      \"50\": {\n        \"Scale\": { \"X\": { \"Min\": 1, \"Max\": 1 } },\n        \"Opacity\": 0.66,\n        \"Color\": \"#9e9e9e\"\n      },\n      \"100\": {\n        \"Scale\": { \"X\": { \"Min\": 0, \"Max\": 0 } },\n        \"Opacity\": 0,\n        \"Color\": \"#1a1a1a\"\n      }\n    },\n    \"InitialAnimationFrame\": {\n      \"Rotation\": {\n        \"X\": { \"Min\": 0, \"Max\": 360 },\n        \"Z\": { \"Min\": 0, \"Max\": 360 }\n      },\n      \"Scale\": { \"X\": { \"Min\": 0.02, \"Max\": 0.04 } },\n      \"Opacity\": 1\n    }\n  }\n}\n```\n\n## Particle System Schema\n\nSystems combine multiple spawners:\n\n```json title=\"Dust_Sparkles_Fine.particlesystem\"\n{\n  \"Spawners\": [\n    {\n      \"SpawnerId\": \"Dust_Sparkles_Fine\",\n      \"FixedRotation\": true,\n      \"WaveDelay\": { \"Min\": 4, \"Max\": 36 }\n    },\n    { \"SpawnerId\": \"Dust_Sparkles_Fine\" },\n    { \"SpawnerId\": \"Dust_Sparkles_Fine\" }\n  ],\n  \"CullDistance\": 30\n}\n```\n\n### System Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Spawners` | `array` | List of spawner references |\n| `CullDistance` | `float` | Distance to stop rendering |\n\n### Spawner Reference Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `SpawnerId` | `string` | Spawner file name (without extension) |\n| `FixedRotation` | `bool` | Lock rotation |\n| `WaveDelay` | `MinMax` | Delay between spawn waves |\n\n## Particle Categories\n\n### Combat Particles\n\nLocated in `Combat/`:\n- Impact effects\n- Hit sparks\n- Blood effects\n\n### Weapon Particles\n\nLocated in `Weapon/`:\n- Swing trails\n- Charge effects\n- Special attack visuals\n\n### Weather Particles\n\nLocated in `Weather/`:\n\n| Category | Effects |\n|----------|---------|\n| `Rain/` | Raindrops, splashes |\n| `Snow/` | Snowflakes, blizzard |\n| `Fog/` | Fog banks |\n| `Dust_Sparkles/` | Floating dust, flies |\n\n### Block Particles\n\nLocated in `Block/`:\n- Break particles\n- Placement effects\n- Interaction particles\n\n## Using Particles\n\n### In Block Definitions\n\n```json\n{\n  \"BlockType\": {\n    \"BlockParticleSetId\": \"Stone\",\n    \"Particles\": [\n      {\n        \"SystemId\": \"Candle_Fire\",\n        \"Color\": \"#ffcd10\",\n        \"TargetNodeName\": \"Flame-Emitter\",\n        \"Scale\": 0.75\n      }\n    ]\n  }\n}\n```\n\n### In Interactions\n\n```json\n{\n  \"DamageEffects\": {\n    \"WorldParticles\": [\n      { \"SystemId\": \"Impact_Blade_01\" }\n    ]\n  }\n}\n```\n\n## Attractor Types\n\nAttractors apply forces to particles:\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Position` | `XYZ` | Attractor center |\n| `RadialAxis` | `XYZ` | Axis for radial forces |\n| `Radius` | `float` | Effect radius |\n| `RadialAcceleration` | `float` | Inward/outward force |\n| `RadialTangentAcceleration` | `float` | Swirl force |\n| `LinearAcceleration` | `XYZ` | Directional force (gravity) |\n\n## Render Modes\n\n| Mode | Description |\n|------|-------------|\n| `Erosion` | Standard blending |\n| `Additive` | Light emission effect |\n| `Multiply` | Darkening effect |\n\n## Creating Custom Particles\n\n```json title=\"MyPlugin_CustomEffect.particlespawner\"\n{\n  \"RenderMode\": \"Additive\",\n  \"EmitOffset\": {\n    \"X\": { \"Min\": -0.5, \"Max\": 0.5 },\n    \"Y\": { \"Min\": 0, \"Max\": 1 },\n    \"Z\": { \"Min\": -0.5, \"Max\": 0.5 }\n  },\n  \"ParticleRotationInfluence\": \"Billboard\",\n  \"ParticleLifeSpan\": { \"Min\": 0.5, \"Max\": 1.5 },\n  \"SpawnRate\": { \"Min\": 10, \"Max\": 20 },\n  \"InitialVelocity\": {\n    \"Yaw\": { \"Min\": 0, \"Max\": 360 },\n    \"Pitch\": { \"Min\": 60, \"Max\": 90 },\n    \"Speed\": { \"Min\": 1, \"Max\": 2 }\n  },\n  \"Particle\": {\n    \"Texture\": \"MyPlugin/Particles/Glow.png\",\n    \"FrameSize\": { \"Width\": 32, \"Height\": 32 },\n    \"Animation\": {\n      \"0\": { \"Scale\": { \"X\": { \"Min\": 0.5, \"Max\": 0.5 } }, \"Opacity\": 1 },\n      \"100\": { \"Scale\": { \"X\": { \"Min\": 0, \"Max\": 0 } }, \"Opacity\": 0 }\n    }\n  }\n}\n```\n\n## Related\n\n- [Audio Effects](/api-reference/assets/audio/effects/) - Environmental audio\n- [Environments](/api-reference/assets/world/environments/) - Environment configuration\n- [Block Types](/api-reference/assets/blocks/block-types/) - Block particle references","src/content/docs/api-reference/assets/vfx/particles.mdx","4ca13b8e41a8eacb","api-reference/assets/vfx/trails",{"id":678,"data":680,"body":685,"filePath":686,"digest":687,"deferredRender":16},{"title":681,"editUrl":16,"head":682,"template":52,"sidebar":683,"pagefind":16,"draft":42},"Trail Effects",[],{"hidden":42,"attrs":684},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nTrail effects create visual streaks behind moving entities like weapons, projectiles, and NPCs. They interpolate color, width, and texture between start and end states over a defined lifespan.\n\n## Asset Location\n\n\u003CFileTree>\n- Assets/Server/Entity/Trails/\n  - Small_Default.json\n  - Medium_Default.json\n  - Large_Default.json\n  - Huge_Default.json\n  - Small_Charged.json\n  - Medium_Charged.json\n  - Large_Charged.json\n  - Small_Flame.json\n  - Medium_Flame.json\n  - Large_Flame.json\n  - Critical.json\n  - Acid.json\n  - Void.json\n  - Void_Green.json\n  - Memory_Trail.json\n  - Daggers_Dash.json\n  - Sword_Distortion.json\n  - Weapons/\n    - Arrow/\n      - Arrow.json\n      - Arrow_Ricochet.json\n      - Arrow_Vamp.json\n    - Sword/\n      - Medium_Sword_Basic.json\n      - Medium_Sword_Strong.json\n    - Mace/\n      - Weapon_Mace_Prisma.json\n    - Dagger_Basic.json\n    - Bomb/\n    - Kunai/\n    - Rubble/\n  - NPCs/\n    - Bear/\n      - Bear_Claw.json\n    - Fen_Stalker/\n      - Fen_Stalker_Claw.json\n    - Crawler_Void/\n      - Crawler_Void_Claw.json\n  - Fire_Trap/\n  - Tests/\n\u003C/FileTree>\n\n## Trail Schema\n\n### Core Properties\n\n| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `TexturePath` | `string` | Yes | Path to trail texture (relative to `Common/`) |\n| `LifeSpan` | `int` | Yes | Trail segment duration in ticks |\n| `Roll` | `float` | No | Rotation around trail axis (degrees) |\n| `Start` | `object` | Yes | Start state (color, width) |\n| `End` | `object` | Yes | End state (color, width) |\n| `LightInfluence` | `float` | No | How much lighting affects the trail (0-1) |\n| `Smooth` | `bool` | No | Enable smoothing between segments |\n| `RenderMode` | `string` | No | Blending mode |\n| `Animation` | `object` | No | Animated texture settings |\n\n### Start/End State Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Color` | `string` | Color in hex (`#RRGGBBAA`) or rgba format |\n| `Width` | `float` | Trail width at this point |\n\n### Animation Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `FrameSize` | `object` | Frame dimensions `{X, Y}` |\n| `FrameLifeSpan` | `int` | Ticks per frame |\n| `FrameRange` | `object` | Frame index range `{Min, Max}` |\n\n## Render Modes\n\n| Mode | Description |\n|------|-------------|\n| `BlendLinear` | Standard alpha blending |\n| `BlendAdd` | Additive blending (glowing effect) |\n\n## Color Formats\n\nTrails support multiple color formats:\n\n```json\n// Hex with alpha\n\"Color\": \"#ffffff65\"\n\"Color\": \"#FFFFFF00\"\n\n// RGBA function\n\"Color\": \"rgba(#ffffff, 1)\"\n\"Color\": \"rgba(#ff2c00, 0.4)\"\n\n// Hex without alpha (full opacity)\n\"Color\": \"#483d6aff\"\n```\n\n## Examples\n\n### Basic Weapon Trail\n\n```json title=\"Medium_Default.json\"\n{\n  \"TexturePath\": \"Trails/White.png\",\n  \"LifeSpan\": 8,\n  \"Roll\": 0,\n  \"Start\": {\n    \"Color\": \"#ffffff65\",\n    \"Width\": 0.4\n  },\n  \"End\": {\n    \"Color\": \"#FFFFFF00\",\n    \"Width\": 0\n  },\n  \"LightInfluence\": 0.524,\n  \"Smooth\": true,\n  \"RenderMode\": \"BlendLinear\"\n}\n```\n\nThis creates a white fade trail that tapers from 0.4 width to 0 over 8 ticks.\n\n### Fire Trail\n\n```json title=\"Large_Flame.json\"\n{\n  \"TexturePath\": \"Trails/Fire.png\",\n  \"LifeSpan\": 5,\n  \"Roll\": 0,\n  \"Start\": {\n    \"Color\": \"rgba(#ffcf00, 0.9)\",\n    \"Width\": 0.6\n  },\n  \"End\": {\n    \"Color\": \"rgba(#ff2c00, 0.4)\",\n    \"Width\": 0\n  },\n  \"LightInfluence\": 0,\n  \"Smooth\": true,\n  \"RenderMode\": \"BlendAdd\"\n}\n```\n\nKey features:\n- **Color gradient**: Yellow to red (fire effect)\n- **Additive blending**: Creates glowing appearance\n- **No light influence**: Consistent brightness\n\n### Projectile Trail\n\n```json title=\"Arrow.json\"\n{\n  \"TexturePath\": \"Trails/Arrow.png\",\n  \"LifeSpan\": 20,\n  \"Roll\": 90,\n  \"LightInfluence\": 0,\n  \"Start\": {\n    \"Color\": \"#ffffff40\",\n    \"Width\": 0.2\n  },\n  \"End\": {\n    \"Color\": \"#ffffff00\",\n    \"Width\": 0.1\n  },\n  \"RenderMode\": \"BlendAdd\",\n  \"Smooth\": true\n}\n```\n\nKey features:\n- **Long lifespan**: 20 ticks for projectile motion\n- **90 roll**: Rotated to align with flight\n- **Thin width**: Subtle arrow trail\n\n### Frost Weapon Trail\n\n```json title=\"Weapon_Sword_Frost.json\"\n{\n  \"TexturePath\": \"Trails/Ice.png\",\n  \"LifeSpan\": 4,\n  \"Roll\": 90.0,\n  \"Start\": {\n    \"Width\": 0.65\n  },\n  \"End\": {\n    \"Width\": 0.4,\n    \"Color\": \"#483d6aff\"\n  },\n  \"LightInfluence\": 0.1,\n  \"Smooth\": true,\n  \"RenderMode\": \"BlendLinear\"\n}\n```\n\nNote: Start color is inherited from texture when not specified.\n\n### Void Trail\n\n```json title=\"Void.json\"\n{\n  \"TexturePath\": \"Trails/Void.png\",\n  \"LifeSpan\": 6,\n  \"Roll\": 90,\n  \"Start\": {\n    \"Color\": \"rgba(#ffffff, 0.9)\",\n    \"Width\": 0.4\n  },\n  \"End\": {\n    \"Color\": \"rgba(#2f0f53, 0.733)\",\n    \"Width\": 0.1\n  },\n  \"LightInfluence\": 0.3,\n  \"Smooth\": true,\n  \"RenderMode\": \"BlendLinear\"\n}\n```\n\n### Critical Hit Trail\n\n```json title=\"Critical.json\"\n{\n  \"TexturePath\": \"Trails/Critical.png\",\n  \"LifeSpan\": 6,\n  \"Roll\": 0,\n  \"Start\": {\n    \"Color\": \"rgba(#ffffff, 1)\",\n    \"Width\": 0.45\n  },\n  \"End\": {\n    \"Color\": \"rgba(#ffffff, 0.404)\",\n    \"Width\": 0\n  },\n  \"LightInfluence\": 0,\n  \"Smooth\": true,\n  \"RenderMode\": \"BlendLinear\"\n}\n```\n\n### Animated Trail\n\n```json title=\"Daggers_Dash.json\"\n{\n  \"TexturePath\": \"Trails/Daggers_Dash.png\",\n  \"LifeSpan\": 8,\n  \"Roll\": 90,\n  \"Start\": {\n    \"Color\": \"rgba(#ffffff, 1)\",\n    \"Width\": 0.5\n  },\n  \"End\": {\n    \"Color\": \"rgba(#ffffff, 1)\",\n    \"Width\": 0.1\n  },\n  \"LightInfluence\": 0.0,\n  \"Smooth\": true,\n  \"RenderMode\": \"BlendLinear\",\n  \"Animation\": {\n    \"FrameSize\": {\n      \"X\": 256,\n      \"Y\": 96\n    },\n    \"FrameLifeSpan\": 2,\n    \"FrameRange\": {\n      \"Max\": 3,\n      \"Min\": 0\n    }\n  }\n}\n```\n\nKey features:\n- **Animated texture**: 4 frames (0-3)\n- **Frame size**: 256x96 pixels per frame\n- **Frame lifespan**: 2 ticks per frame\n\n### NPC Claw Trail\n\n```json title=\"Bear_Claw.json\"\n{\n  \"TexturePath\": \"Trails/Claws/Claw_4.png\",\n  \"LifeSpan\": 7,\n  \"Roll\": 0,\n  \"Start\": {\n    \"Color\": \"rgba(#ff7f31, 0.8)\",\n    \"Width\": 0.2\n  },\n  \"End\": {\n    \"Color\": \"rgba(#ff0000, 0.526)\",\n    \"Width\": 0\n  },\n  \"LightInfluence\": 0.5,\n  \"Smooth\": true,\n  \"RenderMode\": \"BlendAdd\"\n}\n```\n\n### Memory Trail (Large)\n\n```json title=\"Memory_Trail.json\"\n{\n  \"TexturePath\": \"Trails/Ice.png\",\n  \"LifeSpan\": 10,\n  \"Roll\": 90,\n  \"Start\": {\n    \"Color\": \"#00e9ffdd\",\n    \"Width\": 10\n  },\n  \"End\": {\n    \"Color\": \"#000cffb8\",\n    \"Width\": 0\n  },\n  \"LightInfluence\": 0.516,\n  \"Smooth\": false,\n  \"RenderMode\": \"BlendLinear\"\n}\n```\n\nNote: Very wide trail (10 units) with smoothing disabled.\n\n## Trail Categories\n\n### Size Variations\n\n| Size | Default | Charged | Flame |\n|------|---------|---------|-------|\n| Small | `Small_Default` | `Small_Charged` | `Small_Flame` |\n| Medium | `Medium_Default` | `Medium_Charged` | `Medium_Flame` |\n| Large | `Large_Default` | `Large_Charged` | `Large_Flame` |\n| Huge | `Huge_Default` |  |  |\n\n### Weapon Trails\n\n| Weapon | Trail |\n|--------|-------|\n| Swords | `Weapons/Sword/Medium_Sword_Basic`, `Medium_Sword_Strong` |\n| Daggers | `Weapons/Dagger_Basic`, `Daggers_Dash`, `Daggers_Signature` |\n| Maces | `Medium_Mace_Normal`, `Medium_Mace_Charged`, `Mace_Signature` |\n| Arrows | `Weapons/Arrow/Arrow`, `Arrow_Ricochet`, `Arrow_Vamp` |\n| Bombs | `Weapons/Bomb/Bomb` |\n| Kunai | `Weapons/Kunai/Kunai` |\n\n### Elemental Trails\n\n| Element | Trails |\n|---------|--------|\n| Fire | `Small_Flame`, `Medium_Flame`, `Large_Flame` |\n| Ice/Frost | `Weapon_Sword_Frost`, `Memory_Trail` |\n| Void | `Void`, `Void_Green` |\n| Acid | `Acid` |\n\n### NPC Trails\n\n| NPC | Trail |\n|-----|-------|\n| Bear | `NPCs/Bear/Bear_Claw` |\n| Fen Stalker | `NPCs/Fen_Stalker/Fen_Stalker_Claw` |\n| Void Crawler | `NPCs/Crawler_Void/Crawler_Void_Claw` |\n\n## Creating Custom Trails\n\n### Basic Trail\n\n```json title=\"MyPlugin_Trail_Basic.json\"\n{\n  \"TexturePath\": \"MyPlugin/Trails/Custom.png\",\n  \"LifeSpan\": 6,\n  \"Roll\": 0,\n  \"Start\": {\n    \"Color\": \"#00ff00cc\",\n    \"Width\": 0.35\n  },\n  \"End\": {\n    \"Color\": \"#00ff0000\",\n    \"Width\": 0\n  },\n  \"LightInfluence\": 0.5,\n  \"Smooth\": true,\n  \"RenderMode\": \"BlendLinear\"\n}\n```\n\n### Glowing Trail\n\n```json title=\"MyPlugin_Trail_Glow.json\"\n{\n  \"TexturePath\": \"MyPlugin/Trails/Glow.png\",\n  \"LifeSpan\": 10,\n  \"Roll\": 0,\n  \"Start\": {\n    \"Color\": \"rgba(#ffaa00, 1)\",\n    \"Width\": 0.5\n  },\n  \"End\": {\n    \"Color\": \"rgba(#ff0000, 0.5)\",\n    \"Width\": 0.1\n  },\n  \"LightInfluence\": 0,\n  \"Smooth\": true,\n  \"RenderMode\": \"BlendAdd\"\n}\n```\n\n### Animated Trail\n\n```json title=\"MyPlugin_Trail_Animated.json\"\n{\n  \"TexturePath\": \"MyPlugin/Trails/Animated.png\",\n  \"LifeSpan\": 8,\n  \"Roll\": 90,\n  \"Start\": {\n    \"Color\": \"#ffffffff\",\n    \"Width\": 0.4\n  },\n  \"End\": {\n    \"Color\": \"#ffffff00\",\n    \"Width\": 0.2\n  },\n  \"Smooth\": true,\n  \"RenderMode\": \"BlendLinear\",\n  \"Animation\": {\n    \"FrameSize\": { \"X\": 128, \"Y\": 64 },\n    \"FrameLifeSpan\": 3,\n    \"FrameRange\": { \"Min\": 0, \"Max\": 5 }\n  }\n}\n```\n\n## Texture Requirements\n\n- **Format**: PNG with alpha channel\n- **Location**: `Assets/Common/Trails/`\n- **Animated textures**: Horizontal sprite sheet\n- **Recommended width**: Power of 2 (64, 128, 256, etc.)\n\n## Best Practices\n\n1. **Match lifespan to animation speed** - Faster attacks need shorter lifespans\n2. **Use additive blending for glow** - Creates light-emitting effect\n3. **Keep width reasonable** - 0.2-0.6 for weapons, larger for effects\n4. **Taper width to zero** - Natural fade at end\n5. **Use light influence sparingly** - 0 for consistent brightness, >0 for world-lit trails\n6. **Roll for projectiles** - 90 aligns trail with flight path\n7. **Smooth for organic motion** - Disable for sharp/mechanical trails\n\n## Related\n\n- [Particles](/api-reference/assets/vfx/particles/) - Particle systems\n- [Items Overview](/api-reference/assets/items/overview/) - Item definitions\n- [Weapons](/api-reference/assets/items/weapons/) - Weapon configurations","src/content/docs/api-reference/assets/vfx/trails.mdx","b2aa0250a23d2e25","api-reference/assets/world/environments",{"id":688,"data":690,"body":695,"filePath":696,"digest":697,"deferredRender":16},{"title":691,"editUrl":16,"head":692,"template":52,"sidebar":693,"pagefind":16,"draft":42},"Environment Configuration",[],{"hidden":42,"attrs":694},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nEnvironment configurations define weather forecasts, spawn densities, and audio/visual settings for different world regions. Each zone and biome can have unique environmental characteristics.\n\n## Asset Location\n\n\u003CFileTree>\n- Assets/Server/Environments/\n  - Default.json\n  - Zone0/\n  - Zone1/\n    - Env_Zone1_Autumn.json\n    - Env_Zone1_Azure.json\n    - Env_Zone1_Caves.json\n    - Env_Zone1_Caves_Forests.json\n    - Env_Zone1_Caves_Goblins.json\n    - Env_Zone1_Dungeons.json\n  - Zone2/\n  - Zone3/\n  - Zone4/\n  - Unique/\n  - Legacy/\n\u003C/FileTree>\n\n## Environment Schema\n\n### Core Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `WeatherForecasts` | `object` | Hour-by-hour weather configuration |\n| `SpawnDensity` | `float` | NPC spawn multiplier (0-1) |\n| `Tags` | `object` | Environment classification tags |\n\n### Weather Forecasts\n\nWeather is configured per hour (0-23):\n\n```json title=\"Basic weather forecast structure\"\n{\n  \"WeatherForecasts\": {\n    \"0\": [\n      { \"WeatherId\": \"Zone1_Clear\", \"Weight\": 60 },\n      { \"WeatherId\": \"Zone1_Cloudy_Light\", \"Weight\": 30 },\n      { \"WeatherId\": \"Zone1_Rain_Light\", \"Weight\": 10 }\n    ],\n    \"1\": [\n      { \"WeatherId\": \"Zone1_Clear\", \"Weight\": 60 },\n      { \"WeatherId\": \"Zone1_Cloudy_Light\", \"Weight\": 40 }\n    ]\n  }\n}\n```\n\n### Weather Entry Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `WeatherId` | `string` | Reference to weather definition |\n| `Weight` | `int` | Probability weight (higher = more likely) |\n\n### Tags\n\nTags categorize environments for spawning and behavior:\n\n```json\n{\n  \"Tags\": {\n    \"Zone1\": [\"Caves\", \"Forests\"],\n    \"Biome\": [\"Underground\"]\n  }\n}\n```\n\n## Zone Environments\n\n### Zone 1 (Plains)\n\n| Environment | Description |\n|-------------|-------------|\n| `Env_Zone1_Autumn` | Fall-themed with warm colors |\n| `Env_Zone1_Azure` | Blue-tinted magical area |\n| `Env_Zone1_Caves` | Underground cave system |\n| `Env_Zone1_Caves_Forests` | Forest cave entrances |\n| `Env_Zone1_Caves_Goblins` | Goblin-inhabited caves |\n| `Env_Zone1_Caves_Mountains` | Mountain caverns |\n| `Env_Zone1_Caves_Plains` | Plains cave system |\n| `Env_Zone1_Caves_Rats` | Rat-infested caves |\n| `Env_Zone1_Caves_Spiders` | Spider nest caves |\n| `Env_Zone1_Caves_Swamps` | Swamp caverns |\n| `Env_Zone1_Caves_Volcanic_T1-T3` | Volcanic caves (tiers) |\n| `Env_Zone1_Dungeons` | Dungeon interiors |\n| `Env_Zone1_Encounters` | Combat encounter areas |\n\n### Zone 2 (Desert)\n\nDesert and jungle environments with heat effects.\n\n### Zone 3 (Taiga)\n\nCold environments with snow and ice.\n\n### Zone 4 (Volcanic)\n\nExtreme heat and lava environments.\n\n## Examples\n\n### Cave Environment\n\n```json title=\"Env_Zone1_Caves.json\"\n{\n  \"SpawnDensity\": 0.5,\n  \"Tags\": {\n    \"Zone1\": [\"Caves\"]\n  },\n  \"WeatherForecasts\": {\n    \"0\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"1\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"2\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"3\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"4\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"5\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"6\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"7\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"8\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"9\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"10\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"11\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"12\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"13\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"14\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"15\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"16\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"17\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"18\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"19\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"20\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"21\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"22\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }],\n    \"23\": [{ \"WeatherId\": \"Cave_Shallow\", \"Weight\": 100 }]\n  }\n}\n```\n\nKey characteristics:\n- **50% spawn density** - Reduced monster spawning\n- **Cave_Shallow weather** - Constant cave conditions (no time-of-day change)\n- **Tags** - Marked as Zone1 Caves for spawn rules\n\n### Dynamic Weather Environment\n\n```json title=\"Example outdoor environment\"\n{\n  \"SpawnDensity\": 1.0,\n  \"Tags\": {\n    \"Zone1\": [\"Plains\", \"Outdoor\"]\n  },\n  \"WeatherForecasts\": {\n    \"0\": [\n      { \"WeatherId\": \"Zone1_Clear_Night\", \"Weight\": 70 },\n      { \"WeatherId\": \"Zone1_Cloudy_Night\", \"Weight\": 30 }\n    ],\n    \"6\": [\n      { \"WeatherId\": \"Zone1_Clear_Dawn\", \"Weight\": 60 },\n      { \"WeatherId\": \"Zone1_Fog_Morning\", \"Weight\": 40 }\n    ],\n    \"12\": [\n      { \"WeatherId\": \"Zone1_Clear_Day\", \"Weight\": 50 },\n      { \"WeatherId\": \"Zone1_Cloudy_Day\", \"Weight\": 30 },\n      { \"WeatherId\": \"Zone1_Rain\", \"Weight\": 20 }\n    ],\n    \"18\": [\n      { \"WeatherId\": \"Zone1_Clear_Dusk\", \"Weight\": 70 },\n      { \"WeatherId\": \"Zone1_Cloudy_Dusk\", \"Weight\": 30 }\n    ]\n  }\n}\n```\n\n## Weather Definitions\n\nWeather definitions are stored in `Assets/Server/Weathers/`:\n\n\u003CFileTree>\n- Assets/Server/Weathers/\n  - Zone1/\n    - Zone1_Clear.json\n    - Zone1_Cloudy_Light.json\n    - Zone1_Cloudy_Medium.json\n    - Zone1_Rain_Light.json\n    - Zone1_Rain_Heavy.json\n    - Zone1_Storm.json\n  - Zone2/\n  - Zone3/\n  - Zone4/\n  - Cave_Shallow.json\n  - Cave_Deep.json\n\u003C/FileTree>\n\nWeather definitions include:\n- Sky appearance\n- Fog settings\n- Particle effects (rain, snow)\n- Ambient sounds\n- Reverb preset\n- Lighting adjustments\n\n## Spawn Density\n\nThe `SpawnDensity` multiplier affects NPC spawning:\n\n| Value | Effect |\n|-------|--------|\n| `0.0` | No spawning |\n| `0.5` | Half normal spawning |\n| `1.0` | Normal spawning |\n| `1.5` | 150% spawning |\n| `2.0` | Double spawning |\n\n## Creating Custom Environments\n\n```json title=\"MyPlugin_Env_Custom.json\"\n{\n  \"SpawnDensity\": 0.8,\n  \"Tags\": {\n    \"MyPlugin\": [\"CustomBiome\"],\n    \"Zone1\": [\"Special\"]\n  },\n  \"WeatherForecasts\": {\n    \"0\": [\n      { \"WeatherId\": \"MyPlugin_Weather_Night\", \"Weight\": 100 }\n    ],\n    \"6\": [\n      { \"WeatherId\": \"MyPlugin_Weather_Dawn\", \"Weight\": 100 }\n    ],\n    \"12\": [\n      { \"WeatherId\": \"MyPlugin_Weather_Day\", \"Weight\": 70 },\n      { \"WeatherId\": \"MyPlugin_Weather_Special\", \"Weight\": 30 }\n    ],\n    \"18\": [\n      { \"WeatherId\": \"MyPlugin_Weather_Dusk\", \"Weight\": 100 }\n    ]\n  }\n}\n```\n\n## Environment Transitions\n\nWhen players move between environments:\n- Weather interpolates smoothly\n- Audio crossfades between ambiences\n- Spawn rules update at boundaries\n- Visual effects blend between settings\n\n## Best Practices\n\n1. **Use weights wisely** - Higher weights = more common weather\n2. **Match time of day** - Use appropriate weather for each hour\n3. **Consider spawn density** - Balance difficulty with density\n4. **Use meaningful tags** - Enable targeted NPC spawn rules\n5. **Test transitions** - Ensure smooth environment boundaries\n\n## Related\n\n- [Audio Effects](/api-reference/assets/audio/effects/) - Reverb and EQ presets\n- [Particle Systems](/api-reference/assets/vfx/particles/) - Weather particles\n- [World Overview](/api-reference/world/overview/) - World system API","src/content/docs/api-reference/assets/world/environments.mdx","7312fe73bb6090f7","api-reference/assets/world/instances",{"id":698,"data":700,"body":705,"filePath":706,"digest":707,"deferredRender":16},{"title":701,"editUrl":16,"head":702,"template":52,"sidebar":703,"pagefind":16,"draft":42},"World Instances",[],{"hidden":42,"attrs":704},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nWorld instances are self-contained world configurations that define spawn points, world generation, game rules, and persistence settings. They can be zone overworlds, dungeons, minigames, or special areas.\n\n## Asset Location\n\n\u003CFileTree>\n- Assets/Server/Instances/\n  - Zone1_Plains1/\n    - instance.bson\n    - resources/\n      - InstanceData.json\n      - Time.json\n      - ReputationData.json\n      - SpawnSuppressionController.json\n      - PrefabEditSession.json\n  - Zone2_Desert1/\n  - Zone3_Taiga1/\n  - Zone4_Volcanic1/\n  - CreativeHub/\n    - config.json\n    - resources/\n      - BlockCounter.json\n      - ConnectedBlocksWorldResource.json\n  - Forgotten_Temple/\n    - config.json\n    - resources/\n  - Dungeon_1/\n  - Dungeon_Goblin/\n  - Dungeon_Outlander/\n  - NPC_Gym/\n  - Challenge_Combat_1/\n  - Portals_Hedera/\n  - Portals_Henges/\n  - Portals_Jungles/\n  - Portals_Oasis/\n  - ShortLived/\n  - Void/\n  - Flat/\n  - Basic/\n  - Default/\n\u003C/FileTree>\n\n## Instance Types\n\n### Zone Overworlds\n\nMain game zones with full world generation:\n\n| Instance | Description |\n|----------|-------------|\n| `Zone1_Plains1` | Emerald Grove (Plains) |\n| `Zone2_Desert1` | Howling Sands (Desert) |\n| `Zone3_Taiga1` | Borea (Taiga/Snow) |\n| `Zone4_Volcanic1` | Devastated Lands |\n\n### Dungeons\n\nInstanced dungeon areas:\n\n| Instance | Description |\n|----------|-------------|\n| `Dungeon_1` | Generic dungeon template |\n| `Dungeon_Goblin` | Goblin cave dungeon |\n| `Dungeon_Outlander` | Outlander camp dungeon |\n| `Forgotten_Temple` | Story dungeon |\n\n### Special Instances\n\n| Instance | Description |\n|----------|-------------|\n| `CreativeHub` | Creative mode hub world |\n| `NPC_Gym` | NPC testing area |\n| `NPC_Faction_Gym` | Faction NPC testing |\n| `Challenge_Combat_1` | Combat challenge arena |\n| `Void` | Void dimension |\n| `Flat` | Flat world for testing |\n| `Basic` | Minimal instance template |\n\n### Portal Instances\n\nInstanced portal destinations:\n\n| Instance | Description |\n|----------|-------------|\n| `Portals_Hedera` | Hedera portal realm |\n| `Portals_Henges` | Henge portal area |\n| `Portals_Jungles` | Jungle portal realm |\n| `Portals_Oasis` | Oasis portal destination |\n| `Portals_Taiga` | Taiga portal realm |\n\n### Lifecycle Instances\n\n| Instance | Description |\n|----------|-------------|\n| `ShortLived` | Temporary instances (fast cleanup) |\n| `ShortLivedSlow` | Temporary instances (slow cleanup) |\n| `TimeOut` | Timeout-based instances |\n| `Persistent` | Never-cleanup instances |\n\n## Instance Configuration Schema\n\nThe main configuration is in `config.json`:\n\n### Core Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Version` | `int` | Configuration version |\n| `UUID` | `object` | Unique instance identifier |\n| `Seed` | `long` | World generation seed |\n| `SpawnProvider` | `object` | Spawn point configuration |\n| `WorldGen` | `object` | World generation settings |\n| `ChunkStorage` | `object` | Chunk persistence type |\n| `GameMode` | `string` | Default game mode |\n\n### Spawn Provider\n\n```json\n{\n  \"SpawnProvider\": {\n    \"Id\": \"Global\",\n    \"SpawnPoint\": {\n      \"X\": 5103.5,\n      \"Y\": 168.0,\n      \"Z\": 4982.5,\n      \"Pitch\": 0.0,\n      \"Yaw\": 90.0,\n      \"Roll\": 0.0\n    }\n  }\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Id` | `string` | Spawn provider type |\n| `SpawnPoint` | `object` | Default spawn coordinates |\n| `X`, `Y`, `Z` | `float` | World position |\n| `Pitch`, `Yaw`, `Roll` | `float` | View rotation |\n\n### World Generation\n\n```json\n{\n  \"WorldGen\": {\n    \"Type\": \"Hytale\",\n    \"Name\": \"Instance_Creative_Hub\",\n    \"Environment\": \"Env_Creative_Hub\"\n  }\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Type` | `string` | Generator type (`Hytale`, `Flat`) |\n| `Name` | `string` | World generator name |\n| `Environment` | `string` | Default environment ID |\n\n### Game Rules\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `IsTicking` | `bool` | `true` | Enable world tick updates |\n| `IsBlockTicking` | `bool` | `true` | Enable block tick updates |\n| `IsPvpEnabled` | `bool` | `true` | Allow player vs player |\n| `IsFallDamageEnabled` | `bool` | `true` | Enable fall damage |\n| `IsGameTimePaused` | `bool` | `false` | Freeze time of day |\n| `IsSpawningNPC` | `bool` | `true` | Enable NPC spawning |\n| `IsAllNPCFrozen` | `bool` | `false` | Freeze all NPCs |\n\n### Persistence Settings\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `IsSavingPlayers` | `bool` | `true` | Save player data |\n| `IsSavingChunks` | `bool` | `true` | Save chunk data |\n| `SaveNewChunks` | `bool` | `true` | Save newly generated chunks |\n| `IsUnloadingChunks` | `bool` | `true` | Unload distant chunks |\n| `DeleteOnUniverseStart` | `bool` | `false` | Reset on server start |\n| `DeleteOnRemove` | `bool` | `false` | Delete when unloaded |\n\n### Plugin Configuration\n\n```json\n{\n  \"Plugin\": {\n    \"Instance\": {\n      \"RemovalConditions\": [],\n      \"PreventReconnection\": true,\n      \"Discovery\": {\n        \"TitleKey\": \"server.instances.creative_hub.title\",\n        \"SubtitleKey\": \"server.instances.creative_hub.subtitle\",\n        \"Display\": true,\n        \"AlwaysDisplay\": false,\n        \"Icon\": \"Forgotten_Temple.png\",\n        \"Major\": true,\n        \"Duration\": 4.0,\n        \"FadeInDuration\": 1.5,\n        \"FadeOutDuration\": 1.5\n      }\n    }\n  }\n}\n```\n\n#### Discovery Settings\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `TitleKey` | `string` | Localization key for title |\n| `SubtitleKey` | `string` | Localization key for subtitle |\n| `Display` | `bool` | Show discovery notification |\n| `AlwaysDisplay` | `bool` | Show on every entry |\n| `Icon` | `string` | Discovery icon filename |\n| `Major` | `bool` | Large notification style |\n| `Duration` | `float` | Display time (seconds) |\n| `FadeInDuration` | `float` | Fade in time |\n| `FadeOutDuration` | `float` | Fade out time |\n\n## Resource Files\n\nEach instance has a `resources/` directory with state data:\n\n### InstanceData.json\n\nBasic instance state:\n\n```json\n{\n  \"HadPlayer\": false\n}\n```\n\n### Time.json\n\nGame time tracking:\n\n```json\n{\n  \"Now\": \"1970-01-01T00:00:02.163598610Z\"\n}\n```\n\n### SpawnSuppressionController.json\n\nControls spawn suppression zones:\n\n```json\n{\n  \"SpawnSuppressorMap\": {}\n}\n```\n\n### BlockCounter.json\n\nTracks block placement (creative mode):\n\n```json\n{\n  \"BlockPlacementCounts\": {}\n}\n```\n\n### ReputationData.json\n\nFaction reputation tracking.\n\n### PrefabEditSession.json\n\nPrefab editing state.\n\n## Examples\n\n### Creative Hub Instance\n\n```json title=\"CreativeHub/config.json\" {19-22,27,38-39,42}\n{\n  \"Version\": 4,\n  \"UUID\": {\n    \"$binary\": \"Ds/3XgghTq2JYJNzWFqVMQ==\",\n    \"$type\": \"04\"\n  },\n  \"Seed\": 1618917989368,\n  \"SpawnProvider\": {\n    \"Id\": \"Global\",\n    \"SpawnPoint\": {\n      \"X\": 5103.5,\n      \"Y\": 168.0,\n      \"Z\": 4982.5,\n      \"Pitch\": 0.0,\n      \"Yaw\": 90.0,\n      \"Roll\": 0.0\n    }\n  },\n  \"WorldGen\": {\n    \"Type\": \"Hytale\",\n    \"Name\": \"Instance_Creative_Hub\",\n    \"Environment\": \"Env_Creative_Hub\"\n  },\n  \"WorldMap\": {\n    \"Type\": \"Disabled\"\n  },\n  \"ChunkStorage\": {\n    \"Type\": \"Hytale\"\n  },\n  \"IsTicking\": false,\n  \"IsBlockTicking\": false,\n  \"IsPvpEnabled\": false,\n  \"IsFallDamageEnabled\": true,\n  \"IsGameTimePaused\": true,\n  \"GameTime\": \"0001-01-01T16:50:44.090953998Z\",\n  \"RequiredPlugins\": {},\n  \"GameMode\": \"Creative\",\n  \"IsSpawningNPC\": false,\n  \"IsAllNPCFrozen\": true,\n  \"GameplayConfig\": \"CreativeHub\",\n  \"IsCompassUpdating\": true,\n  \"IsSavingPlayers\": false,\n  \"IsSavingChunks\": true,\n  \"SaveNewChunks\": true,\n  \"IsUnloadingChunks\": true,\n  \"DeleteOnUniverseStart\": false,\n  \"DeleteOnRemove\": false,\n  \"Plugin\": {\n    \"Instance\": {\n      \"RemovalConditions\": [],\n      \"PreventReconnection\": true,\n      \"Discovery\": {\n        \"TitleKey\": \"server.instances.creative_hub.title\",\n        \"SubtitleKey\": \"server.instances.creative_hub.subtitle\",\n        \"Display\": true,\n        \"AlwaysDisplay\": false,\n        \"Icon\": \"Forgotten_Temple.png\",\n        \"Major\": true,\n        \"Duration\": 4.0,\n        \"FadeInDuration\": 1.5,\n        \"FadeOutDuration\": 1.5\n      }\n    }\n  }\n}\n```\n\nKey characteristics:\n- **Creative mode** - GameMode set to Creative\n- **Ticking disabled** - No world/block updates (performance)\n- **NPC spawning disabled** - No hostile mobs\n- **Time paused** - Fixed time of day\n- **Player saving disabled** - Fresh start each session\n\n### Dungeon Instance (Forgotten Temple)\n\n```json title=\"Forgotten_Temple/config.json\" {21,28,35-36}\n{\n  \"Version\": 4,\n  \"UUID\": {\n    \"$binary\": \"YDOsXrt3TOmXhNGwFrXXBA==\",\n    \"$type\": \"04\"\n  },\n  \"Seed\": 1618917989368,\n  \"SpawnProvider\": {\n    \"Id\": \"Global\",\n    \"SpawnPoint\": {\n      \"X\": 5095.0,\n      \"Y\": 169.0,\n      \"Z\": 4983.5,\n      \"Pitch\": 0.0,\n      \"Yaw\": 90.0,\n      \"Roll\": 0.0\n    }\n  },\n  \"WorldGen\": {\n    \"Type\": \"Hytale\",\n    \"Name\": \"Instance_Forgotten_Temple\"\n  },\n  \"ChunkStorage\": {\n    \"Type\": \"Hytale\"\n  },\n  \"IsTicking\": false,\n  \"IsBlockTicking\": true,\n  \"IsPvpEnabled\": false,\n  \"IsFallDamageEnabled\": true,\n  \"IsGameTimePaused\": true,\n  \"GameTime\": \"0001-01-04T08:00:00.000858306Z\",\n  \"GameMode\": \"Creative\",\n  \"IsSpawningNPC\": true,\n  \"IsSpawnMarkersEnabled\": true,\n  \"IsAllNPCFrozen\": true,\n  \"GameplayConfig\": \"ForgottenTemple\",\n  \"Plugin\": {\n    \"Instance\": {\n      \"PreventReconnection\": false,\n      \"Discovery\": {\n        \"TitleKey\": \"server.instances.forgotten_temple.title\",\n        \"SubtitleKey\": \"server.instances.forgotten_temple.subtitle\",\n        \"Display\": true,\n        \"AlwaysDisplay\": true,\n        \"Icon\": \"Forgotten_Temple.png\",\n        \"Major\": true,\n        \"Duration\": 4.0,\n        \"FadeInDuration\": 1.5,\n        \"FadeOutDuration\": 1.5\n      }\n    }\n  }\n}\n```\n\nKey characteristics:\n- **Block ticking enabled** - Allows trap/door mechanisms\n- **NPC spawning enabled** - Dungeon monsters\n- **Time paused** - Fixed lighting atmosphere\n- **AlwaysDisplay** - Shows notification every entry\n\n## Storage Types\n\n### ChunkStorage Types\n\n| Type | Description |\n|------|-------------|\n| `Hytale` | Standard Hytale chunk storage |\n| `Memory` | RAM-only (no persistence) |\n| `Disabled` | No chunk storage |\n\n### ResourceStorage Types\n\n| Type | Description |\n|------|-------------|\n| `Hytale` | Standard resource storage |\n| `Memory` | RAM-only resources |\n\n## Creating Custom Instances\n\n```json title=\"MyPlugin_Instance/config.json\"\n{\n  \"Version\": 4,\n  \"UUID\": {\n    \"$binary\": \"YOUR_UNIQUE_UUID_HERE\",\n    \"$type\": \"04\"\n  },\n  \"Seed\": 12345,\n  \"SpawnProvider\": {\n    \"Id\": \"Global\",\n    \"SpawnPoint\": {\n      \"X\": 0.0,\n      \"Y\": 100.0,\n      \"Z\": 0.0,\n      \"Pitch\": 0.0,\n      \"Yaw\": 0.0,\n      \"Roll\": 0.0\n    }\n  },\n  \"WorldGen\": {\n    \"Type\": \"Hytale\",\n    \"Name\": \"MyPlugin_WorldGen\",\n    \"Environment\": \"Env_Zone1_Plains\"\n  },\n  \"ChunkStorage\": {\n    \"Type\": \"Hytale\"\n  },\n  \"IsTicking\": true,\n  \"IsBlockTicking\": true,\n  \"IsPvpEnabled\": true,\n  \"IsFallDamageEnabled\": true,\n  \"IsGameTimePaused\": false,\n  \"GameMode\": \"Survival\",\n  \"IsSpawningNPC\": true,\n  \"IsAllNPCFrozen\": false,\n  \"IsSavingPlayers\": true,\n  \"IsSavingChunks\": true,\n  \"DeleteOnUniverseStart\": false,\n  \"DeleteOnRemove\": false,\n  \"Plugin\": {\n    \"Instance\": {\n      \"PreventReconnection\": false,\n      \"Discovery\": {\n        \"TitleKey\": \"my_plugin.instance.title\",\n        \"SubtitleKey\": \"my_plugin.instance.subtitle\",\n        \"Display\": true,\n        \"AlwaysDisplay\": false,\n        \"Icon\": \"Custom_Icon.png\",\n        \"Major\": true,\n        \"Duration\": 3.0,\n        \"FadeInDuration\": 1.0,\n        \"FadeOutDuration\": 1.0\n      }\n    }\n  }\n}\n```\n\n## Instance Directory Structure\n\n```\nMyPlugin_Instance/\n config.json           # Main instance configuration\n instance.bson         # Binary instance data\n resources/\n     InstanceData.json\n     Time.json\n     ReputationData.json\n     SpawnSuppressionController.json\n     PrefabEditSession.json\n```\n\n## Best Practices\n\n1. **Use appropriate storage** - Memory for temporary, Hytale for persistent\n2. **Set correct game rules** - Match instance purpose (creative vs survival)\n3. **Configure discovery** - Help players understand where they are\n4. **Manage tick settings** - Disable unnecessary ticking for performance\n5. **Test spawn points** - Ensure players don't spawn in solid blocks\n\n## Related\n\n- [Environments](/api-reference/assets/world/environments/) - Environment configuration\n- [Weather Systems](/api-reference/assets/world/weather/) - Weather definitions\n- [Prefabs](/api-reference/assets/world/prefabs/) - Prefab structures\n- [World Overview](/api-reference/world/overview/) - World system API","src/content/docs/api-reference/assets/world/instances.mdx","3a37c03860af90ba","api-reference/assets/world/prefabs",{"id":708,"data":710,"body":715,"filePath":716,"digest":717,"deferredRender":16},{"title":711,"editUrl":16,"head":712,"template":52,"sidebar":713,"pagefind":16,"draft":42},"Prefab Structures",[],{"hidden":42,"attrs":714},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nPrefabs are pre-built block structures used for world generation and spawning. They range from simple trees to complex dungeon rooms, monuments, and NPC camps.\n\n## Asset Location\n\n\u003CFileTree>\n- Assets/Server/Prefabs/\n  - Cave/\n    - Formations/\n    - Geysers/\n    - Klops/\n  - Dungeon/\n    - Challenge_Gate/\n    - Cursed_Crypt/\n    - Goblin_Lair/\n    - Labyrinth/\n    - Magic_Ruins/\n    - Outlander_Temple/\n    - Rift/\n    - Sandstone/\n    - Sewer/\n    - Shale/\n    - Slate/\n    - Stone/\n  - Mineshaft/\n  - Mineshaft_Drift/\n  - Monuments/\n    - Challenge/\n    - Encounter/\n    - Incidental/\n    - Story/\n    - Unique/\n  - Npc/\n  - Plants/\n  - Rock_Formations/\n  - Spawn/\n  - Testing/\n  - Trees/\n    - Oak/\n    - Birch/\n    - Ash/\n    - Pine/\n    - (70+ tree types)\n  - Example_Portal1.prefab.json\n  - default.minigame.prefab.json\n\u003C/FileTree>\n\n## Prefab Schema\n\n### Core Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `version` | `int` | Prefab format version |\n| `blockIdVersion` | `int` | Block ID mapping version |\n| `anchorX` | `int` | X anchor point |\n| `anchorY` | `int` | Y anchor point |\n| `anchorZ` | `int` | Z anchor point |\n| `blocks` | `array` | Block placement data |\n\n### Block Entry Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `x` | `int` | X offset from anchor |\n| `y` | `int` | Y offset from anchor |\n| `z` | `int` | Z offset from anchor |\n| `name` | `string` | Block type ID |\n| `rotation` | `int` | Optional rotation (0-3) |\n\n## File Format\n\nPrefabs use `.prefab.json` extension with optional `.prefab.json.lpf` compressed variant:\n\n```json title=\"Example_Portal1.prefab.json\"\n{\n  \"version\": 8,\n  \"blockIdVersion\": 1,\n  \"anchorX\": 0,\n  \"anchorY\": 0,\n  \"anchorZ\": 0,\n  \"blocks\": [\n    {\n      \"x\": -1,\n      \"y\": 0,\n      \"z\": -2,\n      \"name\": \"Rock_Aqua_Brick\"\n    },\n    {\n      \"x\": -1,\n      \"y\": 1,\n      \"z\": -2,\n      \"name\": \"Rock_Aqua_Brick\"\n    },\n    {\n      \"x\": 1,\n      \"y\": 0,\n      \"z\": -1,\n      \"name\": \"Rock_Aqua_Brick_Stairs\",\n      \"rotation\": 1\n    }\n  ]\n}\n```\n\n## Prefab Categories\n\n### Trees\n\nLocated in `Trees/`, organized by species and growth stage:\n\n```\nTrees/\n Oak/\n    Stage_0/\n       Oak_Stage0_001.prefab.json\n       Oak_Stage0_002.prefab.json\n    Stage_1/\n    Stage_2/\n    Stage_3/\n    Stage_4/\n    Stage_5/\n    Stage_6/\n    Stage_7/\n    Stumps/\n Birch/\n Pine/\n ...\n```\n\n**Stage System**:\n| Stage | Description |\n|-------|-------------|\n| `Stage_0` / `Stage_00` | Sapling/small |\n| `Stage_1` - `Stage_3` | Growing sizes |\n| `Stage_4` - `Stage_5` | Medium trees |\n| `Stage_6` - `Stage_7` | Large/giant trees |\n| `Stumps` | Cut tree remains |\n\n**Tree Types** (70+ species):\n- Temperate: Oak, Birch, Beech, Ash, Aspen\n- Autumn: Autumn, Amber\n- Magical: Azure, Hedera\n- Tropical: Banyan, Bamboo, Palm\n- Cold: Pine, Spruce, Fir, Boreal\n- Dead: Ash_Dead, Beech_Dry\n\n### Cave Formations\n\nLocated in `Cave/`:\n\n| Directory | Contents |\n|-----------|----------|\n| `Formations/Rock_Stone/` | Stone stalactites/stalagmites |\n| `Formations/Rock_Sandstone/` | Sandstone formations |\n| `Formations/Rock_Volcanic/` | Volcanic rock formations |\n| `Geysers/` | Geyser prefabs |\n| `Klops/` | Klops (troll) cave dwellings |\n\n**Klops Cave Structure**:\n```\nKlops/Basalt/\n Start/           # Entry room\n Main/            # Main living area\n Main_2/          # Secondary room\n Main_3/          # Tertiary room\n Bedroom/         # Sleeping area\n Bathroom/        # Utility room\n Cellar/          # Storage\n Cave/            # Natural cave section\n Stairs_Up/       # Upper connection\n Stairs_Down/     # Lower connection\n Entrance/        # Cave entrance\n```\n\n### Dungeons\n\nLocated in `Dungeon/`, organized by dungeon type:\n\n| Dungeon | Description |\n|---------|-------------|\n| `Challenge_Gate/` | Challenge room structures |\n| `Cursed_Crypt/` | Undead dungeon areas |\n| `Goblin_Lair/` | Goblin cave rooms |\n| `Labyrinth/` | Maze-like structures |\n| `Magic_Ruins/` | Ancient magical ruins |\n| `Outlander_Temple/` | Outlander faction temple |\n| `Rift/` | Dimensional rift areas |\n| `Sewer/` | Underground sewer system |\n| `Stone/` | Generic stone dungeon |\n| `Shale/` | Shale rock dungeon |\n| `Slate/` | Slate rock dungeon |\n| `Sandstone/` | Desert dungeon |\n\n### Monuments\n\nLocated in `Monuments/`:\n\n| Category | Description |\n|----------|-------------|\n| `Challenge/` | Combat challenge arenas |\n| `Encounter/` | NPC encounter locations |\n| `Incidental/` | Small points of interest |\n| `Story/` | Story-related structures |\n| `Unique/` | One-of-a-kind locations |\n\n### NPC Camps\n\nLocated in `Npc/`:\n- Camp structures\n- Faction buildings\n- NPC spawn points\n\n### Plants\n\nLocated in `Plants/`:\n- Bushes and shrubs\n- Flowers and grass\n- Crops and farming plants\n\n### Rock Formations\n\nLocated in `Rock_Formations/`:\n- Natural rock outcrops\n- Boulder clusters\n- Cliff faces\n\n### Mineshafts\n\n| Directory | Description |\n|-----------|----------|\n| `Mineshaft/` | Standard mine tunnels |\n| `Mineshaft_Drift/` | Drift mine structures |\n\n## Examples\n\n### Simple Tree Prefab\n\n```json title=\"Oak_Stage0_001.prefab.json\"\n{\n  \"version\": 8,\n  \"blockIdVersion\": 3,\n  \"anchorX\": 0,\n  \"anchorY\": 0,\n  \"anchorZ\": 0,\n  \"blocks\": [\n    { \"x\": 0, \"y\": 0, \"z\": 0, \"name\": \"Plant_Trunk_Oak\" },\n    { \"x\": 0, \"y\": 1, \"z\": 0, \"name\": \"Plant_Trunk_Oak\" },\n    { \"x\": 0, \"y\": 2, \"z\": 0, \"name\": \"Plant_Trunk_Oak\" },\n    { \"x\": 0, \"y\": 3, \"z\": 0, \"name\": \"Plant_Leaves_Oak\" },\n    { \"x\": -1, \"y\": 3, \"z\": 0, \"name\": \"Plant_Leaves_Oak\" },\n    { \"x\": 1, \"y\": 3, \"z\": 0, \"name\": \"Plant_Leaves_Oak\" },\n    { \"x\": 0, \"y\": 3, \"z\": -1, \"name\": \"Plant_Leaves_Oak\" },\n    { \"x\": 0, \"y\": 3, \"z\": 1, \"name\": \"Plant_Leaves_Oak\" },\n    { \"x\": 0, \"y\": 4, \"z\": 0, \"name\": \"Plant_Leaves_Oak\" }\n  ]\n}\n```\n\n### Structure with Rotation\n\n```json title=\"default.minigame.prefab.json\"\n{\n  \"version\": 8,\n  \"blockIdVersion\": 0,\n  \"anchorX\": 0,\n  \"anchorY\": 0,\n  \"anchorZ\": 0,\n  \"blocks\": [\n    {\n      \"x\": -1,\n      \"y\": 0,\n      \"z\": 0,\n      \"name\": \"Furniture_Village_Window\",\n      \"rotation\": 1\n    },\n    {\n      \"x\": -1,\n      \"y\": 1,\n      \"z\": 0,\n      \"name\": \"Furniture_Village_Window\",\n      \"rotation\": 1\n    },\n    {\n      \"x\": 0,\n      \"y\": 0,\n      \"z\": -1,\n      \"name\": \"Furniture_Village_Window\"\n    },\n    {\n      \"x\": 0,\n      \"y\": -1,\n      \"z\": 0,\n      \"name\": \"Rock_Gold_Brick\"\n    },\n    {\n      \"x\": 0,\n      \"y\": 2,\n      \"z\": 0,\n      \"name\": \"Deco_Lantern\"\n    }\n  ]\n}\n```\n\n### Empty Placeholder\n\n```json title=\"Dungeon_Empty.prefab.json\"\n{\n  \"version\": 8,\n  \"blockIdVersion\": 8,\n  \"anchorX\": 0,\n  \"anchorY\": 0,\n  \"anchorZ\": 0,\n  \"blocks\": [\n    { \"x\": 0, \"y\": 0, \"z\": 0, \"name\": \"Empty\" },\n    { \"x\": 0, \"y\": 1, \"z\": 0, \"name\": \"Empty\" }\n  ]\n}\n```\n\nThe `Empty` block type clears existing blocks at that position.\n\n## Rotation Values\n\n| Value | Direction |\n|-------|-----------|\n| `0` | North (default) |\n| `1` | East (90) |\n| `2` | South (180) |\n| `3` | West (270) |\n\n## Anchor Points\n\nThe anchor point (`anchorX`, `anchorY`, `anchorZ`) defines where the prefab is placed relative to its spawn position:\n\n- **X/Z = 0**: Prefab centered on placement point\n- **Y = 0**: Bottom of prefab at placement height\n\nBlock coordinates are relative to this anchor.\n\n## Compressed Format (.lpf)\n\nLarge prefabs have accompanying `.prefab.json.lpf` files containing compressed binary data for faster loading.\n\n## Creating Custom Prefabs\n\n```json title=\"MyPlugin_Structure.prefab.json\"\n{\n  \"version\": 8,\n  \"blockIdVersion\": 1,\n  \"anchorX\": 0,\n  \"anchorY\": 0,\n  \"anchorZ\": 0,\n  \"blocks\": [\n    { \"x\": 0, \"y\": 0, \"z\": 0, \"name\": \"Rock_Stone_Brick\" },\n    { \"x\": 1, \"y\": 0, \"z\": 0, \"name\": \"Rock_Stone_Brick\" },\n    { \"x\": 0, \"y\": 0, \"z\": 1, \"name\": \"Rock_Stone_Brick\" },\n    { \"x\": 1, \"y\": 0, \"z\": 1, \"name\": \"Rock_Stone_Brick\" },\n    { \"x\": 0, \"y\": 1, \"z\": 0, \"name\": \"Rock_Stone_Brick\" },\n    { \"x\": 1, \"y\": 1, \"z\": 0, \"name\": \"Rock_Stone_Brick\" },\n    { \"x\": 0, \"y\": 1, \"z\": 1, \"name\": \"Rock_Stone_Brick\" },\n    { \"x\": 1, \"y\": 1, \"z\": 1, \"name\": \"Rock_Stone_Brick\" },\n    { \"x\": 0, \"y\": 2, \"z\": 0, \"name\": \"Rock_Stone_Brick_Stairs\" },\n    { \"x\": 1, \"y\": 2, \"z\": 0, \"name\": \"Rock_Stone_Brick_Stairs\", \"rotation\": 2 },\n    { \"x\": 0, \"y\": 2, \"z\": 1, \"name\": \"Rock_Stone_Brick_Stairs\", \"rotation\": 1 },\n    { \"x\": 1, \"y\": 2, \"z\": 1, \"name\": \"Rock_Stone_Brick_Stairs\", \"rotation\": 3 }\n  ]\n}\n```\n\n## Block Naming Conventions\n\nPrefabs use standard block type IDs:\n\n| Category | Pattern | Examples |\n|----------|---------|----------|\n| Rock | `Rock_[Material]_[Variant]` | `Rock_Stone_Brick`, `Rock_Aqua_Brick_Ornate` |\n| Wood | `Wood_[Type]_[Variant]` | `Wood_Oak_Planks` |\n| Plants | `Plant_[Type]_[Species]` | `Plant_Leaves_Oak`, `Plant_Trunk_Birch` |\n| Furniture | `Furniture_[Set]_[Item]` | `Furniture_Village_Window` |\n| Decoration | `Deco_[Type]` | `Deco_Lantern` |\n| Empty | `Empty` | Clears block |\n\n## Best Practices\n\n1. **Use meaningful anchor points** - Center on logical placement position\n2. **Include rotation for directional blocks** - Doors, stairs, etc.\n3. **Keep coordinates reasonable** - Large prefabs impact performance\n4. **Use Empty strategically** - Clear unwanted terrain\n5. **Version your prefabs** - Use current version number (8)\n6. **Match blockIdVersion** - Ensure block IDs are valid for version\n\n## World Generation Integration\n\nPrefabs are placed during world generation based on:\n- Biome rules\n- Terrain conditions\n- Random distribution\n- Dungeon node graphs\n\n## Related\n\n- [Block Types](/api-reference/assets/blocks/block-types/) - Block definitions\n- [World Instances](/api-reference/assets/world/instances/) - Instance configuration\n- [Environments](/api-reference/assets/world/environments/) - Environment settings\n- [World Generation](/api-reference/worldgen/overview/) - World generation system","src/content/docs/api-reference/assets/world/prefabs.mdx","9cf387c264685cc5","api-reference/assets/world/weather",{"id":718,"data":720,"body":725,"filePath":726,"digest":727,"deferredRender":16},{"title":721,"editUrl":16,"head":722,"template":52,"sidebar":723,"pagefind":16,"draft":42},"Weather Systems",[],{"hidden":42,"attrs":724},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nWeather definitions control sky appearance, celestial bodies, clouds, fog, lighting, and particle effects. They are referenced by environment configurations to create dynamic weather conditions.\n\n## Asset Location\n\n\u003CFileTree>\n- Assets/Server/Weathers/\n  - Blood_Moon.json\n  - Creative_Hub.json\n  - Forgotten_Temple.json\n  - Void.json\n  - Zone1/\n    - Zone1_Sunny.json\n    - Zone1_Rain.json\n    - Zone1_Rain_Light.json\n    - Zone1_Storm.json\n    - Zone1_Foggy_Light.json\n    - Zone1_Swamp.json\n    - Cave_Shallow.json\n    - Cave_Deep.json\n    - Cave_Goblin.json\n    - Cave_Volcanic.json\n    - Dungeon_Cursed_Crypt.json\n  - Zone2/\n    - Zone2_Sunny.json\n    - Zone2_Sand_Storm.json\n    - Zone2_Thunder_Storm.json\n    - Zone2_Desert_Haze.json\n  - Zone3/\n    - Zone3_Snow.json\n    - Zone3_Snow_Heavy.json\n    - Zone3_Snow_Storm.json\n    - Zone3_Northern_Lights.json\n    - Zone3_Rain.json\n    - Zone3_Cave_Shallow.json\n  - Zone4/\n    - Zone4_Wastes.json\n    - Zone4_Lava_Fields.json\n    - Zone4_GhostForest.json\n    - Zone4_Storm.json\n  - Skylands/\n  - Poisonlands/\n  - Minigames/\n\u003C/FileTree>\n\n## Weather Schema\n\n### Core Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Tags` | `object` | Weather classification tags |\n| `Stars` | `string` | Star texture path |\n| `Moons` | `array` | Moon phase textures |\n| `Clouds` | `array` | Cloud layer configurations |\n| `Particle` | `object` | Weather particle system |\n| `FogDistance` | `[min, max]` | Fog start and end distances |\n\n### Time-Based Properties\n\nMost visual properties use hour-based keyframes (0-23) for time-of-day transitions:\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `SkyTopColors` | `array` | Upper sky gradient colors |\n| `SkyBottomColors` | `array` | Lower sky gradient colors |\n| `SkySunsetColors` | `array` | Sunset horizon colors |\n| `FogColors` | `array` | Fog tint colors |\n| `SunColors` | `array` | Sun disc colors |\n| `SunGlowColors` | `array` | Sun glow effect colors |\n| `SunScales` | `array` | Sun size per hour |\n| `SunlightColors` | `array` | Directional light colors |\n| `MoonColors` | `array` | Moon disc colors |\n| `MoonGlowColors` | `array` | Moon glow effect colors |\n| `MoonScales` | `array` | Moon size per hour |\n| `FogDensities` | `array` | Fog thickness per hour |\n| `FogHeightFalloffs` | `array` | Vertical fog falloff |\n\n### Hour Color Format\n\n```json\n{\n  \"SkyTopColors\": [\n    { \"Hour\": 5, \"Color\": \"#2b69a8ff\" },\n    { \"Hour\": 7, \"Color\": \"rgba(#077ddd, 1)\" },\n    { \"Hour\": 17, \"Color\": \"rgba(#077ddd, 1)\" },\n    { \"Hour\": 19, \"Color\": \"#2b69a8ff\" },\n    { \"Hour\": 21, \"Color\": \"#00000000\" }\n  ]\n}\n```\n\nColors can use:\n- Hex format: `#RRGGBB` or `#RRGGBBAA`\n- RGBA format: `rgba(#RRGGBB, alpha)`\n\n## Cloud Configuration\n\nClouds are defined as layered textures with time-based colors and speeds:\n\n```json title=\"Cloud layer example\"\n{\n  \"Clouds\": [\n    {\n      \"Texture\": \"Sky/Clouds/Light_Base.png\",\n      \"Colors\": [\n        { \"Hour\": 3, \"Color\": \"#1a1a1bc7\" },\n        { \"Hour\": 5, \"Color\": \"rgba(#ff5e43, 0.504)\" },\n        { \"Hour\": 7, \"Color\": \"#ffffffe6\" },\n        { \"Hour\": 17, \"Color\": \"#ffffffe6\" },\n        { \"Hour\": 19, \"Color\": \"#ff5e4347\" },\n        { \"Hour\": 21, \"Color\": \"#1a1a1bc7\" }\n      ],\n      \"Speeds\": [\n        { \"Hour\": 0, \"Value\": 0.7 }\n      ]\n    },\n    {\n      \"Texture\": \"Sky/Clouds/Light_Highlights.png\",\n      \"Colors\": [\n        { \"Hour\": 7, \"Color\": \"#ffffffe6\" }\n      ],\n      \"Speeds\": [\n        { \"Hour\": 0, \"Value\": 0.7 }\n      ]\n    }\n  ]\n}\n```\n\n### Cloud Textures\n\n| Texture | Use Case |\n|---------|----------|\n| `Sky/Clouds/Light_Base.png` | Clear weather base |\n| `Sky/Clouds/Light_Highlights.png` | Clear weather highlights |\n| `Sky/Clouds/Rain_Light_Base.png` | Light rain |\n| `Sky/Clouds/Rain_Light_Highlights.png` | Light rain highlights |\n| `Sky/Clouds/Rain_Heavy_Base.png` | Heavy rain/storm |\n| `Sky/Clouds/Rain_Heavy_Highlights.png` | Storm highlights |\n| `Sky/Clouds/Fluffy_Base.png` | Fluffy clouds |\n| `Sky/Clouds/Storm_Plain.png` | Storm overlay |\n\n## Moon Phases\n\nMoon textures change based on game day:\n\n```json\n{\n  \"Moons\": [\n    { \"Day\": 0, \"Texture\": \"Sky/MoonCycle/Moon_Full.png\" },\n    { \"Day\": 1, \"Texture\": \"Sky/MoonCycle/Moon_Gibbous.png\" },\n    { \"Day\": 2, \"Texture\": \"Sky/MoonCycle/Moon_Half.png\" },\n    { \"Day\": 3, \"Texture\": \"Sky/MoonCycle/Moon_Crescent.png\" },\n    { \"Day\": 4, \"Texture\": \"Sky/MoonCycle/Moon_New.png\" }\n  ]\n}\n```\n\n## Weather Particles\n\nWeather effects use particle systems:\n\n```json\n{\n  \"Particle\": {\n    \"SystemId\": \"Rain\",\n    \"OvergroundOnly\": true\n  }\n}\n```\n\n### Available Particle Systems\n\n| SystemId | Effect |\n|----------|--------|\n| `Rain` | Moderate rain |\n| `Rain_Heavy` | Heavy rain/storm |\n| `Rain_Light` | Light drizzle |\n| `Snow_Light` | Light snowfall |\n| `Snow_Heavy` | Heavy snowfall |\n| `Snow_Storm` | Blizzard |\n| `Dust_Storm` | Desert sandstorm |\n\n## Examples\n\n### Sunny Weather (Zone 1)\n\n```json title=\"Zone1_Sunny.json\" {2-7,102-103}\n{\n  \"Tags\": {\n    \"Zone1\": [\"Sunny\"]\n  },\n  \"Stars\": \"Sky/Stars.png\",\n  \"Moons\": [\n    { \"Day\": 0, \"Texture\": \"Sky/MoonCycle/Moon_Full.png\" },\n    { \"Day\": 1, \"Texture\": \"Sky/MoonCycle/Moon_Gibbous.png\" },\n    { \"Day\": 2, \"Texture\": \"Sky/MoonCycle/Moon_Half.png\" },\n    { \"Day\": 3, \"Texture\": \"Sky/MoonCycle/Moon_Crescent.png\" },\n    { \"Day\": 4, \"Texture\": \"Sky/MoonCycle/Moon_New.png\" }\n  ],\n  \"SkyTopColors\": [\n    { \"Hour\": 3, \"Color\": \"#00000000\" },\n    { \"Hour\": 5, \"Color\": \"#2b69a8ff\" },\n    { \"Hour\": 7, \"Color\": \"rgba(#077ddd, 1)\" },\n    { \"Hour\": 17, \"Color\": \"rgba(#077ddd, 1)\" },\n    { \"Hour\": 19, \"Color\": \"#2b69a8ff\" },\n    { \"Hour\": 21, \"Color\": \"#00000000\" }\n  ],\n  \"SkyBottomColors\": [\n    { \"Hour\": 4, \"Color\": \"#050e23ff\" },\n    { \"Hour\": 5, \"Color\": \"#85aff3ff\" },\n    { \"Hour\": 7, \"Color\": \"#8fd8f8ff\" },\n    { \"Hour\": 17, \"Color\": \"#8fd8f8ff\" },\n    { \"Hour\": 19, \"Color\": \"#598de1ff\" },\n    { \"Hour\": 21, \"Color\": \"#050e23ff\" }\n  ],\n  \"SkySunsetColors\": [\n    { \"Hour\": 3, \"Color\": \"#e32c4e00\" },\n    { \"Hour\": 5, \"Color\": \"#ff5e43ff\" },\n    { \"Hour\": 7, \"Color\": \"#ffb95100\" },\n    { \"Hour\": 17, \"Color\": \"#ffb95100\" },\n    { \"Hour\": 19, \"Color\": \"#ff5e43ff\" },\n    { \"Hour\": 21, \"Color\": \"#e32c4e00\" }\n  ],\n  \"FogDistance\": [-96, 1024]\n}\n```\n\nKey characteristics:\n- **Tags** identify weather type for environment matching\n- **Clear skies** with blue gradients during day\n- **Sunset colors** at dawn (5-7) and dusk (17-21)\n- **Long fog distance** (1024) for good visibility\n\n### Rain Weather\n\n```json title=\"Zone1_Rain.json\" {2-8,28-32}\n{\n  \"Tags\": {\n    \"Zone1\": [],\n    \"Rain\": [\"Moderate\"]\n  },\n  \"Particle\": {\n    \"SystemId\": \"Rain\",\n    \"OvergroundOnly\": true\n  },\n  \"Clouds\": [\n    {\n      \"Texture\": \"Sky/Clouds/Rain_Light_Highlights.png\",\n      \"Colors\": [\n        { \"Hour\": 7, \"Color\": \"rgba(#bad8e1, 0.401)\" },\n        { \"Hour\": 17, \"Color\": \"rgba(#bad8e1, 0.65)\" }\n      ],\n      \"Speeds\": [{ \"Hour\": 0, \"Value\": 0.7 }]\n    },\n    {\n      \"Texture\": \"Sky/Clouds/Rain_Light_Base.png\",\n      \"Colors\": [\n        { \"Hour\": 7, \"Color\": \"rgba(#385164, 0.776)\" }\n      ],\n      \"Speeds\": [{ \"Hour\": 0, \"Value\": 0.7 }]\n    }\n  ],\n  \"FogDensities\": [\n    { \"Hour\": 0, \"Value\": 0.2 }\n  ],\n  \"FogHeightFalloffs\": [\n    { \"Hour\": 0, \"Value\": 4 }\n  ]\n}\n```\n\nKey characteristics:\n- **Rain particle system** attached\n- **Darker cloud textures** for overcast look\n- **Increased fog density** (0.2) for atmosphere\n- **OvergroundOnly** prevents rain underground\n\n### Storm Weather\n\n```json title=\"Zone1_Storm.json\" {2-8,12-13}\n{\n  \"Tags\": {\n    \"Zone1\": [],\n    \"Rain\": [\"Storm\"]\n  },\n  \"Particle\": {\n    \"SystemId\": \"Rain_Heavy\",\n    \"OvergroundOnly\": true\n  },\n  \"Clouds\": [\n    {\n      \"Texture\": \"Sky/Clouds/Rain_Heavy_Base.png\",\n      \"Colors\": [\n        { \"Hour\": 7, \"Color\": \"rgba(#020000, 1)\" }\n      ],\n      \"Speeds\": [{ \"Hour\": 0, \"Value\": 1 }]\n    }\n  ],\n  \"FogDensities\": [\n    { \"Hour\": 0, \"Value\": 0.75 }\n  ],\n  \"SunlightColors\": [\n    { \"Hour\": 3, \"Color\": \"#3c3c3c\" },\n    { \"Hour\": 5, \"Color\": \"#e1e1e1\" },\n    { \"Hour\": 19, \"Color\": \"#e1e1e1\" },\n    { \"Hour\": 21, \"Color\": \"#4c4c4c\" }\n  ]\n}\n```\n\nKey characteristics:\n- **Heavy rain particles** for storm effect\n- **Dark clouds** blocking most light\n- **High fog density** (0.75) for reduced visibility\n- **Faster cloud speed** (1.0) for wind effect\n- **Muted sunlight colors** for overcast lighting\n\n### Snow Weather (Zone 3)\n\n```json title=\"Zone3_Snow.json\" {2-7,14-15}\n{\n  \"Tags\": {\n    \"Zone3\": [],\n    \"Snow\": [\"Moderate\"]\n  },\n  \"Particle\": {\n    \"SystemId\": \"Snow_Light\",\n    \"OvergroundOnly\": true\n  },\n  \"Clouds\": [\n    {\n      \"Texture\": \"Sky/Clouds/Fluffy_Base.png\",\n      \"Colors\": [\n        { \"Hour\": 7, \"Color\": \"rgba(#e9edf1, 1)\" },\n        { \"Hour\": 17, \"Color\": \"rgba(#e9edf1, 1)\" }\n      ],\n      \"Speeds\": [{ \"Hour\": 0, \"Value\": 1 }]\n    }\n  ],\n  \"FogColors\": [\n    { \"Hour\": 7, \"Color\": \"#cad8f4\" },\n    { \"Hour\": 17, \"Color\": \"#cad8f4\" }\n  ],\n  \"FogDensities\": [\n    { \"Hour\": 0, \"Value\": 0.4 }\n  ]\n}\n```\n\nKey characteristics:\n- **Snow particle system** for snowfall\n- **Cool-toned fog colors** for cold atmosphere\n- **Fluffy clouds** texture for winter sky\n- **Moderate fog density** for snowy haze\n\n### Cave Weather\n\n```json title=\"Cave_Shallow.json\" {8-9}\n{\n  \"Stars\": \"Sky/Stars.png\",\n  \"SkyTopColors\": [\n    { \"Hour\": 7, \"Color\": \"rgba(#4291bd, 1)\" },\n    { \"Hour\": 19, \"Color\": \"rgba(#4291bd, 1)\" },\n    { \"Hour\": 5, \"Color\": \"rgba(#000000, 1)\" },\n    { \"Hour\": 21, \"Color\": \"rgba(#030000, 1)\" }\n  ],\n  \"FogDistance\": [-128, 128],\n  \"FogColors\": [\n    { \"Hour\": 7, \"Color\": \"#8e917b\" }\n  ],\n  \"Clouds\": [\n    {\n      \"Texture\": \"Sky/Clouds/Light_Base.png\",\n      \"Speeds\": [{ \"Hour\": 0, \"Value\": 0 }]\n    }\n  ]\n}\n```\n\nKey characteristics:\n- **No particle effects** (no rain/snow underground)\n- **Short fog distance** (128) for enclosed feeling\n- **Static clouds** (speed 0) - no wind movement\n- **Consistent lighting** regardless of time\n\n## Weather Categories\n\n### Zone 1 (Plains/Emerald Grove)\n\n| Weather | Description |\n|---------|-------------|\n| `Zone1_Sunny` | Clear blue skies |\n| `Zone1_Cloudy_Medium` | Overcast conditions |\n| `Zone1_Foggy_Light` | Morning fog |\n| `Zone1_Rain_Light` | Light drizzle |\n| `Zone1_Rain` | Moderate rain |\n| `Zone1_Storm` | Heavy thunderstorm |\n| `Zone1_Swamp` | Murky swamp atmosphere |\n| `Zone1_Swamp_Foggy` | Dense swamp fog |\n| `Zone1_Azurewood_Fireflies` | Magical forest at night |\n| `Zone1_Sunny_Fireflies` | Night with fireflies |\n\n### Zone 2 (Desert/Howling Sands)\n\n| Weather | Description |\n|---------|-------------|\n| `Zone2_Sunny` | Hot desert sun |\n| `Zone2_Blazing_Light` | Intense heat |\n| `Zone2_Cloudy_Light` | Light cloud cover |\n| `Zone2_Desert_Haze` | Heat shimmer |\n| `Zone2_Sand_Storm` | Sandstorm conditions |\n| `Zone2_Thunder_Storm` | Desert thunderstorm |\n| `Zone2_Corrupted_Oasis` | Corrupted water area |\n\n### Zone 3 (Taiga/Borea)\n\n| Weather | Description |\n|---------|-------------|\n| `Zone3_Cloudy_Light` | Overcast cold |\n| `Zone3_Cloudy_Medium` | Heavy clouds |\n| `Zone3_Cloudy_Boreal` | Northern atmosphere |\n| `Zone3_Snow` | Moderate snowfall |\n| `Zone3_Snow_Heavy` | Heavy snowfall |\n| `Zone3_Snow_Storm` | Blizzard |\n| `Zone3_Rain` | Cold rain |\n| `Zone3_Northern_Lights` | Aurora borealis |\n| `Zone3_Hedera` | Hedera biome weather |\n\n### Zone 4 (Devastated Lands)\n\n| Weather | Description |\n|---------|-------------|\n| `Zone4_Light` | Basic visibility |\n| `Zone4_Wastes` | Wasteland atmosphere |\n| `Zone4_Wastes_Rain` | Acid rain |\n| `Zone4_AshWastes` | Ash-filled air |\n| `Zone4_AshWastes_Storm` | Ash storm |\n| `Zone4_Lava_Fields` | Volcanic area |\n| `Zone4_GhostForest` | Haunted forest |\n| `Zone4_Spooky` | Eerie atmosphere |\n| `Zone4_Storm` | Corrupted storm |\n\n### Special Weather\n\n| Weather | Description |\n|---------|-------------|\n| `Blood_Moon` | Red moon event |\n| `Void` | Void dimension |\n| `Forgotten_Temple` | Temple interior |\n| `Portals_Void_Event_Light` | Portal event (light) |\n| `Portals_Void_Event_Intense` | Portal event (intense) |\n\n## Creating Custom Weather\n\n```json title=\"MyPlugin_Weather_Custom.json\"\n{\n  \"Tags\": {\n    \"MyPlugin\": [\"Custom\"],\n    \"Zone1\": [\"Special\"]\n  },\n  \"Stars\": \"Sky/Stars.png\",\n  \"Moons\": [\n    { \"Day\": 0, \"Texture\": \"Sky/MoonCycle/Moon_Full.png\" }\n  ],\n  \"Clouds\": [\n    {\n      \"Texture\": \"Sky/Clouds/Light_Base.png\",\n      \"Colors\": [\n        { \"Hour\": 7, \"Color\": \"#d0e8ffff\" },\n        { \"Hour\": 17, \"Color\": \"#d0e8ffff\" }\n      ],\n      \"Speeds\": [{ \"Hour\": 0, \"Value\": 0.5 }]\n    }\n  ],\n  \"SkyTopColors\": [\n    { \"Hour\": 7, \"Color\": \"#4488ccff\" },\n    { \"Hour\": 21, \"Color\": \"#000022ff\" }\n  ],\n  \"FogColors\": [\n    { \"Hour\": 7, \"Color\": \"#aaccff\" }\n  ],\n  \"FogDistance\": [-96, 512],\n  \"Particle\": {\n    \"SystemId\": \"Rain_Light\",\n    \"OvergroundOnly\": true\n  }\n}\n```\n\n## Best Practices\n\n1. **Use consistent hour keyframes** - Dawn (5-7), day (7-17), dusk (17-21), night (21-5)\n2. **Layer clouds properly** - Base layer first, highlights on top\n3. **Match fog to sky** - Fog color should complement sky bottom\n4. **Consider gameplay** - Heavy fog reduces visibility significantly\n5. **Test time transitions** - Ensure smooth color interpolation\n6. **Use appropriate particles** - Match particle intensity to weather type\n\n## Related\n\n- [Environments](/api-reference/assets/world/environments/) - Environment configuration\n- [Particle Systems](/api-reference/assets/vfx/particles/) - Particle effects\n- [Audio Effects](/api-reference/assets/audio/effects/) - Weather audio (reverb)","src/content/docs/api-reference/assets/world/weather.mdx","62d9e573b7783f58","api-reference/assets/npcs/attachments",{"id":728,"data":730,"body":735,"filePath":736,"digest":737,"deferredRender":16},{"title":731,"editUrl":16,"head":732,"template":52,"sidebar":733,"pagefind":16,"draft":42},"NPC Attachments",[],{"hidden":42,"attrs":734},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nNPC attachments define customizable parts that can be attached to character models, including eyes, ears, hair, beards, and faces. These are primarily used for player character customization but can also be applied to humanoid NPCs.\n\n## Asset Locations\n\n\u003CFileTree>\n- Assets/Common/Characters/\n  - Body_Attachments/\n    - Eyes/\n      - Eyes.blockymodel\n      - Eyes_Fullbright_Pupil.blockymodel\n      - Eyes_Textures/\n    - Ears/\n      - Ears1.blockymodel\n      - Elf_Ear_Small.blockymodel\n    - Eyebrows/\n    - Mouths/\n    - Faces/\n      - Player_Face_Detached.blockymodel\n    - Beards/\n      - Full.blockymodel\n      - VikingBeard.blockymodel\n      - (35+ beard styles)\n  - Haircuts/\n    - GenericShort.blockymodel\n    - PonyTail.blockymodel\n    - Mohawk.blockymodel\n    - (180+ hairstyles)\n  - Player.blockymodel\n  - Player_Textures/\n\u003C/FileTree>\n\n## Attachment Types\n\n### Eyes\n\nEye attachments define the eye shapes and textures for characters.\n\n| Model | Description |\n|-------|-------------|\n| `Eyes.blockymodel` | Standard eyes |\n| `Eyes_Fullbright_Pupil.blockymodel` | Eyes with bright pupils |\n\n**Available Textures**:\n- `Greyscale.png` - Standard grayscale (for tinting)\n- `Greyscale_Large.png` - Larger eye variant\n- `Almond_Greyscale.png` - Almond-shaped eyes\n- `Plain_Greyscale.png` - Simple eye design\n- `Eyes_Square_Pupil.png` - Square pupil style\n- `Outlander_Brown.png` - Brown outlander eyes\n- `Outlander_Red.png` - Red outlander eyes\n\n### Ears\n\nEar attachments provide different ear shapes.\n\n| Model | Description |\n|-------|-------------|\n| `Ears1.blockymodel` | Standard ears |\n| `Elf_Ear_Small.blockymodel` | Small elven ears |\n\n### Beards\n\nBeard attachments for facial hair customization.\n\n| Category | Styles |\n|----------|--------|\n| **Short** | Goatee, SoulPatch, ThinGoatee |\n| **Medium** | Full, Trimmed, Groomed, Medium |\n| **Long** | Full_Long, GoateeLong, Large |\n| **Styled** | Curly, Wavy, Handlebar, TwirlyMoustache |\n| **Braided** | DoubleBraid, TripleBraid |\n| **Themed** | PirateBeard, PirateGoatee, VikingBeard, Soldier |\n| **Simple** | Simple, SimpleLong, ShortTrimmed |\n\n**Full Beard List**:\n- ChinCurtain, Curly, Full, Full_Long\n- Goatee, GoateeLong, Groomed, Groomed_Large\n- Handlebar, Hip, Large, Medium\n- Moustache, PirateBeard, PirateGoatee\n- ShortTrimmed, Simple, SimpleLong\n- Soldier, SoulPatch, Stylish\n- ThinGoatee, Trimmed, TripleBraid\n- TwirlyMoustache, VikingBeard, Wavy\n\nMost beards use `_Greyscale.png` textures for color tinting.\n\n### Haircuts\n\nOver 180 hairstyle options organized by category:\n\n| Category | Examples |\n|----------|----------|\n| **Short** | GenericShort, SuperShort, Short, Quiff, QuiffLeft |\n| **Medium** | GenericMedium, BobCut, SimpleBobcut, MessyBobcut |\n| **Long** | GenericLong, Long, LongCurly, WavyLong, LongBangs |\n| **Ponytails** | PonyTail, SidePonytail, PuffyPonytail, WavyPonytail, WidePonytail |\n| **Braids** | Braid, BraidDouble, ThickBraid, WavyBraids, BraidedPonytail |\n| **Buns** | Bun, FighterBuns, PonyBuns, SideBuns, StraightHairBun, RoseBun, ElfBackBun |\n| **Pigtails** | Pigtails, LongPigtails, SmallPigtails, LongHairPigtail, SingleSidePigtail |\n| **Curly** | Curly, CurlyShort, MediumCurly, LongCurly, FrizzyLong |\n| **Wavy** | WavyShort, WavyLong, MessyWavy, EmoWavy, OmbreWavy |\n| **Mohawks** | Mohawk, RaiderMohawk |\n| **Dreadlocks** | Dreadlocks, Dreadlocks02, Dreadlocks03, ShortDreads |\n| **Bangs** | Bangs, LongBangs, EmoBangs, CuteEmoBangs, BangsShavedBack, Fringe |\n| **Slicked** | Slickback, SuperSlickback, Sideslick, SuperSideSlick |\n| **Cultural** | Cornrows, BantuKnot, AfroPuffs, Frizzy_Volume |\n| **Themed** | Viking, VikingWarrior, Viking_TopKnot, Samurai, Berserker |\n| **Emo/Scene** | Emo, EmoBangs, EmoWavy, CuteEmoBangs |\n| **Fantasy** | Cat, Wings, Witch, MaleElf, ElfBackBun |\n\n### Faces\n\nDetached face attachments for special character types.\n\n| Model | Description |\n|-------|-------------|\n| `Player_Face_Detached.blockymodel` | Detached face for customization |\n\n### Eyebrows & Mouths\n\nAdditional facial feature attachments.\n\n| Type | Location |\n|------|----------|\n| Eyebrows | `Body_Attachments/Eyebrows/` |\n| Mouths | `Body_Attachments/Mouths/` |\n\n## Texture Conventions\n\n### Greyscale Textures\n\nMost attachments use grayscale textures (`*_Greyscale.png`) that are tinted at runtime:\n\n```\nBeard_Greyscale.png     Tinted to match hair color\nHaircut_Greyscale.png   Tinted to match selected color\nEyes_Greyscale.png      Tinted to match eye color\n```\n\nThis allows a single model/texture to support multiple colors.\n\n### Color Textures\n\nSome attachments have pre-colored textures:\n\n```\nOutlander_Brown.png     Fixed brown color\nOutlander_Red.png       Fixed red color\n```\n\n## NPC Categories\n\nNPCs are organized into categories based on their type and behavior patterns.\n\n\u003CFileTree>\n- Assets/Common/NPC/\n  - Beast/\n    - Bear_Grizzly/\n    - Wolf/\n    - Spider/\n    - Tiger_Sabertooth/\n  - Critter/\n    - Bunny/\n    - Squirrel/\n  - Flying_Beast/\n  - Flying_Critter/\n  - Flying_Wildlife/\n  - Human/\n  - Intelligent/\n  - Livestock/\n  - Pets/\n  - Swimming_Beast/\n  - Swimming_Critter/\n  - Swimming_Wildlife/\n  - Undead/\n  - Void/\n  - Wildlife/\n  - Boss/\n  - Elemental/\n  - MISC/\n  - Scifi/\n  - Statues/\n\u003C/FileTree>\n\n### Category Descriptions\n\n| Category | Description | Examples |\n|----------|-------------|----------|\n| **Beast** | Aggressive land creatures | Bear, Wolf, Spider, Tiger, Yeti |\n| **Critter** | Small harmless creatures | Bunny, Squirrel |\n| **Wildlife** | Neutral land animals | Deer, Antelope, Bison |\n| **Livestock** | Domestic animals | Cow, Sheep, Pig, Horse, Chicken |\n| **Flying_Beast** | Aggressive flying creatures |  |\n| **Flying_Critter** | Small flying creatures | Butterfly |\n| **Flying_Wildlife** | Neutral flying creatures | Birds |\n| **Swimming_Beast** | Aggressive water creatures | Crocodile |\n| **Swimming_Critter** | Small water creatures | Fish |\n| **Swimming_Wildlife** | Neutral water creatures |  |\n| **Human** | Human NPCs | Villagers, Guards |\n| **Intelligent** | Smart hostile NPCs | Trork, Goblin, Skeleton |\n| **Undead** | Undead creatures | Zombie, Skeleton |\n| **Void** | Void creatures | Crawler, Eye |\n| **Boss** | Boss enemies | Dragon, Scarak_Broodmother |\n| **Elemental** | Elemental creatures | Spark_Living |\n| **Pets** | Tameable companions |  |\n| **Statues** | Decorative statue models |  |\n| **MISC** | Miscellaneous NPCs |  |\n| **Scifi** | Sci-fi themed NPCs |  |\n\n### Beast Category Examples\n\n```\nBeast/\n Bear_Grizzly/\n Bear_Polar/\n Emberwulf/\n Fox/\n Hyena/\n Larva/\n Molerat/\n Raptor_Cave/\n Rat/\n Rex_Cave/\n Scorpion/\n Slug_Magma/\n Snake/\n Spider/\n Spider_Cave/\n Tiger_Sabertooth/\n Wolf/\n Yeti/\n```\n\n## Creating Custom Attachments\n\n### Hair Attachment\n\n```\nMyPlugin_Haircut.blockymodel\nMyPlugin_Haircut_Greyscale.png\n```\n\nRequirements:\n- Model anchored to head bone\n- Grayscale texture for color tinting\n- Proper UV mapping\n\n### Beard Attachment\n\n```\nMyPlugin_Beard.blockymodel\nMyPlugin_Beard_Greyscale.png\n```\n\nRequirements:\n- Model anchored to jaw/chin area\n- Grayscale texture for tinting\n- Compatible with face animations\n\n### Eye Attachment\n\n```\nMyPlugin_Eyes.blockymodel\nMyPlugin_Eyes_Greyscale.png\n```\n\nRequirements:\n- Model positioned at eye sockets\n- Support for blinking animations\n- Grayscale for iris color tinting\n\n## Best Practices\n\n1. **Use grayscale textures** - Enables color customization\n2. **Follow bone naming** - Match existing attachment points\n3. **Test with animations** - Verify attachments move correctly\n4. **Optimize geometry** - Keep polygon count reasonable\n5. **Match art style** - Follow Hytale's voxel aesthetic\n6. **Consider clipping** - Test with various body types\n7. **Support tinting** - Use grayscale for customizable colors\n\n## Related\n\n- [NPC Overview](/api-reference/assets/npcs/overview/) - NPC system overview\n- [Model Definitions](/api-reference/assets/npcs/models/) - NPC model configuration\n- [NPC Behaviors](/api-reference/assets/npcs/behaviors/) - Behavior system\n- [NPC Groups](/api-reference/assets/npcs/groups/) - Group membership","src/content/docs/api-reference/assets/npcs/attachments.mdx","fb49f111006aa0cb","api-reference/assets/npcs/behaviors",{"id":738,"data":740,"body":745,"filePath":746,"digest":747,"deferredRender":16},{"title":741,"editUrl":16,"head":742,"template":52,"sidebar":743,"pagefind":16,"draft":42},"NPC Behaviors",[],{"hidden":42,"attrs":744},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nNPC behaviors are defined through **Role** files that specify AI states, sensors, actions, and motion controllers. The behavior system uses a hierarchical template/variant architecture for reusability.\n\n## Asset Location\n\n\u003CFileTree>\n- Assets/Server/NPC/Roles/\n  - _Core/\n    - Templates/\n      - Template_Predator.json\n      - Template_Animal_Neutral.json\n      - Template_Birds_Passive.json\n      - Template_Swimming_Aggressive.json\n    - Components/\n      - Flock/\n      - (Reusable instruction components)\n  - Creature/\n    - Livestock/\n      - Sheep.json\n      - Cow.json\n      - Horse.json\n    - Mammal/\n      - Wolf_Black.json\n      - Bear_Grizzly.json\n      - Fox.json\n    - Critter/\n      - Mouse.json\n      - Squirrel.json\n    - Vermin/\n      - Spider.json\n      - Snake_Cobra.json\n    - Mythic/\n      - Yeti.json\n      - Fen_Stalker.json\n  - Undead/\n    - Zombie/\n      - Zombie.json\n      - Templates/\n      - Components/\n    - Skeleton/\n      - Skeleton.json\n  - Intelligent/\n    - Aggressive/\n      - Goblin/\n      - Trork/\n      - Outlander/\n      - Scarak/\n    - Neutral/\n      - Feran/\n      - Kweebec/\n  - Void/\n\u003C/FileTree>\n\n## Role Types\n\n### Abstract (Template)\n\nBase templates that define reusable behavior patterns. Cannot be used directly.\n\n```json title=\"Template_Predator.json (excerpt)\"\n{\n  \"Type\": \"Abstract\",\n  \"Parameters\": {\n    \"Appearance\": {\n      \"Value\": \"Fox\",\n      \"Description\": \"Model to be used.\"\n    },\n    \"MaxHealth\": {\n      \"Value\": 100,\n      \"Description\": \"Max health for the NPC.\"\n    },\n    \"ViewRange\": {\n      \"Value\": 24,\n      \"Description\": \"The range from which the target will be seen.\"\n    }\n  },\n  \"StartState\": \"Idle\",\n  \"DefaultNPCAttitude\": \"Ignore\",\n  \"DefaultPlayerAttitude\": \"Neutral\"\n}\n```\n\n### Variant\n\nSpecific NPCs that inherit from templates and override specific parameters.\n\n```json title=\"Wolf_Black.json\"\n{\n  \"Type\": \"Variant\",\n  \"Reference\": \"Template_Predator\",\n  \"Parameters\": {\n    \"Appearance\": {\n      \"Value\": \"Wolf_Black\",\n      \"Description\": \"Model to be used.\"\n    },\n    \"DropList\": {\n      \"Value\": \"Drop_Wolf_Black\",\n      \"Description\": \"Drop Items.\"\n    },\n    \"MaxHealth\": {\n      \"Value\": 70,\n      \"Description\": \"Max health for the NPC\"\n    }\n  },\n  \"Modify\": {\n    \"Appearance\": { \"Compute\": \"Appearance\" },\n    \"MaxHealth\": 103,\n    \"MaxSpeed\": 10,\n    \"AttitudeGroup\": \"PredatorsBig\",\n    \"Attack\": \"Root_NPC_Wolf_Attack\",\n    \"AttackDistance\": 2.5\n  }\n}\n```\n\n### Component\n\nReusable instruction blocks that can be referenced from multiple roles.\n\n```json title=\"Component_Instruction_Attack_Sequence_Zombie.json\"\n{\n  \"Class\": \"Instruction\",\n  \"Interface\": \"Hytale.Instruction.AttackSequence\",\n  \"Type\": \"Component\",\n  \"Parameters\": {\n    \"AttackDistance\": {\n      \"Value\": 3.25,\n      \"Description\": \"The distance at which an NPC will execute attacks\"\n    }\n  },\n  \"Content\": {\n    \"Sensor\": {\n      \"Type\": \"Target\",\n      \"Range\": { \"Compute\": \"AttackDistance\" },\n      \"Filters\": [{ \"Type\": \"LineOfSight\" }]\n    },\n    \"Actions\": [\n      { \"Type\": \"Attack\", \"Attack\": \"Zombie_Swing_Left\" },\n      { \"Type\": \"Attack\", \"Attack\": \"Zombie_Swing_Right\" },\n      { \"Type\": \"Attack\", \"Attack\": \"Zombie_Bite\" }\n    ]\n  }\n}\n```\n\n## Core Role Properties\n\n### Basic Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Type` | `string` | Role type: `Abstract`, `Variant`, or `Component` |\n| `Reference` | `string` | Parent template to inherit from (Variant only) |\n| `Parameters` | `object` | Configurable parameters with defaults |\n| `Modify` | `object` | Property overrides |\n| `StartState` | `string` | Initial AI state (e.g., `\"Idle\"`) |\n| `Appearance` | `string` | Model definition ID |\n| `DropList` | `string` | Drop table ID |\n| `MaxHealth` | `int` | Maximum health points |\n\n### Attitude Configuration\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `DefaultNPCAttitude` | `string` | `\"Ignore\"` | Default attitude toward NPCs |\n| `DefaultPlayerAttitude` | `string` | `\"Neutral\"` | Default attitude toward players |\n| `AttitudeGroup` | `string` |  | Group for attitude calculations |\n| `DisableDamageGroups` | `array` | `[\"Self\"]` | Groups this NPC won't damage |\n\n**Attitude Values**:\n- `Hostile` - Will attack on sight\n- `Neutral` - Will attack if provoked\n- `Friendly` - Won't attack, may follow\n- `Ignore` - Completely ignores\n\n### Movement Configuration\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `MaxSpeed` | `float` | `8` | Maximum walking speed |\n| `RunThreshold` | `float` | `0.55` | Speed ratio for run animation |\n| `WanderRadius` | `float` | `8` | Idle wander area radius |\n| `ClimbHeight` | `int` | `1` | Max block height to climb |\n\n### Detection Configuration\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `ViewRange` | `float` | `24` | Sight detection range (blocks) |\n| `ViewSector` | `float` | `120` | Field of view (degrees) |\n| `HearingRange` | `float` | `12` | Sound detection range |\n| `AbsoluteDetectionRange` | `float` | `4` | Guaranteed detection range |\n| `AlertedRange` | `float` | `28` | Extended range when alerted |\n\n### Combat Configuration\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `Attack` | `string` |  | Root interaction ID for attacks |\n| `AttackDistance` | `float` | `2.5` | Range to initiate attacks |\n| `AttackPauseRange` | `array` | `[2, 3]` | Min delay between attacks |\n| `ChaseRelativeSpeed` | `float` | `1` | Speed multiplier when chasing |\n| `CombatBehaviorDistance` | `float` | `5` | Range for combat movement |\n| `CombatStrafeWeight` | `int` | `10` | Probability of strafing |\n| `CombatDirectWeight` | `int` | `10` | Probability of direct charge |\n| `CombatBackOffAfterAttack` | `bool` | `true` | Back away after attacking |\n\n### Leash Configuration\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `LeashDistance` | `float` | `20` | Soft leash radius |\n| `HardLeashDistance` | `float` | `60` | Absolute max distance |\n| `LeashMinPlayerDistance` | `float` | `4` | Min distance before giving up |\n| `LeashTimer` | `array` | `[3, 5]` | Time before returning home |\n| `LeashRelativeSpeed` | `float` | `0.6` | Speed when returning |\n\n## State Machine\n\nNPCs use a state machine for behavior control.\n\n### Common States\n\n| State | Description |\n|-------|-------------|\n| `Idle` | Default wandering/resting behavior |\n| `Sleep` | Sleeping (reduced detection) |\n| `Sleep.Nap` | Short daytime nap |\n| `Alerted` | Detected potential threat |\n| `Combat` | Active combat engagement |\n| `Combat.Chase` | Pursuing target |\n| `Combat.Maybe` | Deciding whether to fight |\n| `Combat.Message` | Broadcasting attack to flock |\n| `Search` | Looking for lost target |\n| `Search.Confused` | Just lost target |\n| `Search.Prowl` | Actively searching |\n| `Search.Investigate` | Checking disturbance |\n| `ReturnHome` | Returning to spawn point |\n| `Flee` | Running away from threat |\n| `Panic` | Fleeing unknown damage source |\n\n### State Transitions\n\n```json title=\"State transition example\"\n{\n  \"StateTransitions\": [\n    {\n      \"States\": [\n        { \"From\": [\"Idle\"], \"To\": [\"Sleep\"] }\n      ],\n      \"Actions\": {\n        \"Reference\": \"Component_ActionList_Sleep\"\n      }\n    },\n    {\n      \"States\": [\n        { \"From\": [\"Sleep\"], \"To\": [\"Alerted\", \"Idle\"] }\n      ],\n      \"Actions\": {\n        \"Reference\": \"Component_ActionList_Wake\"\n      }\n    },\n    {\n      \"States\": [\n        { \"To\": [\"Idle\"], \"From\": [] }\n      ],\n      \"Actions\": [\n        { \"Type\": \"ReleaseTarget\" },\n        { \"Type\": \"ResetInstructions\" }\n      ]\n    }\n  ]\n}\n```\n\n## Instructions System\n\nInstructions define behavior logic using sensors, actions, and motion controllers.\n\n### Instruction Structure\n\n```json\n{\n  \"Instructions\": [\n    {\n      \"Sensor\": { \"Type\": \"State\", \"State\": \"Idle\" },\n      \"Instructions\": [\n        {\n          \"Sensor\": { \"Type\": \"Damage\", \"Combat\": true },\n          \"Actions\": [\n            { \"Type\": \"State\", \"State\": \"Combat\" }\n          ]\n        }\n      ]\n    }\n  ]\n}\n```\n\n### Instruction Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Sensor` | `object` | Condition to trigger this instruction |\n| `Instructions` | `array` | Nested instructions |\n| `Actions` | `array` | Actions to execute |\n| `ActionsBlocking` | `bool` | Wait for actions to complete |\n| `ActionsAtomic` | `bool` | Execute all actions together |\n| `BodyMotion` | `object` | Movement behavior |\n| `HeadMotion` | `object` | Head/look behavior |\n| `Continue` | `bool` | Continue to next instruction |\n| `Reference` | `string` | Include component by ID |\n| `Modify` | `object` | Override component parameters |\n| `Weight` | `int` | Random selection weight |\n| `Enabled` | `string/bool` | Enable condition |\n\n## Sensors\n\nSensors detect conditions to trigger behaviors.\n\n### Sensor Types\n\n\u003CTabs>\n\u003CTabItem label=\"Detection\">\n\n```json\n{\n  \"Sensor\": {\n    \"Type\": \"Mob\",\n    \"GetPlayers\": true,\n    \"GetNPCs\": false,\n    \"Range\": 15,\n    \"LockOnTarget\": true,\n    \"Filters\": [\n      { \"Type\": \"LineOfSight\" },\n      { \"Type\": \"ViewSector\", \"ViewSector\": 120 }\n    ],\n    \"Prioritiser\": {\n      \"Type\": \"Attitude\",\n      \"AttitudesByPriority\": [\"Hostile\"]\n    }\n  }\n}\n```\n\n\u003C/TabItem>\n\u003CTabItem label=\"State\">\n\n```json\n{\n  \"Sensor\": {\n    \"Type\": \"State\",\n    \"State\": \"Idle\"\n  }\n}\n```\n\n```json\n{\n  \"Sensor\": {\n    \"Type\": \"State\",\n    \"State\": \".Nap\"\n  }\n}\n```\n\nSub-states use `.` prefix.\n\n\u003C/TabItem>\n\u003CTabItem label=\"Logic\">\n\n```json\n{\n  \"Sensor\": {\n    \"Type\": \"And\",\n    \"Sensors\": [\n      { \"Type\": \"Target\", \"Range\": 5 },\n      { \"Type\": \"LineOfSight\" }\n    ]\n  }\n}\n```\n\n```json\n{\n  \"Sensor\": {\n    \"Type\": \"Or\",\n    \"Sensors\": [\n      { \"Type\": \"Damage\", \"Combat\": true },\n      { \"Type\": \"Beacon\", \"Message\": \"Flock_Attack\" }\n    ]\n  }\n}\n```\n\n```json\n{\n  \"Sensor\": {\n    \"Type\": \"Not\",\n    \"Sensor\": { \"Type\": \"Target\", \"Range\": 20 }\n  }\n}\n```\n\n\u003C/TabItem>\n\u003C/Tabs>\n\n### Common Sensor Types\n\n| Type | Description |\n|------|-------------|\n| `Any` | Always triggers |\n| `State` | Check current AI state |\n| `Target` | Check locked target properties |\n| `Mob` | Detect NPCs or players |\n| `Player` | Detect players specifically |\n| `Damage` | React to incoming damage |\n| `Beacon` | Receive flock communication |\n| `Leash` | Check distance from spawn |\n| `Time` | Check time of day |\n| `Flag` | Check boolean flag |\n| `Timer` | Check named timer |\n| `Eval` | Evaluate expression |\n| `Nav` | Check navigation state |\n| `FlockLeader` | Check if flock leader exists |\n| `ReadPosition` | Check stored position |\n\n### Sensor Filters\n\n| Filter | Description |\n|--------|-------------|\n| `LineOfSight` | Unobstructed view to target |\n| `ViewSector` | Target within field of view |\n| `NPCGroup` | Filter by NPC group membership |\n| `Attitude` | Filter by attitude |\n| `MovementState` | Target movement state |\n| `StandingOnBlock` | Target standing on block type |\n| `HeightDifference` | Vertical distance check |\n| `Flock` | Check flock membership |\n| `SpotsMe` | Target can see this NPC |\n\n## Actions\n\nActions execute behaviors when sensors trigger.\n\n### Action Types\n\n\u003CTabs>\n\u003CTabItem label=\"State\">\n\n```json\n{ \"Type\": \"State\", \"State\": \"Combat\" }\n```\n\n```json\n{ \"Type\": \"ResetInstructions\" }\n```\n\n```json\n{ \"Type\": \"ReleaseTarget\" }\n```\n\n\u003C/TabItem>\n\u003CTabItem label=\"Combat\">\n\n```json\n{\n  \"Type\": \"Attack\",\n  \"Attack\": \"Root_NPC_Wolf_Attack\",\n  \"AttackPauseRange\": [2, 3]\n}\n```\n\n```json\n{\n  \"Type\": \"FlockBeacon\",\n  \"Message\": \"Flock_Attack\",\n  \"SendTargetSlot\": \"LockedTarget\"\n}\n```\n\n\u003C/TabItem>\n\u003CTabItem label=\"Animation\">\n\n```json\n{\n  \"Type\": \"PlayAnimation\",\n  \"Slot\": \"Status\",\n  \"Animation\": \"Alerted\"\n}\n```\n\n```json\n{\n  \"Type\": \"SpawnParticles\",\n  \"Offset\": [0, 2.1, 0],\n  \"ParticleSystem\": \"Alerted\"\n}\n```\n\n\u003C/TabItem>\n\u003CTabItem label=\"Timing\">\n\n```json\n{\n  \"Type\": \"Timeout\",\n  \"Delay\": [1, 3],\n  \"Action\": {\n    \"Type\": \"State\",\n    \"State\": \"Combat\"\n  }\n}\n```\n\n```json\n{\n  \"Type\": \"TimerStart\",\n  \"Name\": \"NapTimer\",\n  \"StartValueRange\": [10, 12]\n}\n```\n\n\u003C/TabItem>\n\u003C/Tabs>\n\n### Common Action Types\n\n| Type | Description |\n|------|-------------|\n| `State` | Change AI state |\n| `Attack` | Execute attack interaction |\n| `PlayAnimation` | Play animation on slot |\n| `SpawnParticles` | Spawn particle effect |\n| `Timeout` | Delayed action execution |\n| `TimerStart` | Start named timer |\n| `TimerRestart` | Restart named timer |\n| `SetFlag` | Set boolean flag |\n| `Beacon` | Send message to NPCs |\n| `FlockBeacon` | Send message to flock |\n| `JoinFlock` | Join target's flock |\n| `SetLeashPosition` | Update spawn position |\n| `StorePosition` | Store position in slot |\n| `Crouch` | Toggle crouching |\n| `SetStat` | Modify NPC stat |\n| `Sequence` | Execute actions in order |\n\n## Motion Controllers\n\nMotion controllers define how NPCs move.\n\n### Motion Controller List\n\n```json\n{\n  \"MotionControllerList\": [\n    {\n      \"Type\": \"Walk\",\n      \"MaxWalkSpeed\": 9,\n      \"Gravity\": 10,\n      \"MaxFallSpeed\": 15,\n      \"MaxRotationSpeed\": 360,\n      \"Acceleration\": 15,\n      \"RunThreshold\": 0.55\n    }\n  ]\n}\n```\n\n### Body Motions\n\n\u003CTabs>\n\u003CTabItem label=\"Movement\">\n\n```json\n{\n  \"BodyMotion\": {\n    \"Type\": \"Seek\",\n    \"SlowDownDistance\": 2,\n    \"StopDistance\": 1.2,\n    \"RelativeSpeed\": 0.5,\n    \"AbortDistance\": 80,\n    \"UsePathfinder\": true\n  }\n}\n```\n\n```json\n{\n  \"BodyMotion\": {\n    \"Type\": \"Flee\",\n    \"SlowDownDistance\": 15,\n    \"StopDistance\": 16,\n    \"RelativeSpeed\": 0.68\n  }\n}\n```\n\n\u003C/TabItem>\n\u003CTabItem label=\"Wander\">\n\n```json\n{\n  \"BodyMotion\": {\n    \"Type\": \"Wander\",\n    \"MaxHeadingChange\": 45,\n    \"RelativeSpeed\": 0.2\n  }\n}\n```\n\n```json\n{\n  \"BodyMotion\": {\n    \"Type\": \"WanderInCircle\",\n    \"Radius\": 40,\n    \"MaxHeadingChange\": 80,\n    \"RelativeSpeed\": 0.1\n  }\n}\n```\n\n\u003C/TabItem>\n\u003CTabItem label=\"Combat\">\n\n```json\n{\n  \"BodyMotion\": {\n    \"Type\": \"MaintainDistance\",\n    \"DesiredDistanceRange\": [3, 5],\n    \"RelativeForwardsSpeed\": 0.6,\n    \"RelativeBackwardsSpeed\": 0.6,\n    \"StrafingDurationRange\": [1, 2],\n    \"StrafingFrequencyRange\": [2, 3]\n  }\n}\n```\n\n\u003C/TabItem>\n\u003CTabItem label=\"Sequence\">\n\n```json\n{\n  \"BodyMotion\": {\n    \"Type\": \"Sequence\",\n    \"Looped\": true,\n    \"Motions\": [\n      {\n        \"Type\": \"Timer\",\n        \"Time\": [1, 5],\n        \"Motion\": {\n          \"Type\": \"WanderInCircle\",\n          \"Radius\": 8,\n          \"RelativeSpeed\": 0.18\n        }\n      },\n      {\n        \"Type\": \"Timer\",\n        \"Time\": [3, 8],\n        \"Motion\": { \"Type\": \"Nothing\" }\n      }\n    ]\n  }\n}\n```\n\n\u003C/TabItem>\n\u003C/Tabs>\n\n### Head Motions\n\n```json\n{\n  \"HeadMotion\": {\n    \"Type\": \"Watch\"\n  }\n}\n```\n\n```json\n{\n  \"HeadMotion\": {\n    \"Type\": \"Aim\",\n    \"Spread\": 0,\n    \"HitProbability\": 1,\n    \"RelativeTurnSpeed\": 1.5\n  }\n}\n```\n\n## InteractionVars (Combat)\n\nDefine damage and effects for NPC attacks.\n\n```json title=\"Wolf_Black.json InteractionVars\"\n{\n  \"_InteractionVars\": {\n    \"Melee_Start\": {\n      \"Interactions\": [\n        {\n          \"Parent\": \"Wolf_Bite\",\n          \"Effects\": {\n            \"ItemPlayerAnimationsId\": \"Wolf_Black_Default\",\n            \"ItemAnimationId\": \"Bite\"\n          },\n          \"RunTime\": 0.167\n        }\n      ]\n    },\n    \"Bite_Damage\": {\n      \"Interactions\": [\n        {\n          \"Parent\": \"Wolf_Bite_Damage\",\n          \"DamageCalculator\": {\n            \"Type\": \"Absolute\",\n            \"BaseDamage\": { \"Physical\": 27 },\n            \"RandomPercentageModifier\": 0.1\n          },\n          \"DamageEffects\": {\n            \"Knockback\": { \"Force\": 1 }\n          }\n        }\n      ]\n    }\n  }\n}\n```\n\n## Livestock/Neutral Behavior Properties\n\nFor friendly/tameable NPCs:\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `AttractiveItems` | `array` | Items that attract this NPC |\n| `LovedItems` | `array` | Items that guarantee following |\n| `ChanceToTurnFriendly` | `int` | Base befriend chance (%) |\n| `ChanceToTurnFriendlyWithAttractiveItem` | `int` | Befriend chance with item (%) |\n| `FriendlyOverrideTime` | `int` | Friendly duration (seconds) |\n| `GrazingBlockSet` | `string` | Block type to graze on |\n| `FoodBlockSet` | `string` | Block type to eat |\n| `FoodItemSet` | `array` | Dropped items to eat |\n| `GreetAnimation` | `string` | Animation when greeting |\n| `WeightGreet` | `int` | Chance to greet |\n| `WeightFollow` | `int` | Chance to follow |\n| `WeightFollowItem` | `int` | Chance to follow item |\n| `WeightIgnore` | `int` | Chance to ignore |\n\n### Harvestable NPCs\n\n```json title=\"Sheep.json (excerpt)\"\n{\n  \"Modify\": {\n    \"IsHarvestable\": true,\n    \"HarvestDropList\": \"Drop_Sheep_Harvest\",\n    \"HarvestInteractionContext\": \"Shear\",\n    \"HarvestModelSlot\": \"Fleece\",\n    \"HarvestModelAttachmentHarvestable\": \"Wool\",\n    \"HarvestModelAttachmentHarvested\": \"\",\n    \"HarvestTimeout\": [\"PT11H\", \"PT14H\"],\n    \"HarvestParticles\": \"Sheep_Wool_Shear\",\n    \"HarvestSound\": \"SFX_Sheep_Sheared\",\n    \"ProduceItem\": \"Ingredient_Poop\"\n  }\n}\n```\n\n## Flock System\n\nNPCs can form flocks for coordinated behavior.\n\n```json\n{\n  \"FlockArray\": [\"Wolf_Black\"],\n  \"FlockSpawnTypes\": { \"Compute\": \"FlockArray\" },\n  \"FlockAllowedNPC\": { \"Compute\": \"FlockArray\" },\n  \"ApplySeparation\": true,\n  \"SeparationDistance\": 2.5,\n  \"SeparationWeight\": 1.2\n}\n```\n\n### Flock Communication\n\n```json\n{\n  \"Sensor\": {\n    \"Type\": \"Beacon\",\n    \"Message\": \"Flock_Attack\",\n    \"TargetSlot\": \"LockedTarget\",\n    \"Range\": 80\n  },\n  \"Actions\": [\n    { \"Type\": \"State\", \"State\": \"Combat.Maybe\" }\n  ]\n}\n```\n\n```json\n{\n  \"Actions\": [\n    {\n      \"Type\": \"FlockBeacon\",\n      \"Message\": \"Flock_Attack\",\n      \"SendTargetSlot\": \"LockedTarget\"\n    }\n  ]\n}\n```\n\n## Day/Night Behavior\n\n```json\n{\n  \"Parameters\": {\n    \"DayTimePeriod\": {\n      \"Value\": [6.01, 17.99],\n      \"Description\": \"The hour range considered daytime\"\n    },\n    \"AlwaysSleepAtNight\": {\n      \"Value\": true,\n      \"Description\": \"Whether to sleep through the night\"\n    },\n    \"TimidDuringDay\": {\n      \"Value\": false,\n      \"Description\": \"More cautious during day\"\n    },\n    \"NightFlavorAnimation\": {\n      \"Value\": \"Howl\",\n      \"Description\": \"Animation to play at night\"\n    }\n  }\n}\n```\n\n## Examples\n\n### Hostile Undead (Zombie)\n\n```json title=\"Zombie.json\"\n{\n  \"Type\": \"Variant\",\n  \"Reference\": \"Template_Aggressive_Zombies\",\n  \"Modify\": {\n    \"DropList\": \"Drop_Zombie\",\n    \"Appearance\": \"Zombie\",\n    \"MaxHealth\": 49,\n    \"IsMemory\": true,\n    \"MemoriesCategory\": \"Undead\",\n    \"_InteractionVars\": {\n      \"Melee_Damage\": {\n        \"Interactions\": [\n          {\n            \"Parent\": \"NPC_Attack_Melee_Damage\",\n            \"DamageCalculator\": {\n              \"BaseDamage\": { \"Physical\": 18 }\n            }\n          }\n        ]\n      }\n    },\n    \"NameTranslationKey\": { \"Compute\": \"NameTranslationKey\" }\n  },\n  \"Parameters\": {\n    \"NameTranslationKey\": {\n      \"Value\": \"server.npcRoles.Zombie.name\"\n    }\n  }\n}\n```\n\n### Passive Livestock (Sheep)\n\n```json title=\"Sheep.json\"\n{\n  \"Type\": \"Variant\",\n  \"Reference\": \"Template_Animal_Neutral\",\n  \"Modify\": {\n    \"Appearance\": \"Sheep\",\n    \"FlockArray\": [\"Sheep\", \"Sheep_Lamb\"],\n    \"LovedItems\": [\"Plant_Crop_Lettuce_Item\"],\n    \"DropList\": \"Drop_Sheep\",\n    \"MaxHealth\": 81,\n    \"MaxSpeed\": 6,\n    \"ViewRange\": 15,\n    \"GreetAnimation\": \"Bleat\",\n    \"ChanceToTurnFriendly\": 20,\n    \"ChanceToTurnFriendlyWithAttractiveItem\": 60,\n    \"IsHarvestable\": true,\n    \"HarvestDropList\": \"Drop_Sheep_Harvest\",\n    \"HarvestInteractionContext\": \"Shear\"\n  }\n}\n```\n\n### Neutral Predator (Wolf)\n\n```json title=\"Wolf_Black.json (excerpt)\"\n{\n  \"Type\": \"Variant\",\n  \"Reference\": \"Template_Predator\",\n  \"Modify\": {\n    \"Appearance\": \"Wolf_Black\",\n    \"AttitudeGroup\": \"PredatorsBig\",\n    \"MaxHealth\": 103,\n    \"MaxSpeed\": 10,\n    \"ViewRange\": 10,\n    \"AlertedRange\": 18,\n    \"Attack\": \"Root_NPC_Wolf_Attack\",\n    \"AttackDistance\": 2.5,\n    \"CombatBackOffAfterAttack\": true,\n    \"CombatBackOffDistanceRange\": [3, 5],\n    \"ThreatenAnimation\": \"Howl\",\n    \"NightFlavorAnimation\": \"Howl\",\n    \"AlwaysSleepAtNight\": false,\n    \"TimidDuringDay\": false\n  }\n}\n```\n\n## Best Practices\n\n1. **Use templates** - Inherit from core templates rather than duplicating behavior\n2. **Use components** - Extract reusable instruction blocks as components\n3. **Test state transitions** - Ensure all states have valid exit paths\n4. **Balance detection ranges** - ViewRange > AlertedRange > AbsoluteDetectionRange\n5. **Configure leashing** - Prevent NPCs from wandering too far\n6. **Set appropriate attitudes** - Match NPC faction and personality\n7. **Use flock communication** - Coordinate group responses to threats\n\n## Related\n\n- [NPC Overview](/api-reference/assets/npcs/overview/) - NPC system overview\n- [NPC Models](/api-reference/assets/npcs/models/) - Model definitions\n- [NPC Groups](/api-reference/assets/npcs/groups/) - Group membership\n- [Entities Overview](/api-reference/entities/overview/) - Entity system\n- [Event System](/core-concepts/event-system/) - Event handling","src/content/docs/api-reference/assets/npcs/behaviors.mdx","3cfe7281de1c6b65","api-reference/assets/npcs/groups",{"id":748,"data":750,"body":755,"filePath":756,"digest":757,"deferredRender":16},{"title":751,"editUrl":16,"head":752,"template":52,"sidebar":753,"pagefind":16,"draft":42},"NPC Groups",[],{"hidden":42,"attrs":754},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nNPC groups define collections of NPCs that share common behaviors and attitudes. Groups are used for AI targeting, faction relationships, and behavior rules.\n\n## Asset Location\n\nGroup definitions are stored in `Assets/Server/NPC/Groups/`:\n\n\u003CFileTree>\n- Assets/Server/NPC/Groups/\n  - Prey.json\n  - Predators.json\n  - PredatorsBig.json\n  - Livestock.json\n  - Critters.json\n  - Birds.json\n  - Aquatic.json\n  - Vermin.json\n  - Undead.json\n  - Void.json\n  - Player.json\n  - Self.json\n  - Creature/\n    - Livestock/\n    - Mammal/\n    - Mythic/\n    - Vermin/\n  - Intelligent/\n    - Aggressive/\n      - Goblin/\n      - Outlander/\n      - Scarak.json\n      - Trork/\n    - Neutral/\n  - LivingWorld/\n    - Aggressive.json\n    - Neutral.json\n    - Passive.json\n  - Undead/\n\u003C/FileTree>\n\n## Group Definition Schema\n\nGroups can include individual roles or other groups:\n\n### Including Roles\n\n```json title=\"Prey.json\"\n{\n  \"IncludeRoles\": [\n    \"Chicken\",\n    \"Chicken_Chick\",\n    \"Chicken_Desert\",\n    \"Turkey\",\n    \"Rabbit\",\n    \"Bunny\",\n    \"Mouse\",\n    \"Penguin\",\n    \"Flamingo\"\n  ]\n}\n```\n\n### Including Other Groups\n\n```json title=\"Livestock.json\"\n{\n  \"IncludeGroups\": [\n    \"Bison\",\n    \"Chicken\",\n    \"Cow\",\n    \"Pig\",\n    \"Sheep\",\n    \"Mouflon\",\n    \"Turkey\",\n    \"Chicken_Desert\",\n    \"Goat\",\n    \"Rabbit\",\n    \"Camel\",\n    \"Deer\"\n  ]\n}\n```\n\n### Wildcard Patterns\n\nUse `*` to match role name patterns:\n\n```json title=\"Predators.json\"\n{\n  \"IncludeRoles\": [\n    \"Fox*\",\n    \"Hyena*\",\n    \"Fen_Stalker\",\n    \"Spark*\",\n    \"Toad*\"\n  ]\n}\n```\n\nThis matches `Fox`, `Fox_Arctic`, `Fox_Desert`, etc.\n\n### Combined Definition\n\n```json title=\"Example combined group\"\n{\n  \"IncludeRoles\": [\n    \"SpecificNPC_A\",\n    \"SpecificNPC_B\"\n  ],\n  \"IncludeGroups\": [\n    \"ExistingGroup_A\",\n    \"ExistingGroup_B\"\n  ]\n}\n```\n\n## Standard Groups\n\n### Prey Groups\n\nAnimals that flee from predators:\n\n| Group | Members |\n|-------|---------|\n| `Prey` | Chickens, Turkey, Rabbits, Mice, Penguins, Flamingos, young livestock |\n| `PreyBig` | Larger prey animals |\n\n### Predator Groups\n\nHostile hunting NPCs:\n\n| Group | Members |\n|-------|---------|\n| `Predators` | Fox*, Hyena*, Fen_Stalker, Spark*, Toad* |\n| `PredatorsBig` | Bear*, Wolf*, Yeti, Emberwulf, Leopard_Snow, Tiger_Sabertooth, Crocodile, Raptor_Cave, Rex_Cave |\n\n### Livestock Groups\n\nDomesticated animals:\n\n```json title=\"Livestock.json\"\n{\n  \"IncludeGroups\": [\n    \"Bison\", \"Chicken\", \"Cow\", \"Pig\", \"Sheep\",\n    \"Mouflon\", \"Turkey\", \"Chicken_Desert\", \"Goat\",\n    \"Rabbit\", \"Camel\", \"Deer\"\n  ]\n}\n```\n\n### Environmental Groups\n\n| Group | Description |\n|-------|-------------|\n| `Critters` | Small wildlife (squirrels, birds) |\n| `Birds` | Flying bird NPCs |\n| `Aquatic` | Water-dwelling creatures |\n| `Vermin` | Pest creatures |\n\n### Faction Groups\n\nLocated in `Intelligent/Aggressive/`:\n\n| Group | Members |\n|-------|---------|\n| `Goblin` | Goblin faction members |\n| `Trork` | Trork faction members |\n| `Outlander` | Outlander faction members |\n| `Scarak` | Scarak hive creatures |\n\n### Undead Groups\n\n| Group | Description |\n|-------|-------------|\n| `Undead` | All undead NPCs |\n| `Skeleton` | Skeleton variants |\n| `Zombie` | Zombie variants |\n\n### Special Groups\n\n| Group | Purpose |\n|-------|---------|\n| `Player` | Player entities |\n| `Self` | Self-reference for targeting |\n| `Void` | Void realm creatures |\n| `Capture_Crate` | NPCs that can be captured |\n\n## Living World Groups\n\nHigh-level behavioral groupings:\n\n```json title=\"LivingWorld/Aggressive.json\"\n{\n  \"IncludeGroups\": [\n    \"Trork\",\n    \"Goblin\",\n    \"Skeleton\",\n    \"Void\",\n    \"Zombie\",\n    \"Vermin\",\n    \"Predators\",\n    \"PredatorsBig\"\n  ]\n}\n```\n\n| Group | Description | Behavior |\n|-------|-------------|----------|\n| `LivingWorld/Aggressive` | Hostile to players | Attack on sight |\n| `LivingWorld/Neutral` | Defensive NPCs | Attack if provoked |\n| `LivingWorld/Passive` | Non-hostile NPCs | Flee or ignore |\n\n## Group Usage in Roles\n\nGroups are referenced in NPC role definitions for targeting:\n\n```json title=\"Role targeting example\"\n{\n  \"Behaviors\": {\n    \"Combat\": {\n      \"TargetGroups\": [\"Player\", \"Livestock\"],\n      \"FleeFromGroups\": [\"PredatorsBig\"],\n      \"IgnoreGroups\": [\"Self\"]\n    }\n  }\n}\n```\n\n### Attitude System\n\nGroups define default attitudes between factions:\n\n| Attitude | Description |\n|----------|-------------|\n| `Hostile` | Will attack on sight |\n| `Neutral` | Will attack if provoked |\n| `Friendly` | Will not attack, may assist |\n| `Fearful` | Will flee when detected |\n\n## Group Hierarchy\n\nGroups can be nested for organization:\n\n```\nLivingWorld/Aggressive\n Trork\n Goblin\n Skeleton\n Void\n Zombie\n Vermin\n Predators\n    Fox*\n    Hyena*\n    Toad*\n PredatorsBig\n     Bear*\n     Wolf*\n     Yeti\n```\n\n## Creating Custom Groups\n\n### Simple Role Group\n\n```json title=\"MyPlugin_CustomEnemies.json\"\n{\n  \"IncludeRoles\": [\n    \"MyPlugin_Enemy_A\",\n    \"MyPlugin_Enemy_B\",\n    \"MyPlugin_Boss\"\n  ]\n}\n```\n\n### Composite Group\n\n```json title=\"MyPlugin_AllHostile.json\"\n{\n  \"IncludeRoles\": [\n    \"MyPlugin_CustomEnemy\"\n  ],\n  \"IncludeGroups\": [\n    \"Undead\",\n    \"Trork\"\n  ]\n}\n```\n\n### Pattern-Based Group\n\n```json title=\"MyPlugin_AllVariants.json\"\n{\n  \"IncludeRoles\": [\n    \"MyPlugin_Creature*\"\n  ]\n}\n```\n\nThis matches `MyPlugin_Creature`, `MyPlugin_Creature_Rare`, `MyPlugin_Creature_Boss`, etc.\n\n## Best Practices\n\n1. **Use wildcards sparingly** - Explicit lists are more maintainable\n2. **Nest groups logically** - Create hierarchies for complex factions\n3. **Consider symmetry** - If A is hostile to B, B should be hostile to A\n4. **Use standard groups** - Reference existing groups like `Player` rather than duplicating\n5. **Prefix custom groups** - Use plugin prefix to avoid conflicts\n\n## Related\n\n- [NPC Asset Overview](/api-reference/assets/npcs/overview/) - NPC system overview\n- [NPC Model Definitions](/api-reference/assets/npcs/models/) - Model configuration\n- [Entities Overview](/api-reference/entities/overview/) - Entity API","src/content/docs/api-reference/assets/npcs/groups.mdx","36e4b1e6e16b4743","api-reference/assets/npcs/models",{"id":758,"data":760,"body":765,"filePath":766,"digest":767,"deferredRender":16},{"title":761,"editUrl":16,"head":762,"template":52,"sidebar":763,"pagefind":16,"draft":42},"NPC Model Definitions",[],{"hidden":42,"attrs":764},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Tabs, TabItem, FileTree } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of decompiled source code and game assets. Some details may be incomplete or subject to change.\n\u003C/Aside>\n\nNPC model definitions configure the visual appearance, hitbox, animations, and camera behavior for NPCs. These server-side JSON files link to client-side `.blockymodel` and `.blockyanim` files.\n\n## Asset Organization\n\nModel definitions are stored in `Assets/Server/Models/`:\n\n\u003CFileTree>\n- Assets/Server/Models/\n  - Beast/\n    - Fox.json\n    - Bear_Grizzly.json\n    - Wolf.json\n  - Critter/\n    - Rabbit.json\n    - Squirrel.json\n  - Intelligent/\n    - Human.json\n    - Kweebec.json\n  - Livestock/\n    - Sheep.json\n    - Cow.json\n  - Undead/\n    - Skeleton.json\n    - Zombie.json\n  - ...\n\u003C/FileTree>\n\nClient-side models and animations are in `Assets/Common/NPC/`:\n\n\u003CFileTree>\n- Assets/Common/NPC/\n  - Beast/Fox/\n    - Models/\n      - Model.blockymodel\n      - Texture.png\n    - Animations/\n      - Default/\n        - Idle.blockyanim\n        - Walk.blockyanim\n        - Run.blockyanim\n      - Damage/\n        - Hurt.blockyanim\n        - Death.blockyanim\n      - Swim/\n      - Fly/\n      - Flavor/\n\u003C/FileTree>\n\n## Model Definition Schema\n\n### Required Fields\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Model` | `string` | Path to `.blockymodel` file |\n| `Texture` | `string` | Path to texture `.png` file |\n| `HitBox` | `object` | Collision box dimensions |\n| `AnimationSets` | `object` | Animation mappings by state |\n\n### Core Properties\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `EyeHeight` | `float` | - | Height of eyes from ground (blocks) |\n| `CrouchOffset` | `float` | `0` | Vertical offset when crouching |\n| `MinScale` | `float` | `1.0` | Minimum random scale multiplier |\n| `MaxScale` | `float` | `1.0` | Maximum random scale multiplier |\n| `DefaultAttachments` | `array` | `[]` | Equipment/attachment slots |\n\n### HitBox Object\n\n```json\n\"HitBox\": {\n  \"Min\": { \"X\": -0.45, \"Y\": 0, \"Z\": -0.45 },\n  \"Max\": { \"X\": 0.45, \"Y\": 1.1, \"Z\": 0.45 }\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Min` | `Vector3` | Minimum corner (bottom-back-left) |\n| `Max` | `Vector3` | Maximum corner (top-front-right) |\n\n### Camera Object\n\nControls head tracking for the NPC:\n\n```json\n\"Camera\": {\n  \"Pitch\": {\n    \"AngleRange\": { \"Max\": 45, \"Min\": -45 },\n    \"TargetNodes\": [\"Head\"]\n  },\n  \"Yaw\": {\n    \"AngleRange\": { \"Max\": 45, \"Min\": -45 },\n    \"TargetNodes\": [\"Head\"]\n  }\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `AngleRange.Max` | `float` | Maximum rotation angle (degrees) |\n| `AngleRange.Min` | `float` | Minimum rotation angle (degrees) |\n| `TargetNodes` | `string[]` | Bones to rotate for head tracking |\n\n### IconProperties Object\n\nFor UI icon generation:\n\n```json\n\"IconProperties\": {\n  \"Scale\": 0.6,\n  \"Rotation\": [0.0, -45.0, 0.0],\n  \"Translation\": [19.0, -41.0]\n}\n```\n\n## AnimationSets\n\nThe `AnimationSets` object maps animation states to animation files:\n\n### Animation Entry Structure\n\n```json\n\"Idle\": {\n  \"Animations\": [\n    {\n      \"Animation\": \"NPC/Beast/Fox/Animations/Default/Idle.blockyanim\",\n      \"Speed\": 0.6,\n      \"BlendingDuration\": 0.1,\n      \"Looping\": true,\n      \"SoundEventId\": \"SFX_Fox_Idle\"\n    }\n  ]\n}\n```\n\n| Field | Type | Default | Description |\n|-------|------|---------|-------------|\n| `Animation` | `string` | - | Path to `.blockyanim` file |\n| `Speed` | `float` | `1.0` | Animation playback speed multiplier |\n| `BlendingDuration` | `float` | - | Transition blend time (seconds) |\n| `Looping` | `bool` | `true` | Whether animation loops |\n| `SoundEventId` | `string` | - | Sound to play with animation |\n\n### Standard Animation States\n\n#### Movement Animations\n\n| State | Description | Typically Loops |\n|-------|-------------|-----------------|\n| `Idle` | Standing still | Yes |\n| `Walk` | Walking forward | Yes |\n| `WalkBackward` | Walking backward | Yes |\n| `Run` | Running forward | Yes |\n| `Crouch` | Crouching idle | Yes |\n| `CrouchWalk` | Crouching forward | Yes |\n| `CrouchWalkBackward` | Crouching backward | Yes |\n\n#### Jumping & Falling\n\n| State | Description | Typically Loops |\n|-------|-------------|-----------------|\n| `Jump` | Start of jump | No |\n| `JumpWalk` | Jump while walking | No |\n| `JumpRun` | Jump while running | No |\n| `Fall` | Falling animation | Yes |\n\n#### Swimming\n\n| State | Description |\n|-------|-------------|\n| `SwimIdle` | Floating still |\n| `Swim` | Swimming forward |\n| `SwimBackward` | Swimming backward |\n| `SwimFast` | Fast swimming |\n| `SwimJump` | Jumping from water |\n| `SwimFloat` | Surface floating |\n| `SwimSink` | Sinking underwater |\n| `SwimDive` | Diving downward |\n| `SwimDiveBackward` | Diving backward |\n| `SwimDiveFast` | Fast diving |\n\n#### Flying\n\n| State | Description |\n|-------|-------------|\n| `FlyIdle` | Hovering |\n| `Fly` | Flying forward |\n| `FlyBackward` | Flying backward |\n| `FlyFast` | Fast flying |\n\n#### Fluid (Wading in Shallow Water)\n\n| State | Description |\n|-------|-------------|\n| `FluidIdle` | Standing in fluid |\n| `FluidWalk` | Walking in fluid |\n| `FluidWalkBackward` | Walking backward in fluid |\n| `FluidRun` | Running in fluid |\n\n#### Damage & Death\n\n| State | Description | Typically Loops |\n|-------|-------------|-----------------|\n| `Hurt` | Taking damage | No |\n| `Death` | Dying on land | No |\n| `HurtFly` | Hurt while flying | No |\n| `DeathFly` | Dying while flying | No |\n| `DeathFlyImpact` | Ground impact after flying death | No |\n| `HurtSwim` | Hurt while swimming | No |\n| `DeathSwim` | Dying while swimming | No |\n| `HurtDrown` | Hurt from drowning | No |\n| `DeathDrown` | Dying from drowning | No |\n\n#### Behavior States\n\n| State | Description |\n|-------|-------------|\n| `Alerted` | Noticed threat |\n| `Spawn` | Initial spawn animation |\n| `Laydown` | Transition to sleeping |\n| `Sleep` | Sleeping loop |\n| `Wake` | Waking up |\n\n#### Flavor Animations\n\n| State | Description |\n|-------|-------------|\n| `Roar` | Aggressive roar/howl |\n| `Threaten` | Threat display |\n| `Search` | Looking around |\n| `Eat` | Eating |\n| `Dig` | Digging |\n| `TiltHead` | Head tilt (curiosity) |\n| `Howl` | Howling |\n\n## Complete Example\n\n```json title=\"Fox.json\"\n{\n  \"Model\": \"NPC/Beast/Fox/Models/Model.blockymodel\",\n  \"Texture\": \"NPC/Beast/Fox/Models/Texture.png\",\n  \"EyeHeight\": 0.9,\n  \"CrouchOffset\": -0.4,\n  \"HitBox\": {\n    \"Max\": { \"X\": 0.45, \"Y\": 1.1, \"Z\": 0.45 },\n    \"Min\": { \"X\": -0.45, \"Y\": 0, \"Z\": -0.45 }\n  },\n  \"Camera\": {\n    \"Pitch\": {\n      \"AngleRange\": { \"Max\": 45, \"Min\": -45 },\n      \"TargetNodes\": [\"Head\"]\n    },\n    \"Yaw\": {\n      \"AngleRange\": { \"Max\": 45, \"Min\": -45 },\n      \"TargetNodes\": [\"Head\"]\n    }\n  },\n  \"AnimationSets\": {\n    \"Idle\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Fox/Animations/Default/Idle.blockyanim\",\n        \"Speed\": 0.6\n      }]\n    },\n    \"Walk\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Fox/Animations/Default/Walk.blockyanim\",\n        \"Speed\": 1.4\n      }]\n    },\n    \"Run\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Fox/Animations/Default/Run.blockyanim\",\n        \"SoundEventId\": \"SFX_Fox_Run\",\n        \"Speed\": 1.1\n      }]\n    },\n    \"Jump\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Fox/Animations/Default/Jump.blockyanim\",\n        \"BlendingDuration\": 0.1,\n        \"Looping\": false,\n        \"Speed\": 0.8\n      }]\n    },\n    \"Hurt\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Fox/Animations/Damage/Hurt.blockyanim\",\n        \"BlendingDuration\": 0.1,\n        \"Looping\": false,\n        \"SoundEventId\": \"SFX_Fox_Hurt\"\n      }]\n    },\n    \"Death\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Fox/Animations/Damage/Death.blockyanim\",\n        \"Looping\": false,\n        \"SoundEventId\": \"SFX_Fox_Death\"\n      }]\n    },\n    \"Sleep\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Fox/Animations/Default/Sleep.blockyanim\",\n        \"SoundEventId\": \"SFX_Fox_Sleep\"\n      }]\n    },\n    \"Alerted\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Fox/Animations/Default/Alerted.blockyanim\",\n        \"Looping\": false,\n        \"SoundEventId\": \"SFX_Fox_Alerted\"\n      }]\n    }\n  },\n  \"IconProperties\": {\n    \"Scale\": 0.6,\n    \"Rotation\": [0.0, -45.0, 0.0],\n    \"Translation\": [19.0, -41.0]\n  }\n}\n```\n\n## Large NPC Example\n\nLarger NPCs like bears have different hitbox dimensions and scale ranges:\n\n```json title=\"Bear_Grizzly.json\" {6-16,18-19}\n{\n  \"Model\": \"NPC/Beast/Bear_Grizzly/Models/Model.blockymodel\",\n  \"Texture\": \"NPC/Beast/Bear_Grizzly/Models/Texture.png\",\n  \"EyeHeight\": 1.5,\n  \"CrouchOffset\": -0.3,\n  \"HitBox\": {\n    \"Max\": { \"X\": 0.8, \"Y\": 1.8, \"Z\": 0.8 },\n    \"Min\": { \"X\": -0.8, \"Y\": 0, \"Z\": -0.8 }\n  },\n  \"MinScale\": 0.9,\n  \"MaxScale\": 1.25,\n  \"DefaultAttachments\": [],\n  \"AnimationSets\": {\n    \"Roar\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Bear_Grizzly/Animations/Flavor/Roar.blockyanim\",\n        \"Looping\": false,\n        \"SoundEventId\": \"SFX_Bear_Grizzly_Alerted\"\n      }]\n    },\n    \"Eat\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Livestock/Sheep/Animations/Flavor/Eat.blockyanim\"\n      }]\n    }\n  }\n}\n```\n\n\u003CAside type=\"tip\">\nNPCs can reference animations from other NPC types. In the bear example, the `Eat` animation uses the sheep's eating animation.\n\u003C/Aside>\n\n## NPC Categories\n\n| Category | Location | Examples |\n|----------|----------|----------|\n| Beast | `Models/Beast/` | Fox, Wolf, Bear, Scarak |\n| Critter | `Models/Critter/` | Rabbit, Squirrel, Mouse |\n| Intelligent | `Models/Intelligent/` | Human, Kweebec, Feran |\n| Livestock | `Models/Livestock/` | Sheep, Cow, Chicken |\n| Wildlife | `Models/Wildlife/` | Deer, Boar |\n| Undead | `Models/Undead/` | Skeleton, Zombie, Wraith |\n| Flying_Beast | `Models/Flying_Beast/` | Pterodactyl variants |\n| Flying_Critter | `Models/Flying_Critter/` | Birds, Insects |\n| Swimming_Beast | `Models/Swimming_Beast/` | Shark, Whale |\n| Swimming_Wildlife | `Models/Swimming_Wildlife/` | Fish, Jellyfish |\n| Elemental | `Models/Elemental/` | Fire, Water, Earth elementals |\n| Boss | `Models/Boss/` | Boss creatures |\n| Pets | `Models/Pets/` | Pet variants |\n| Projectiles | `Models/Projectiles/` | Arrow, Spell projectiles |\n| Vehicles | `Models/Vehicles/` | Mounts, Vehicles |\n\n## Animation Folder Structure\n\nStandard animation organization:\n\n```\nNPC/[Category]/[NPC]/Animations/\n Default/\n    Idle.blockyanim\n    Walk.blockyanim\n    Walk_Backward.blockyanim\n    Run.blockyanim\n    Jump.blockyanim\n    Fall.blockyanim\n    Crouch.blockyanim\n    Crouch_Walk.blockyanim\n    Alerted.blockyanim\n    Spawn.blockyanim\n    Sleep.blockyanim\n    Laydown.blockyanim\n    Wake.blockyanim\n Damage/\n    Hurt.blockyanim\n    Death.blockyanim\n    Hurt_Fly.blockyanim\n    Death_Fly.blockyanim\n    ...\n Swim/\n    Swim_Idle.blockyanim\n    Swim.blockyanim\n    ...\n Fly/\n    Fly_Idle.blockyanim\n    Fly.blockyanim\n    ...\n Flavor/\n     Roar.blockyanim\n     Eat.blockyanim\n     ...\n```\n\n## Creating Custom NPCs\n\n1. **Create the model** in Blockbench with proper bone hierarchy\n2. **Create animations** for each required state\n3. **Export** `.blockymodel` and `.blockyanim` files\n4. **Create model definition** JSON referencing your files\n5. **Create NPC role** to define behavior\n\n```json title=\"MyPlugin_CustomCreature.json\"\n{\n  \"Model\": \"MyPlugin/NPC/CustomCreature/Model.blockymodel\",\n  \"Texture\": \"MyPlugin/NPC/CustomCreature/Texture.png\",\n  \"EyeHeight\": 1.0,\n  \"HitBox\": {\n    \"Max\": { \"X\": 0.5, \"Y\": 1.5, \"Z\": 0.5 },\n    \"Min\": { \"X\": -0.5, \"Y\": 0, \"Z\": -0.5 }\n  },\n  \"AnimationSets\": {\n    \"Idle\": {\n      \"Animations\": [{\n        \"Animation\": \"MyPlugin/NPC/CustomCreature/Animations/Idle.blockyanim\"\n      }]\n    },\n    \"Walk\": {\n      \"Animations\": [{\n        \"Animation\": \"MyPlugin/NPC/CustomCreature/Animations/Walk.blockyanim\"\n      }]\n    },\n    \"Hurt\": {\n      \"Animations\": [{\n        \"Animation\": \"MyPlugin/NPC/CustomCreature/Animations/Hurt.blockyanim\",\n        \"Looping\": false\n      }]\n    },\n    \"Death\": {\n      \"Animations\": [{\n        \"Animation\": \"MyPlugin/NPC/CustomCreature/Animations/Death.blockyanim\",\n        \"Looping\": false\n      }]\n    }\n  }\n}\n```\n\n## Related\n\n- [NPC Asset Overview](/api-reference/assets/npcs/overview/) - NPC system overview\n- [NPC Groups](/api-reference/assets/npcs/groups/) - NPC grouping and attitudes\n- [Audio Overview](/api-reference/assets/audio/overview/) - Sound event system\n- [Blockbench Setup](/tutorials/blockbench/setup/) - Model creation tool","src/content/docs/api-reference/assets/npcs/models.mdx","c48cbd645c85eb0f","api-reference/assets/npcs/overview",{"id":768,"data":770,"body":775,"filePath":776,"digest":777,"deferredRender":16},{"title":771,"editUrl":16,"head":772,"template":52,"sidebar":773,"pagefind":16,"draft":42},"NPC Assets",[],{"hidden":42,"attrs":774},{},"{/* [VERIFIED: 2026-01-20] */}\n\nimport { Aside, Card, CardGrid, LinkCard, Tabs, TabItem, FileTree, Badge } from '@astrojs/starlight/components';\n\n\u003CAside type=\"caution\" title=\"AI-Generated Content\">\nThis documentation was generated from analysis of NPC assets in `/Assets/Server/Models/`, `/Assets/Server/NPC/`, and `/Assets/Common/NPC/`.\nVerify all information against actual asset files before use in production.\n\u003C/Aside>\n\nNPC assets define the visual appearance, animations, behavior, and spawning rules for non-player characters. This page covers the asset files that configure NPCs, while [NPC System Overview](/api-reference/npc/overview/) covers the programming API.\n\n## Asset Locations\n\n| Directory | Purpose |\n|-----------|---------|\n| `Assets/Server/Models/[Category]/` | NPC model definitions (hitbox, animations) |\n| `Assets/Server/NPC/Roles/[Category]/` | NPC behavior roles |\n| `Assets/Server/NPC/Groups/` | NPC group memberships |\n| `Assets/Server/NPC/Spawn/` | Spawning configurations |\n| `Assets/Server/NPC/Attitude/` | Attitude relationships |\n| `Assets/Common/NPC/[Category]/` | Visual models and textures |\n\n## NPC Categories\n\nHytale organizes NPCs into 22 categories:\n\n\u003CCardGrid>\n  \u003CCard title=\"Beast\" icon=\"star\">\n    45+ hostile/neutral creatures (Wolf, Bear, Spider, etc.)\n  \u003C/Card>\n  \u003CCard title=\"Livestock\" icon=\"heart\">\n    34+ farm animals (Cow, Sheep, Pig, Chicken, etc.)\n  \u003C/Card>\n  \u003CCard title=\"Wildlife\" icon=\"leaf\">\n    Ambient wild animals (Deer, Rabbit, etc.)\n  \u003C/Card>\n  \u003CCard title=\"Intelligent\" icon=\"setting\">\n    24+ humanoid NPCs (Kweebec, Trork, Outlander, etc.)\n  \u003C/Card>\n\u003C/CardGrid>\n\n### Full Category List\n\n| Category | Type | Description |\n|----------|------|-------------|\n| `Beast` | Hostile | Large predatory creatures |\n| `Boss` | Hostile | Boss encounters |\n| `Critter` | Neutral | Small ambient creatures |\n| `Elemental` | Hostile | Elemental beings |\n| `Flying_Beast` | Hostile | Airborne predators |\n| `Flying_Critter` | Neutral | Birds, bats |\n| `Flying_Wildlife` | Neutral | Ambient flying creatures |\n| `Human` | Varies | Human NPCs |\n| `Intelligent` | Varies | Humanoid species |\n| `Livestock` | Neutral | Farm animals |\n| `Pets` | Friendly | Tameable companions |\n| `Scifi` | Varies | Science fiction creatures |\n| `Statues` | Neutral | Animated statues |\n| `Swimming_Beast` | Hostile | Aquatic predators |\n| `Swimming_Critter` | Neutral | Small aquatic creatures |\n| `Swimming_Wildlife` | Neutral | Fish, etc. |\n| `Undead` | Hostile | Undead creatures |\n| `Void` | Hostile | Void creatures |\n| `Wildlife` | Neutral | Forest animals |\n\n## Model Definition Schema\n\nModel definitions in `Assets/Server/Models/` configure the server-side representation of NPCs.\n\n### Core Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Model` | `string` | Path to `.blockymodel` file |\n| `Texture` | `string` | Path to texture file |\n| `EyeHeight` | `number` | Height of eye position |\n| `CrouchOffset` | `number` | Crouch height offset |\n| `MinScale` | `number` | Minimum random scale |\n| `MaxScale` | `number` | Maximum random scale |\n| `HitBox` | `object` | Collision hitbox |\n| `AnimationSets` | `object` | Animation configurations |\n| `Camera` | `object` | Camera tracking settings |\n| `IconProperties` | `object` | UI icon rendering |\n\n### HitBox Definition\n\n```json title=\"HitBox structure\"\n{\n  \"HitBox\": {\n    \"Min\": { \"X\": -0.45, \"Y\": 0, \"Z\": -0.45 },\n    \"Max\": { \"X\": 0.45, \"Y\": 1.6, \"Z\": 0.45 }\n  }\n}\n```\n\n### Complete Model Example (Wolf)\n\n```json title=\"Wolf_Black.json\" {1-17,19-53}\n{\n  \"Model\": \"NPC/Beast/Wolf/Models/Model.blockymodel\",\n  \"Texture\": \"NPC/Beast/Wolf/Models/Model_Textures/Black.png\",\n  \"EyeHeight\": 1,\n  \"HitBox\": {\n    \"Max\": { \"X\": 0.45, \"Y\": 1.6, \"Z\": 0.45 },\n    \"Min\": { \"X\": -0.45, \"Y\": 0, \"Z\": -0.45 }\n  },\n  \"MinScale\": 0.8,\n  \"MaxScale\": 0.9,\n  \"AnimationSets\": {\n    \"Idle\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Wolf/Animations/Default/Idle.blockyanim\",\n        \"Speed\": 0.5\n      }]\n    },\n    \"Walk\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Wolf/Animations/Default/Walk.blockyanim\",\n        \"Speed\": 1\n      }]\n    },\n    \"Run\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Wolf/Animations/Default/Run.blockyanim\",\n        \"SoundEventId\": \"SFX_Wolf_Run\",\n        \"Speed\": 0.8\n      }]\n    },\n    \"Jump\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Wolf/Animations/Default/Jump.blockyanim\",\n        \"BlendingDuration\": 0.1,\n        \"Looping\": false,\n        \"Speed\": 0.8\n      }]\n    },\n    \"Hurt\": {\n      \"Animations\": [\n        {\n          \"Animation\": \"NPC/Beast/Wolf/Animations/Damage/Hurt.blockyanim\",\n          \"BlendingDuration\": 0.1,\n          \"Looping\": false,\n          \"SoundEventId\": \"SFX_Wolf_Hurt\"\n        },\n        {\n          \"Animation\": \"NPC/Beast/Wolf/Animations/Damage/Hurt2.blockyanim\",\n          \"BlendingDuration\": 0.1,\n          \"Looping\": false,\n          \"SoundEventId\": \"SFX_Wolf_Hurt\"\n        }\n      ]\n    },\n    \"Death\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Wolf/Animations/Damage/Death.blockyanim\",\n        \"Looping\": false,\n        \"SoundEventId\": \"SFX_Wolf_Death\"\n      }]\n    },\n    \"Sleep\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Wolf/Animations/Default/Sleep.blockyanim\",\n        \"SoundEventId\": \"SFX_Wolf_Sleep\"\n      }]\n    },\n    \"Howl\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Wolf/Animations/Flavor/Howl.blockyanim\",\n        \"Looping\": false\n      }]\n    },\n    \"Swim\": {\n      \"Animations\": [{\n        \"Animation\": \"NPC/Beast/Wolf/Animations/Swim/Swim.blockyanim\"\n      }]\n    }\n  }\n}\n```\n\n## Animation Sets\n\nAnimation sets define which animations play for different NPC states.\n\n### Standard Animation States\n\n| State | Description | Required |\n|-------|-------------|----------|\n| `Idle` | Standing still | Yes |\n| `Walk` | Normal movement | Yes |\n| `WalkBackward` | Backward movement | No |\n| `Run` | Fast movement | Yes |\n| `Jump` | Jump initiation | Yes |\n| `JumpWalk` | Jump while walking | No |\n| `JumpRun` | Jump while running | No |\n| `Fall` | Falling | Yes |\n| `Hurt` | Damage received | Yes |\n| `Death` | Death animation | Yes |\n| `Spawn` | Spawn animation | No |\n\n### Behavior Animations\n\n| State | Description |\n|-------|-------------|\n| `Alerted` | Noticed threat |\n| `Threaten` | Warning posture |\n| `Sleep` | Sleeping |\n| `Laydown` | Lie down transition |\n| `Wake` | Wake up transition |\n| `Crouch` | Crouching idle |\n| `CrouchWalk` | Crouching movement |\n\n### Flavor Animations\n\n| State | Description |\n|-------|-------------|\n| `Howl` | Howling/calling |\n| `Sit` | Sitting |\n| `Greet` | Greeting |\n| `Track` | Tracking/sniffing |\n| `TiltHead` | Head tilt |\n| `Dig` | Digging |\n| `SniffAir` | Sniffing air |\n\n### Swimming Animations\n\n| State | Description |\n|-------|-------------|\n| `SwimIdle` | Floating idle |\n| `Swim` | Normal swimming |\n| `SwimFast` | Fast swimming |\n| `SwimBackward` | Backward swimming |\n| `SwimFloat` | Floating on surface |\n| `SwimSink` | Sinking |\n| `SwimDive` | Diving underwater |\n\n### Flying Animations\n\n| State | Description |\n|-------|-------------|\n| `FlyIdle` | Hovering |\n| `Fly` | Normal flight |\n| `FlyFast` | Fast flight |\n| `FlyBackward` | Backward flight |\n\n### Animation Entry Properties\n\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `Animation` | `string` | Required | Path to `.blockyanim` file |\n| `Speed` | `number` | `1.0` | Playback speed multiplier |\n| `Looping` | `boolean` | `true` | Whether animation loops |\n| `BlendingDuration` | `number` | `0.2` | Blend transition time |\n| `SoundEventId` | `string` | - | Sound to play with animation |\n\n## Role Schema\n\nRoles in `Assets/Server/NPC/Roles/` define NPC behavior, stats, and AI.\n\n### Role Types\n\n| Type | Description |\n|------|-------------|\n| `Generic` | Base role with full configuration |\n| `Variant` | Inherits from another role via `Reference` |\n\n### Core Role Properties\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `Type` | `string` | `\"Generic\"` or `\"Variant\"` |\n| `Reference` | `string` | Parent role (for Variant type) |\n| `Appearance` | `string` | Model definition ID |\n| `MaxHealth` | `number/object` | Health value or compute |\n| `MotionControllerList` | `array` | Movement controllers |\n| `Instructions` | `array` | Behavior tree instructions |\n| `Parameters` | `object` | Configurable parameters |\n| `NameTranslationKey` | `string` | Localization key |\n\n### Variant Role Example\n\n```json title=\"Wolf_Black.json (Role)\"\n{\n  \"Type\": \"Variant\",\n  \"Reference\": \"Template_Predator\",\n  \"Parameters\": {\n    \"Appearance\": {\n      \"Value\": \"Wolf_Black\",\n      \"Description\": \"Model to be used.\"\n    },\n    \"DropList\": {\n      \"Value\": \"Drop_Wolf_Black\",\n      \"Description\": \"Drop Items.\"\n    },\n    \"MaxHealth\": {\n      \"Value\": 70,\n      \"Description\": \"Max health for the NPC\"\n    },\n    \"FlockArray\": {\n      \"Value\": [\"Wolf_Black\"],\n      \"Description\": \"The NPC's flock array\"\n    }\n  },\n  \"Modify\": {\n    \"Appearance\": { \"Compute\": \"Appearance\" },\n    \"AttitudeGroup\": \"PredatorsBig\",\n    \"MaxHealth\": 103,\n    \"MaxSpeed\": 10,\n    \"WanderRadius\": 15,\n    \"ViewRange\": 10,\n    \"HearingRange\": 12,\n    \"AbsoluteDetectionRange\": 2,\n    \"AlertedRange\": 18,\n    \"Attack\": \"Root_NPC_Wolf_Attack\",\n    \"AttackDistance\": 2.5,\n    \"IsMemory\": true,\n    \"MemoriesCategory\": \"Predator\",\n    \"_InteractionVars\": {\n      \"Bite_Damage\": {\n        \"Interactions\": [{\n          \"Parent\": \"Wolf_Bite_Damage\",\n          \"DamageCalculator\": {\n            \"Type\": \"Absolute\",\n            \"BaseDamage\": { \"Physical\": 27 },\n            \"RandomPercentageModifier\": 0.1\n          },\n          \"DamageEffects\": {\n            \"Knockback\": { \"Force\": 1 }\n          }\n        }]\n      }\n    }\n  }\n}\n```\n\n### Behavior Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `WanderRadius` | `number` | Wandering distance from spawn |\n| `ViewRange` | `number` | Visual detection range |\n| `HearingRange` | `number` | Sound detection range |\n| `AbsoluteDetectionRange` | `number` | Always-detect range |\n| `AlertedRange` | `number` | Alert trigger range |\n| `ChaseRelativeSpeed` | `number` | Speed multiplier when chasing |\n| `LeashDistance` | `number` | Max distance from spawn point |\n| `HardLeashDistance` | `number` | Absolute max distance |\n\n### Combat Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `Attack` | `string` | Attack interaction ID |\n| `AttackDistance` | `number` | Attack range |\n| `CombatBehaviorDistance` | `number` | Engage combat range |\n| `CombatDirectWeight` | `number` | Direct approach weight |\n| `CombatStrafeWeight` | `number` | Strafing weight |\n| `CombatBackOffAfterAttack` | `boolean` | Retreat after attacking |\n| `CombatBackOffDistanceRange` | `array` | Retreat distance [min, max] |\n\n### Alert Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `AlertedTime` | `array` | Alert duration [min, max] |\n| `ChanceToBeAlertedWhenFlockAlerted` | `number` | Group alert chance (0-100) |\n| `MaintainDistanceWhileAlerted` | `boolean` | Keep distance when alerted |\n| `ThreatenDelayRange` | `array` | Threaten delay [min, max] |\n| `ThreatenAnimation` | `string` | Animation during threat |\n| `FleeIfNotThreatened` | `boolean` | Flee when not directly threatened |\n| `FleeRange` | `number` | Distance to flee |\n\n## NPC Groups\n\nGroups in `Assets/Server/NPC/Groups/` categorize NPCs for AI interactions.\n\n### Group Structure\n\n```json title=\"Prey.json\"\n{\n  \"IncludeRoles\": [\n    \"Chicken\",\n    \"Chicken_Chick\",\n    \"Rabbit\",\n    \"Mouse\",\n    \"Penguin\"\n  ]\n}\n```\n\n### Predators Group\n\n```json title=\"Predators.json\"\n{\n  \"IncludeRoles\": [\n    \"Fox*\",\n    \"Hyena*\",\n    \"Spark*\",\n    \"Toad*\"\n  ]\n}\n```\n\nNote: Asterisk (`*`) acts as wildcard for role variants.\n\n### Standard Groups\n\n| Group | Purpose |\n|-------|---------|\n| `Prey` | Prey animals |\n| `PreyBig` | Large prey |\n| `Predators` | Small predators |\n| `PredatorsBig` | Large predators |\n| `Critters` | Small critters |\n| `Livestock` | Farm animals |\n| `Birds` | Flying birds |\n| `Aquatic` | Swimming creatures |\n| `Undead` | Undead NPCs |\n| `Void` | Void creatures |\n| `Player` | Player group |\n| `Self` | Self reference |\n\n## Attitude System\n\nAttitudes in `Assets/Server/NPC/Attitude/` define how NPCs react to each other.\n\n### Attitude Types\n\n| Attitude | Description |\n|----------|-------------|\n| `Friendly` | Will not attack |\n| `Neutral` | Ignores unless provoked |\n| `Hostile` | Attacks on sight |\n| `Fearful` | Flees from target |\n\n### Attitude Configuration\n\nAttitudes are configured per group-to-group relationship.\n\n## Spawn Configuration\n\nSpawn files in `Assets/Server/NPC/Spawn/` control where and when NPCs spawn.\n\n### Spawn Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `Roles` | `string[]` | Roles that can spawn |\n| `MinCount` | `number` | Minimum spawn count |\n| `MaxCount` | `number` | Maximum spawn count |\n| `SpawnChance` | `number` | Spawn probability (0-1) |\n| `TimeOfDay` | `string` | Time restriction |\n| `Biomes` | `string[]` | Allowed biomes |\n| `LightLevel` | `object` | Light level requirements |\n\n## Camera Configuration\n\nNPCs can have camera tracking for player control:\n\n```json title=\"Camera configuration\"\n{\n  \"Camera\": {\n    \"Pitch\": {\n      \"AngleRange\": { \"Max\": 45, \"Min\": -45 },\n      \"TargetNodes\": [\"Head\"]\n    },\n    \"Yaw\": {\n      \"AngleRange\": { \"Max\": 45, \"Min\": -45 },\n      \"TargetNodes\": [\"Head\"]\n    }\n  }\n}\n```\n\n## Creating Custom NPCs\n\n### Step 1: Create Model Definition\n\n```json title=\"MyPlugin_Wolf_Custom.json\"\n{\n  \"Model\": \"MyPlugin/NPC/Wolf/Model.blockymodel\",\n  \"Texture\": \"MyPlugin/NPC/Wolf/Texture.png\",\n  \"EyeHeight\": 1.0,\n  \"HitBox\": {\n    \"Min\": { \"X\": -0.5, \"Y\": 0, \"Z\": -0.5 },\n    \"Max\": { \"X\": 0.5, \"Y\": 1.5, \"Z\": 0.5 }\n  },\n  \"MinScale\": 0.9,\n  \"MaxScale\": 1.1,\n  \"AnimationSets\": {\n    \"Idle\": {\n      \"Animations\": [{\n        \"Animation\": \"MyPlugin/NPC/Wolf/Animations/Idle.blockyanim\",\n        \"Speed\": 0.6\n      }]\n    },\n    \"Walk\": {\n      \"Animations\": [{\n        \"Animation\": \"MyPlugin/NPC/Wolf/Animations/Walk.blockyanim\",\n        \"Speed\": 1.0\n      }]\n    },\n    \"Run\": {\n      \"Animations\": [{\n        \"Animation\": \"MyPlugin/NPC/Wolf/Animations/Run.blockyanim\",\n        \"Speed\": 0.9\n      }]\n    },\n    \"Hurt\": {\n      \"Animations\": [{\n        \"Animation\": \"MyPlugin/NPC/Wolf/Animations/Hurt.blockyanim\",\n        \"Looping\": false,\n        \"BlendingDuration\": 0.1\n      }]\n    },\n    \"Death\": {\n      \"Animations\": [{\n        \"Animation\": \"MyPlugin/NPC/Wolf/Animations/Death.blockyanim\",\n        \"Looping\": false\n      }]\n    }\n  }\n}\n```\n\n### Step 2: Create Role Definition\n\n```json title=\"MyPlugin_Wolf_Custom_Role.json\"\n{\n  \"Type\": \"Variant\",\n  \"Reference\": \"Template_Predator\",\n  \"Parameters\": {\n    \"Appearance\": {\n      \"Value\": \"MyPlugin_Wolf_Custom\",\n      \"Description\": \"Custom wolf model\"\n    },\n    \"MaxHealth\": {\n      \"Value\": 80,\n      \"Description\": \"Max health\"\n    },\n    \"DropList\": {\n      \"Value\": \"MyPlugin_Wolf_Drops\",\n      \"Description\": \"Loot drops\"\n    }\n  },\n  \"Modify\": {\n    \"Appearance\": { \"Compute\": \"Appearance\" },\n    \"AttitudeGroup\": \"Predators\",\n    \"MaxHealth\": { \"Compute\": \"MaxHealth\" },\n    \"MaxSpeed\": 9,\n    \"WanderRadius\": 20,\n    \"ViewRange\": 12,\n    \"Attack\": \"MyPlugin_Wolf_Attack\",\n    \"AttackDistance\": 2.0,\n    \"_InteractionVars\": {\n      \"Bite_Damage\": {\n        \"Interactions\": [{\n          \"DamageCalculator\": {\n            \"Type\": \"Absolute\",\n            \"BaseDamage\": { \"Physical\": 15 }\n          }\n        }]\n      }\n    },\n    \"NameTranslationKey\": \"myplugin.npc.wolf_custom.name\"\n  }\n}\n```\n\n### Step 3: Add to NPC Group (Optional)\n\n```json title=\"MyPlugin_Predators.json\"\n{\n  \"IncludeRoles\": [\n    \"MyPlugin_Wolf_Custom\"\n  ]\n}\n```\n\n## File Structure\n\n\u003CFileTree>\n- my-plugin/\n  - assets/\n    - server/\n      - models/\n        - beast/\n          - MyPlugin_Wolf_Custom.json\n      - npc/\n        - roles/\n          - creature/\n            - MyPlugin_Wolf_Custom.json\n        - groups/\n          - MyPlugin_Predators.json\n    - common/\n      - npc/\n        - beast/\n          - my_wolf/\n            - Model.blockymodel\n            - Texture.png\n            - animations/\n              - Idle.blockyanim\n              - Walk.blockyanim\n              - Run.blockyanim\n\u003C/FileTree>\n\n## Best Practices\n\n1. **Use role variants**: Inherit from templates like `Template_Predator` rather than creating from scratch\n2. **Group related NPCs**: Use groups for AI relationships\n3. **Configure appropriate ranges**: Balance view/hearing ranges for gameplay\n4. **Include all required animations**: At minimum: Idle, Walk, Run, Hurt, Death\n5. **Scale hitboxes appropriately**: Match hitbox to visual model size\n6. **Use descriptive Parameters**: Document values for maintainability\n7. **Prefix IDs**: Use plugin name prefix for all custom NPCs\n8. **Test combat values**: Playtest attack damage and ranges\n\n## Related\n\n- [NPC System Overview](/api-reference/npc/overview/) - Programming API for NPCs\n- [Entity System](/api-reference/entities/overview/) - Entity component system\n- [Blockbench Setup](/tutorials/blockbench/setup/) - Creating NPC models\n- [Plugin Manifest](/getting-started/plugin-manifest/) - Including NPC assets","src/content/docs/api-reference/assets/npcs/overview.mdx","012b503699df7607"]